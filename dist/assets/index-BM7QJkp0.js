function a_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function op(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var ap={exports:{}},xa={},lp={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),l_=Symbol.for("react.portal"),c_=Symbol.for("react.fragment"),u_=Symbol.for("react.strict_mode"),h_=Symbol.for("react.profiler"),d_=Symbol.for("react.provider"),f_=Symbol.for("react.context"),p_=Symbol.for("react.forward_ref"),g_=Symbol.for("react.suspense"),v_=Symbol.for("react.memo"),m_=Symbol.for("react.lazy"),$h=Symbol.iterator;function __(e){return e===null||typeof e!="object"?null:(e=$h&&e[$h]||e["@@iterator"],typeof e=="function"?e:null)}var cp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},up=Object.assign,hp={};function Ei(e,t,r){this.props=e,this.context=t,this.refs=hp,this.updater=r||cp}Ei.prototype.isReactComponent={};Ei.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ei.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dp(){}dp.prototype=Ei.prototype;function _u(e,t,r){this.props=e,this.context=t,this.refs=hp,this.updater=r||cp}var yu=_u.prototype=new dp;yu.constructor=_u;up(yu,Ei.prototype);yu.isPureReactComponent=!0;var zh=Array.isArray,fp=Object.prototype.hasOwnProperty,wu={current:null},pp={key:!0,ref:!0,__self:!0,__source:!0};function gp(e,t,r){var n,i={},o=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)fp.call(t,n)&&!pp.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:js,type:e,key:o,ref:l,props:i,_owner:wu.current}}function y_(e,t){return{$$typeof:js,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Su(e){return typeof e=="object"&&e!==null&&e.$$typeof===js}function w_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Hh=/\/+/g;function ul(e,t){return typeof e=="object"&&e!==null&&e.key!=null?w_(""+e.key):t.toString(36)}function Do(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case js:case l_:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+ul(l,0):n,zh(i)?(r="",e!=null&&(r=e.replace(Hh,"$&/")+"/"),Do(i,t,r,"",function(u){return u})):i!=null&&(Su(i)&&(i=y_(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Hh,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",zh(e))for(var s=0;s<e.length;s++){o=e[s];var a=n+ul(o,s);l+=Do(o,t,r,a,i)}else if(a=__(e),typeof a=="function")for(e=a.call(e),s=0;!(o=e.next()).done;)o=o.value,a=n+ul(o,s++),l+=Do(o,t,r,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Zs(e,t,r){if(e==null)return e;var n=[],i=0;return Do(e,n,"","",function(o){return t.call(r,o,i++)}),n}function S_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},Lo={transition:null},b_={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:Lo,ReactCurrentOwner:wu};function vp(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Zs,forEach:function(e,t,r){Zs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zs(e,function(){t++}),t},toArray:function(e){return Zs(e,function(t){return t})||[]},only:function(e){if(!Su(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Ei;se.Fragment=c_;se.Profiler=h_;se.PureComponent=_u;se.StrictMode=u_;se.Suspense=g_;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b_;se.act=vp;se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=up({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=wu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)fp.call(t,a)&&!pp.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:js,type:e.type,key:i,ref:o,props:n,_owner:l}};se.createContext=function(e){return e={$$typeof:f_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:d_,_context:e},e.Consumer=e};se.createElement=gp;se.createFactory=function(e){var t=gp.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:p_,render:e}};se.isValidElement=Su;se.lazy=function(e){return{$$typeof:m_,_payload:{_status:-1,_result:e},_init:S_}};se.memo=function(e,t){return{$$typeof:v_,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Lo.transition;Lo.transition={};try{e()}finally{Lo.transition=t}};se.unstable_act=vp;se.useCallback=function(e,t){return Xe.current.useCallback(e,t)};se.useContext=function(e){return Xe.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};se.useEffect=function(e,t){return Xe.current.useEffect(e,t)};se.useId=function(){return Xe.current.useId()};se.useImperativeHandle=function(e,t,r){return Xe.current.useImperativeHandle(e,t,r)};se.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Xe.current.useMemo(e,t)};se.useReducer=function(e,t,r){return Xe.current.useReducer(e,t,r)};se.useRef=function(e){return Xe.current.useRef(e)};se.useState=function(e){return Xe.current.useState(e)};se.useSyncExternalStore=function(e,t,r){return Xe.current.useSyncExternalStore(e,t,r)};se.useTransition=function(){return Xe.current.useTransition()};se.version="18.3.1";lp.exports=se;var D=lp.exports;const N=Fs(D),C_=a_({__proto__:null,default:N},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_=D,E_=Symbol.for("react.element"),k_=Symbol.for("react.fragment"),R_=Object.prototype.hasOwnProperty,A_=x_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P_={key:!0,ref:!0,__self:!0,__source:!0};function mp(e,t,r){var n,i={},o=null,l=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)R_.call(t,n)&&!P_.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:E_,type:e,key:o,ref:l,props:i,_owner:A_.current}}xa.Fragment=k_;xa.jsx=mp;xa.jsxs=mp;ap.exports=xa;var L=ap.exports,_p={exports:{}},yt={},yp={exports:{}},wp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,A){var M=k.length;k.push(A);e:for(;0<M;){var B=M-1>>>1,W=k[B];if(0<i(W,A))k[B]=A,k[M]=W,M=B;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var A=k[0],M=k.pop();if(M!==A){k[0]=M;e:for(var B=0,W=k.length,K=W>>>1;B<K;){var q=2*(B+1)-1,X=k[q],ee=q+1,P=k[ee];if(0>i(X,M))ee<W&&0>i(P,X)?(k[B]=P,k[ee]=M,B=ee):(k[B]=X,k[q]=M,B=q);else if(ee<W&&0>i(P,M))k[B]=P,k[ee]=M,B=ee;else break e}}return A}function i(k,A){var M=k.sortIndex-A.sortIndex;return M!==0?M:k.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var a=[],u=[],g=1,f=null,v=3,y=!1,S=!1,_=!1,p=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(k){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=k)n(u),A.sortIndex=A.expirationTime,t(a,A);else break;A=r(u)}}function m(k){if(_=!1,h(k),!S)if(r(a)!==null)S=!0,j(w);else{var A=r(u);A!==null&&H(m,A.startTime-k)}}function w(k,A){S=!1,_&&(_=!1,d(b),b=-1),y=!0;var M=v;try{for(h(A),f=r(a);f!==null&&(!(f.expirationTime>A)||k&&!O());){var B=f.callback;if(typeof B=="function"){f.callback=null,v=f.priorityLevel;var W=B(f.expirationTime<=A);A=e.unstable_now(),typeof W=="function"?f.callback=W:f===r(a)&&n(a),h(A)}else n(a);f=r(a)}if(f!==null)var K=!0;else{var q=r(u);q!==null&&H(m,q.startTime-A),K=!1}return K}finally{f=null,v=M,y=!1}}var C=!1,x=null,b=-1,E=5,R=-1;function O(){return!(e.unstable_now()-R<E)}function T(){if(x!==null){var k=e.unstable_now();R=k;var A=!0;try{A=x(!0,k)}finally{A?I():(C=!1,x=null)}}else C=!1}var I;if(typeof c=="function")I=function(){c(T)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=T,I=function(){z.postMessage(null)}}else I=function(){p(T,0)};function j(k){x=k,C||(C=!0,I())}function H(k,A){b=p(function(){k(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){S||y||(S=!0,j(w))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(k){switch(v){case 1:case 2:case 3:var A=3;break;default:A=v}var M=v;v=A;try{return k()}finally{v=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,A){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var M=v;v=k;try{return A()}finally{v=M}},e.unstable_scheduleCallback=function(k,A,M){var B=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?B+M:B):M=B,k){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=M+W,k={id:g++,callback:A,priorityLevel:k,startTime:M,expirationTime:W,sortIndex:-1},M>B?(k.sortIndex=M,t(u,k),r(a)===null&&k===r(u)&&(_?(d(b),b=-1):_=!0,H(m,M-B))):(k.sortIndex=W,t(a,k),S||y||(S=!0,j(w))),k},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(k){var A=v;return function(){var M=v;v=A;try{return k.apply(this,arguments)}finally{v=M}}}})(wp);yp.exports=wp;var T_=yp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_=D,_t=T_;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sp=new Set,vs={};function En(e,t){fi(e,t),fi(e+"Capture",t)}function fi(e,t){for(vs[e]=t,e=0;e<t.length;e++)Sp.add(t[e])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sc=Object.prototype.hasOwnProperty,L_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wh={},Uh={};function M_(e){return sc.call(Uh,e)?!0:sc.call(Wh,e)?!1:L_.test(e)?Uh[e]=!0:(Wh[e]=!0,!1)}function O_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I_(e,t,r,n){if(t===null||typeof t>"u"||O_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,r,n,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ne[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ne[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ne[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ne[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ne[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ne[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ne[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ne[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ne[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var bu=/[\-:]([a-z])/g;function Cu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bu,Cu);Ne[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bu,Cu);Ne[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bu,Cu);Ne[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ne[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ne[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function xu(e,t,r,n){var i=Ne.hasOwnProperty(t)?Ne[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I_(t,r,i,n)&&(r=null),n||i===null?M_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var mr=D_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qs=Symbol.for("react.element"),Wn=Symbol.for("react.portal"),Un=Symbol.for("react.fragment"),Eu=Symbol.for("react.strict_mode"),oc=Symbol.for("react.profiler"),bp=Symbol.for("react.provider"),Cp=Symbol.for("react.context"),ku=Symbol.for("react.forward_ref"),ac=Symbol.for("react.suspense"),lc=Symbol.for("react.suspense_list"),Ru=Symbol.for("react.memo"),Dr=Symbol.for("react.lazy"),xp=Symbol.for("react.offscreen"),Vh=Symbol.iterator;function Fi(e){return e===null||typeof e!="object"?null:(e=Vh&&e[Vh]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,hl;function Zi(e){if(hl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hl=t&&t[1]||""}return`
`+hl+e}var dl=!1;function fl(e,t){if(!e||dl)return"";dl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(l!==1||s!==1)do if(l--,s--,0>s||i[l]!==o[s]){var a=`
`+i[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=s);break}}}finally{dl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zi(e):""}function B_(e){switch(e.tag){case 5:return Zi(e.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 2:case 15:return e=fl(e.type,!1),e;case 11:return e=fl(e.type.render,!1),e;case 1:return e=fl(e.type,!0),e;default:return""}}function cc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Un:return"Fragment";case Wn:return"Portal";case oc:return"Profiler";case Eu:return"StrictMode";case ac:return"Suspense";case lc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cp:return(e.displayName||"Context")+".Consumer";case bp:return(e._context.displayName||"Context")+".Provider";case ku:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ru:return t=e.displayName||null,t!==null?t:cc(e.type)||"Memo";case Dr:t=e._payload,e=e._init;try{return cc(e(t))}catch{}}return null}function N_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cc(t);case 8:return t===Eu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ep(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function F_(e){var t=Ep(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function eo(e){e._valueTracker||(e._valueTracker=F_(e))}function kp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ep(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uc(e,t){var r=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Gh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rp(e,t){t=t.checked,t!=null&&xu(e,"checked",t,!1)}function hc(e,t){Rp(e,t);var r=Xr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dc(e,t.type,r):t.hasOwnProperty("defaultValue")&&dc(e,t.type,Xr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dc(e,t,r){(t!=="number"||Ko(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Qi=Array.isArray;function ni(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function fc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(Qi(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xr(r)}}function Ap(e,t){var r=Xr(t.value),n=Xr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Xh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var to,Tp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(to=to||document.createElement("div"),to.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=to.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ms(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j_=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(e){j_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ss[t]=ss[e]})});function Dp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ss.hasOwnProperty(e)&&ss[e]?(""+t).trim():t+"px"}function Lp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Dp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var $_=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gc(e,t){if(t){if($_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function vc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=null;function Au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _c=null,ii=null,si=null;function Yh(e){if(e=Hs(e)){if(typeof _c!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Pa(t),_c(e.stateNode,e.type,t))}}function Mp(e){ii?si?si.push(e):si=[e]:ii=e}function Op(){if(ii){var e=ii,t=si;if(si=ii=null,Yh(e),t)for(e=0;e<t.length;e++)Yh(t[e])}}function Ip(e,t){return e(t)}function Bp(){}var pl=!1;function Np(e,t,r){if(pl)return e(t,r);pl=!0;try{return Ip(e,t,r)}finally{pl=!1,(ii!==null||si!==null)&&(Bp(),Op())}}function _s(e,t){var r=e.stateNode;if(r===null)return null;var n=Pa(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var yc=!1;if(ur)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){yc=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{yc=!1}function z_(e,t,r,n,i,o,l,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(g){this.onError(g)}}var os=!1,qo=null,Xo=!1,wc=null,H_={onError:function(e){os=!0,qo=e}};function W_(e,t,r,n,i,o,l,s,a){os=!1,qo=null,z_.apply(H_,arguments)}function U_(e,t,r,n,i,o,l,s,a){if(W_.apply(this,arguments),os){if(os){var u=qo;os=!1,qo=null}else throw Error(G(198));Xo||(Xo=!0,wc=u)}}function kn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Fp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jh(e){if(kn(e)!==e)throw Error(G(188))}function V_(e){var t=e.alternate;if(!t){if(t=kn(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Jh(i),e;if(o===n)return Jh(i),t;o=o.sibling}throw Error(G(188))}if(r.return!==n.return)r=i,n=o;else{for(var l=!1,s=i.child;s;){if(s===r){l=!0,r=i,n=o;break}if(s===n){l=!0,n=i,r=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===r){l=!0,r=o,n=i;break}if(s===n){l=!0,n=o,r=i;break}s=s.sibling}if(!l)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function jp(e){return e=V_(e),e!==null?$p(e):null}function $p(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$p(e);if(t!==null)return t;e=e.sibling}return null}var zp=_t.unstable_scheduleCallback,Zh=_t.unstable_cancelCallback,G_=_t.unstable_shouldYield,K_=_t.unstable_requestPaint,Ee=_t.unstable_now,q_=_t.unstable_getCurrentPriorityLevel,Pu=_t.unstable_ImmediatePriority,Hp=_t.unstable_UserBlockingPriority,Yo=_t.unstable_NormalPriority,X_=_t.unstable_LowPriority,Wp=_t.unstable_IdlePriority,Ea=null,Xt=null;function Y_(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Ea,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Q_,J_=Math.log,Z_=Math.LN2;function Q_(e){return e>>>=0,e===0?32:31-(J_(e)/Z_|0)|0}var ro=64,no=4194304;function es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,l=r&268435455;if(l!==0){var s=l&~i;s!==0?n=es(s):(o&=l,o!==0&&(n=es(o)))}else l=r&~i,l!==0?n=es(l):o!==0&&(n=es(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Nt(t),i=1<<r,n|=e[r],t&=~i;return n}function e1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t1(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Nt(o),s=1<<l,a=i[l];a===-1?(!(s&r)||s&n)&&(i[l]=e1(s,t)):a<=t&&(e.expiredLanes|=s),o&=~s}}function Sc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Up(){var e=ro;return ro<<=1,!(ro&4194240)&&(ro=64),e}function gl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function $s(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=r}function r1(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Nt(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function Tu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Nt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ce=0;function Vp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gp,Du,Kp,qp,Xp,bc=!1,io=[],jr=null,$r=null,zr=null,ys=new Map,ws=new Map,Or=[],n1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qh(e,t){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(t.pointerId)}}function $i(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Hs(t),t!==null&&Du(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function i1(e,t,r,n,i){switch(t){case"focusin":return jr=$i(jr,e,t,r,n,i),!0;case"dragenter":return $r=$i($r,e,t,r,n,i),!0;case"mouseover":return zr=$i(zr,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return ys.set(o,$i(ys.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,ws.set(o,$i(ws.get(o)||null,e,t,r,n,i)),!0}return!1}function Yp(e){var t=hn(e.target);if(t!==null){var r=kn(t);if(r!==null){if(t=r.tag,t===13){if(t=Fp(r),t!==null){e.blockedOn=t,Xp(e.priority,function(){Kp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Cc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);mc=n,r.target.dispatchEvent(n),mc=null}else return t=Hs(r),t!==null&&Du(t),e.blockedOn=r,!1;t.shift()}return!0}function ed(e,t,r){Mo(e)&&r.delete(t)}function s1(){bc=!1,jr!==null&&Mo(jr)&&(jr=null),$r!==null&&Mo($r)&&($r=null),zr!==null&&Mo(zr)&&(zr=null),ys.forEach(ed),ws.forEach(ed)}function zi(e,t){e.blockedOn===t&&(e.blockedOn=null,bc||(bc=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,s1)))}function Ss(e){function t(i){return zi(i,e)}if(0<io.length){zi(io[0],e);for(var r=1;r<io.length;r++){var n=io[r];n.blockedOn===e&&(n.blockedOn=null)}}for(jr!==null&&zi(jr,e),$r!==null&&zi($r,e),zr!==null&&zi(zr,e),ys.forEach(t),ws.forEach(t),r=0;r<Or.length;r++)n=Or[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Or.length&&(r=Or[0],r.blockedOn===null);)Yp(r),r.blockedOn===null&&Or.shift()}var oi=mr.ReactCurrentBatchConfig,Zo=!0;function o1(e,t,r,n){var i=ce,o=oi.transition;oi.transition=null;try{ce=1,Lu(e,t,r,n)}finally{ce=i,oi.transition=o}}function a1(e,t,r,n){var i=ce,o=oi.transition;oi.transition=null;try{ce=4,Lu(e,t,r,n)}finally{ce=i,oi.transition=o}}function Lu(e,t,r,n){if(Zo){var i=Cc(e,t,r,n);if(i===null)El(e,t,n,Qo,r),Qh(e,n);else if(i1(i,e,t,r,n))n.stopPropagation();else if(Qh(e,n),t&4&&-1<n1.indexOf(e)){for(;i!==null;){var o=Hs(i);if(o!==null&&Gp(o),o=Cc(e,t,r,n),o===null&&El(e,t,n,Qo,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else El(e,t,n,null,r)}}var Qo=null;function Cc(e,t,r,n){if(Qo=null,e=Au(n),e=hn(e),e!==null)if(t=kn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Fp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qo=e,null}function Jp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q_()){case Pu:return 1;case Hp:return 4;case Yo:case X_:return 16;case Wp:return 536870912;default:return 16}default:return 16}}var Nr=null,Mu=null,Oo=null;function Zp(){if(Oo)return Oo;var e,t=Mu,r=t.length,n,i="value"in Nr?Nr.value:Nr.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[o-n];n++);return Oo=i.slice(e,1<n?1-n:void 0)}function Io(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function so(){return!0}function td(){return!1}function wt(e){function t(r,n,i,o,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?so:td,this.isPropagationStopped=td,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),t}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ou=wt(ki),zs=Se({},ki,{view:0,detail:0}),l1=wt(zs),vl,ml,Hi,ka=Se({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hi&&(Hi&&e.type==="mousemove"?(vl=e.screenX-Hi.screenX,ml=e.screenY-Hi.screenY):ml=vl=0,Hi=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),rd=wt(ka),c1=Se({},ka,{dataTransfer:0}),u1=wt(c1),h1=Se({},zs,{relatedTarget:0}),_l=wt(h1),d1=Se({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),f1=wt(d1),p1=Se({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g1=wt(p1),v1=Se({},ki,{data:0}),nd=wt(v1),m1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y1[e])?!!t[e]:!1}function Iu(){return w1}var S1=Se({},zs,{key:function(e){if(e.key){var t=m1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Io(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iu,charCode:function(e){return e.type==="keypress"?Io(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Io(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),b1=wt(S1),C1=Se({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=wt(C1),x1=Se({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iu}),E1=wt(x1),k1=Se({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),R1=wt(k1),A1=Se({},ka,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P1=wt(A1),T1=[9,13,27,32],Bu=ur&&"CompositionEvent"in window,as=null;ur&&"documentMode"in document&&(as=document.documentMode);var D1=ur&&"TextEvent"in window&&!as,Qp=ur&&(!Bu||as&&8<as&&11>=as),sd=" ",od=!1;function eg(e,t){switch(e){case"keyup":return T1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vn=!1;function L1(e,t){switch(e){case"compositionend":return tg(t);case"keypress":return t.which!==32?null:(od=!0,sd);case"textInput":return e=t.data,e===sd&&od?null:e;default:return null}}function M1(e,t){if(Vn)return e==="compositionend"||!Bu&&eg(e,t)?(e=Zp(),Oo=Mu=Nr=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qp&&t.locale!=="ko"?null:t.data;default:return null}}var O1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O1[e.type]:t==="textarea"}function rg(e,t,r,n){Mp(n),t=ea(t,"onChange"),0<t.length&&(r=new Ou("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ls=null,bs=null;function I1(e){fg(e,0)}function Ra(e){var t=qn(e);if(kp(t))return e}function B1(e,t){if(e==="change")return t}var ng=!1;if(ur){var yl;if(ur){var wl="oninput"in document;if(!wl){var ld=document.createElement("div");ld.setAttribute("oninput","return;"),wl=typeof ld.oninput=="function"}yl=wl}else yl=!1;ng=yl&&(!document.documentMode||9<document.documentMode)}function cd(){ls&&(ls.detachEvent("onpropertychange",ig),bs=ls=null)}function ig(e){if(e.propertyName==="value"&&Ra(bs)){var t=[];rg(t,bs,e,Au(e)),Np(I1,t)}}function N1(e,t,r){e==="focusin"?(cd(),ls=t,bs=r,ls.attachEvent("onpropertychange",ig)):e==="focusout"&&cd()}function F1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ra(bs)}function j1(e,t){if(e==="click")return Ra(t)}function $1(e,t){if(e==="input"||e==="change")return Ra(t)}function z1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:z1;function Cs(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!sc.call(t,i)||!jt(e[i],t[i]))return!1}return!0}function ud(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hd(e,t){var r=ud(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ud(r)}}function sg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function og(){for(var e=window,t=Ko();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ko(e.document)}return t}function Nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function H1(e){var t=og(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&sg(r.ownerDocument.documentElement,r)){if(n!==null&&Nu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=hd(r,o);var l=hd(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var W1=ur&&"documentMode"in document&&11>=document.documentMode,Gn=null,xc=null,cs=null,Ec=!1;function dd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ec||Gn==null||Gn!==Ko(n)||(n=Gn,"selectionStart"in n&&Nu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cs&&Cs(cs,n)||(cs=n,n=ea(xc,"onSelect"),0<n.length&&(t=new Ou("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Gn)))}function oo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Kn={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionend:oo("Transition","TransitionEnd")},Sl={},ag={};ur&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function Aa(e){if(Sl[e])return Sl[e];if(!Kn[e])return e;var t=Kn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ag)return Sl[e]=t[r];return e}var lg=Aa("animationend"),cg=Aa("animationiteration"),ug=Aa("animationstart"),hg=Aa("transitionend"),dg=new Map,fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,t){dg.set(e,t),En(t,[e])}for(var bl=0;bl<fd.length;bl++){var Cl=fd[bl],U1=Cl.toLowerCase(),V1=Cl[0].toUpperCase()+Cl.slice(1);en(U1,"on"+V1)}en(lg,"onAnimationEnd");en(cg,"onAnimationIteration");en(ug,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(hg,"onTransitionEnd");fi("onMouseEnter",["mouseout","mouseover"]);fi("onMouseLeave",["mouseout","mouseover"]);fi("onPointerEnter",["pointerout","pointerover"]);fi("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ts));function pd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,U_(n,t,void 0,e),e.currentTarget=null}function fg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var l=n.length-1;0<=l;l--){var s=n[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==o&&i.isPropagationStopped())break e;pd(i,s,u),o=a}else for(l=0;l<n.length;l++){if(s=n[l],a=s.instance,u=s.currentTarget,s=s.listener,a!==o&&i.isPropagationStopped())break e;pd(i,s,u),o=a}}}if(Xo)throw e=wc,Xo=!1,wc=null,e}function ge(e,t){var r=t[Tc];r===void 0&&(r=t[Tc]=new Set);var n=e+"__bubble";r.has(n)||(pg(t,e,2,!1),r.add(n))}function xl(e,t,r){var n=0;t&&(n|=4),pg(r,e,n,t)}var ao="_reactListening"+Math.random().toString(36).slice(2);function xs(e){if(!e[ao]){e[ao]=!0,Sp.forEach(function(r){r!=="selectionchange"&&(G1.has(r)||xl(r,!1,e),xl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ao]||(t[ao]=!0,xl("selectionchange",!1,t))}}function pg(e,t,r,n){switch(Jp(t)){case 1:var i=o1;break;case 4:i=a1;break;default:i=Lu}r=i.bind(null,t,r,e),i=void 0,!yc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function El(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;s!==null;){if(l=hn(s),l===null)return;if(a=l.tag,a===5||a===6){n=o=l;continue e}s=s.parentNode}}n=n.return}Np(function(){var u=o,g=Au(r),f=[];e:{var v=dg.get(e);if(v!==void 0){var y=Ou,S=e;switch(e){case"keypress":if(Io(r)===0)break e;case"keydown":case"keyup":y=b1;break;case"focusin":S="focus",y=_l;break;case"focusout":S="blur",y=_l;break;case"beforeblur":case"afterblur":y=_l;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=u1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=E1;break;case lg:case cg:case ug:y=f1;break;case hg:y=R1;break;case"scroll":y=l1;break;case"wheel":y=P1;break;case"copy":case"cut":case"paste":y=g1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=id}var _=(t&4)!==0,p=!_&&e==="scroll",d=_?v!==null?v+"Capture":null:v;_=[];for(var c=u,h;c!==null;){h=c;var m=h.stateNode;if(h.tag===5&&m!==null&&(h=m,d!==null&&(m=_s(c,d),m!=null&&_.push(Es(c,m,h)))),p)break;c=c.return}0<_.length&&(v=new y(v,S,null,r,g),f.push({event:v,listeners:_}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",v&&r!==mc&&(S=r.relatedTarget||r.fromElement)&&(hn(S)||S[hr]))break e;if((y||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,y?(S=r.relatedTarget||r.toElement,y=u,S=S?hn(S):null,S!==null&&(p=kn(S),S!==p||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=u),y!==S)){if(_=rd,m="onMouseLeave",d="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(_=id,m="onPointerLeave",d="onPointerEnter",c="pointer"),p=y==null?v:qn(y),h=S==null?v:qn(S),v=new _(m,c+"leave",y,r,g),v.target=p,v.relatedTarget=h,m=null,hn(g)===u&&(_=new _(d,c+"enter",S,r,g),_.target=h,_.relatedTarget=p,m=_),p=m,y&&S)t:{for(_=y,d=S,c=0,h=_;h;h=On(h))c++;for(h=0,m=d;m;m=On(m))h++;for(;0<c-h;)_=On(_),c--;for(;0<h-c;)d=On(d),h--;for(;c--;){if(_===d||d!==null&&_===d.alternate)break t;_=On(_),d=On(d)}_=null}else _=null;y!==null&&gd(f,v,y,_,!1),S!==null&&p!==null&&gd(f,p,S,_,!0)}}e:{if(v=u?qn(u):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var w=B1;else if(ad(v))if(ng)w=$1;else{w=F1;var C=N1}else(y=v.nodeName)&&y.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(w=j1);if(w&&(w=w(e,u))){rg(f,w,r,g);break e}C&&C(e,v,u),e==="focusout"&&(C=v._wrapperState)&&C.controlled&&v.type==="number"&&dc(v,"number",v.value)}switch(C=u?qn(u):window,e){case"focusin":(ad(C)||C.contentEditable==="true")&&(Gn=C,xc=u,cs=null);break;case"focusout":cs=xc=Gn=null;break;case"mousedown":Ec=!0;break;case"contextmenu":case"mouseup":case"dragend":Ec=!1,dd(f,r,g);break;case"selectionchange":if(W1)break;case"keydown":case"keyup":dd(f,r,g)}var x;if(Bu)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?eg(e,r)&&(b="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(Qp&&r.locale!=="ko"&&(Vn||b!=="onCompositionStart"?b==="onCompositionEnd"&&Vn&&(x=Zp()):(Nr=g,Mu="value"in Nr?Nr.value:Nr.textContent,Vn=!0)),C=ea(u,b),0<C.length&&(b=new nd(b,e,null,r,g),f.push({event:b,listeners:C}),x?b.data=x:(x=tg(r),x!==null&&(b.data=x)))),(x=D1?L1(e,r):M1(e,r))&&(u=ea(u,"onBeforeInput"),0<u.length&&(g=new nd("onBeforeInput","beforeinput",null,r,g),f.push({event:g,listeners:u}),g.data=x))}fg(f,t)})}function Es(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ea(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=_s(e,r),o!=null&&n.unshift(Es(e,o,i)),o=_s(e,t),o!=null&&n.push(Es(e,o,i))),e=e.return}return n}function On(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gd(e,t,r,n,i){for(var o=t._reactName,l=[];r!==null&&r!==n;){var s=r,a=s.alternate,u=s.stateNode;if(a!==null&&a===n)break;s.tag===5&&u!==null&&(s=u,i?(a=_s(r,o),a!=null&&l.unshift(Es(r,a,s))):i||(a=_s(r,o),a!=null&&l.push(Es(r,a,s)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var K1=/\r\n?/g,q1=/\u0000|\uFFFD/g;function vd(e){return(typeof e=="string"?e:""+e).replace(K1,`
`).replace(q1,"")}function lo(e,t,r){if(t=vd(t),vd(e)!==t&&r)throw Error(G(425))}function ta(){}var kc=null,Rc=null;function Ac(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pc=typeof setTimeout=="function"?setTimeout:void 0,X1=typeof clearTimeout=="function"?clearTimeout:void 0,md=typeof Promise=="function"?Promise:void 0,Y1=typeof queueMicrotask=="function"?queueMicrotask:typeof md<"u"?function(e){return md.resolve(null).then(e).catch(J1)}:Pc;function J1(e){setTimeout(function(){throw e})}function kl(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ss(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ss(t)}function Hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _d(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ri=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Ri,ks="__reactProps$"+Ri,hr="__reactContainer$"+Ri,Tc="__reactEvents$"+Ri,Z1="__reactListeners$"+Ri,Q1="__reactHandles$"+Ri;function hn(e){var t=e[Kt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hr]||r[Kt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_d(e);e!==null;){if(r=e[Kt])return r;e=_d(e)}return t}e=r,r=e.parentNode}return null}function Hs(e){return e=e[Kt]||e[hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Pa(e){return e[ks]||null}var Dc=[],Xn=-1;function tn(e){return{current:e}}function ve(e){0>Xn||(e.current=Dc[Xn],Dc[Xn]=null,Xn--)}function fe(e,t){Xn++,Dc[Xn]=e.current,e.current=t}var Yr={},Ue=tn(Yr),it=tn(!1),_n=Yr;function pi(e,t){var r=e.type.contextTypes;if(!r)return Yr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function st(e){return e=e.childContextTypes,e!=null}function ra(){ve(it),ve(Ue)}function yd(e,t,r){if(Ue.current!==Yr)throw Error(G(168));fe(Ue,t),fe(it,r)}function gg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(G(108,N_(e)||"Unknown",i));return Se({},r,n)}function na(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yr,_n=Ue.current,fe(Ue,e),fe(it,it.current),!0}function wd(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=gg(e,t,_n),n.__reactInternalMemoizedMergedChildContext=e,ve(it),ve(Ue),fe(Ue,e)):ve(it),fe(it,r)}var or=null,Ta=!1,Rl=!1;function vg(e){or===null?or=[e]:or.push(e)}function ey(e){Ta=!0,vg(e)}function rn(){if(!Rl&&or!==null){Rl=!0;var e=0,t=ce;try{var r=or;for(ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}or=null,Ta=!1}catch(i){throw or!==null&&(or=or.slice(e+1)),zp(Pu,rn),i}finally{ce=t,Rl=!1}}return null}var Yn=[],Jn=0,ia=null,sa=0,bt=[],Ct=0,yn=null,ar=1,lr="";function an(e,t){Yn[Jn++]=sa,Yn[Jn++]=ia,ia=e,sa=t}function mg(e,t,r){bt[Ct++]=ar,bt[Ct++]=lr,bt[Ct++]=yn,yn=e;var n=ar;e=lr;var i=32-Nt(n)-1;n&=~(1<<i),r+=1;var o=32-Nt(t)+i;if(30<o){var l=i-i%5;o=(n&(1<<l)-1).toString(32),n>>=l,i-=l,ar=1<<32-Nt(t)+i|r<<i|n,lr=o+e}else ar=1<<o|r<<i|n,lr=e}function Fu(e){e.return!==null&&(an(e,1),mg(e,1,0))}function ju(e){for(;e===ia;)ia=Yn[--Jn],Yn[Jn]=null,sa=Yn[--Jn],Yn[Jn]=null;for(;e===yn;)yn=bt[--Ct],bt[Ct]=null,lr=bt[--Ct],bt[Ct]=null,ar=bt[--Ct],bt[Ct]=null}var pt=null,ft=null,me=!1,Bt=null;function _g(e,t){var r=xt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Sd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ft=Hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yn!==null?{id:ar,overflow:lr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=xt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pt=e,ft=null,!0):!1;default:return!1}}function Lc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mc(e){if(me){var t=ft;if(t){var r=t;if(!Sd(e,t)){if(Lc(e))throw Error(G(418));t=Hr(r.nextSibling);var n=pt;t&&Sd(e,t)?_g(n,r):(e.flags=e.flags&-4097|2,me=!1,pt=e)}}else{if(Lc(e))throw Error(G(418));e.flags=e.flags&-4097|2,me=!1,pt=e}}}function bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function co(e){if(e!==pt)return!1;if(!me)return bd(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ac(e.type,e.memoizedProps)),t&&(t=ft)){if(Lc(e))throw yg(),Error(G(418));for(;t;)_g(e,t),t=Hr(t.nextSibling)}if(bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ft=Hr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ft=null}}else ft=pt?Hr(e.stateNode.nextSibling):null;return!0}function yg(){for(var e=ft;e;)e=Hr(e.nextSibling)}function gi(){ft=pt=null,me=!1}function $u(e){Bt===null?Bt=[e]:Bt.push(e)}var ty=mr.ReactCurrentBatchConfig;function Wi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var s=i.refs;l===null?delete s[o]:s[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function uo(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cd(e){var t=e._init;return t(e._payload)}function wg(e){function t(d,c){if(e){var h=d.deletions;h===null?(d.deletions=[c],d.flags|=16):h.push(c)}}function r(d,c){if(!e)return null;for(;c!==null;)t(d,c),c=c.sibling;return null}function n(d,c){for(d=new Map;c!==null;)c.key!==null?d.set(c.key,c):d.set(c.index,c),c=c.sibling;return d}function i(d,c){return d=Gr(d,c),d.index=0,d.sibling=null,d}function o(d,c,h){return d.index=h,e?(h=d.alternate,h!==null?(h=h.index,h<c?(d.flags|=2,c):h):(d.flags|=2,c)):(d.flags|=1048576,c)}function l(d){return e&&d.alternate===null&&(d.flags|=2),d}function s(d,c,h,m){return c===null||c.tag!==6?(c=Ol(h,d.mode,m),c.return=d,c):(c=i(c,h),c.return=d,c)}function a(d,c,h,m){var w=h.type;return w===Un?g(d,c,h.props.children,m,h.key):c!==null&&(c.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dr&&Cd(w)===c.type)?(m=i(c,h.props),m.ref=Wi(d,c,h),m.return=d,m):(m=Ho(h.type,h.key,h.props,null,d.mode,m),m.ref=Wi(d,c,h),m.return=d,m)}function u(d,c,h,m){return c===null||c.tag!==4||c.stateNode.containerInfo!==h.containerInfo||c.stateNode.implementation!==h.implementation?(c=Il(h,d.mode,m),c.return=d,c):(c=i(c,h.children||[]),c.return=d,c)}function g(d,c,h,m,w){return c===null||c.tag!==7?(c=vn(h,d.mode,m,w),c.return=d,c):(c=i(c,h),c.return=d,c)}function f(d,c,h){if(typeof c=="string"&&c!==""||typeof c=="number")return c=Ol(""+c,d.mode,h),c.return=d,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Qs:return h=Ho(c.type,c.key,c.props,null,d.mode,h),h.ref=Wi(d,null,c),h.return=d,h;case Wn:return c=Il(c,d.mode,h),c.return=d,c;case Dr:var m=c._init;return f(d,m(c._payload),h)}if(Qi(c)||Fi(c))return c=vn(c,d.mode,h,null),c.return=d,c;uo(d,c)}return null}function v(d,c,h,m){var w=c!==null?c.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return w!==null?null:s(d,c,""+h,m);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Qs:return h.key===w?a(d,c,h,m):null;case Wn:return h.key===w?u(d,c,h,m):null;case Dr:return w=h._init,v(d,c,w(h._payload),m)}if(Qi(h)||Fi(h))return w!==null?null:g(d,c,h,m,null);uo(d,h)}return null}function y(d,c,h,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return d=d.get(h)||null,s(c,d,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Qs:return d=d.get(m.key===null?h:m.key)||null,a(c,d,m,w);case Wn:return d=d.get(m.key===null?h:m.key)||null,u(c,d,m,w);case Dr:var C=m._init;return y(d,c,h,C(m._payload),w)}if(Qi(m)||Fi(m))return d=d.get(h)||null,g(c,d,m,w,null);uo(c,m)}return null}function S(d,c,h,m){for(var w=null,C=null,x=c,b=c=0,E=null;x!==null&&b<h.length;b++){x.index>b?(E=x,x=null):E=x.sibling;var R=v(d,x,h[b],m);if(R===null){x===null&&(x=E);break}e&&x&&R.alternate===null&&t(d,x),c=o(R,c,b),C===null?w=R:C.sibling=R,C=R,x=E}if(b===h.length)return r(d,x),me&&an(d,b),w;if(x===null){for(;b<h.length;b++)x=f(d,h[b],m),x!==null&&(c=o(x,c,b),C===null?w=x:C.sibling=x,C=x);return me&&an(d,b),w}for(x=n(d,x);b<h.length;b++)E=y(x,d,b,h[b],m),E!==null&&(e&&E.alternate!==null&&x.delete(E.key===null?b:E.key),c=o(E,c,b),C===null?w=E:C.sibling=E,C=E);return e&&x.forEach(function(O){return t(d,O)}),me&&an(d,b),w}function _(d,c,h,m){var w=Fi(h);if(typeof w!="function")throw Error(G(150));if(h=w.call(h),h==null)throw Error(G(151));for(var C=w=null,x=c,b=c=0,E=null,R=h.next();x!==null&&!R.done;b++,R=h.next()){x.index>b?(E=x,x=null):E=x.sibling;var O=v(d,x,R.value,m);if(O===null){x===null&&(x=E);break}e&&x&&O.alternate===null&&t(d,x),c=o(O,c,b),C===null?w=O:C.sibling=O,C=O,x=E}if(R.done)return r(d,x),me&&an(d,b),w;if(x===null){for(;!R.done;b++,R=h.next())R=f(d,R.value,m),R!==null&&(c=o(R,c,b),C===null?w=R:C.sibling=R,C=R);return me&&an(d,b),w}for(x=n(d,x);!R.done;b++,R=h.next())R=y(x,d,b,R.value,m),R!==null&&(e&&R.alternate!==null&&x.delete(R.key===null?b:R.key),c=o(R,c,b),C===null?w=R:C.sibling=R,C=R);return e&&x.forEach(function(T){return t(d,T)}),me&&an(d,b),w}function p(d,c,h,m){if(typeof h=="object"&&h!==null&&h.type===Un&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Qs:e:{for(var w=h.key,C=c;C!==null;){if(C.key===w){if(w=h.type,w===Un){if(C.tag===7){r(d,C.sibling),c=i(C,h.props.children),c.return=d,d=c;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dr&&Cd(w)===C.type){r(d,C.sibling),c=i(C,h.props),c.ref=Wi(d,C,h),c.return=d,d=c;break e}r(d,C);break}else t(d,C);C=C.sibling}h.type===Un?(c=vn(h.props.children,d.mode,m,h.key),c.return=d,d=c):(m=Ho(h.type,h.key,h.props,null,d.mode,m),m.ref=Wi(d,c,h),m.return=d,d=m)}return l(d);case Wn:e:{for(C=h.key;c!==null;){if(c.key===C)if(c.tag===4&&c.stateNode.containerInfo===h.containerInfo&&c.stateNode.implementation===h.implementation){r(d,c.sibling),c=i(c,h.children||[]),c.return=d,d=c;break e}else{r(d,c);break}else t(d,c);c=c.sibling}c=Il(h,d.mode,m),c.return=d,d=c}return l(d);case Dr:return C=h._init,p(d,c,C(h._payload),m)}if(Qi(h))return S(d,c,h,m);if(Fi(h))return _(d,c,h,m);uo(d,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,c!==null&&c.tag===6?(r(d,c.sibling),c=i(c,h),c.return=d,d=c):(r(d,c),c=Ol(h,d.mode,m),c.return=d,d=c),l(d)):r(d,c)}return p}var vi=wg(!0),Sg=wg(!1),oa=tn(null),aa=null,Zn=null,zu=null;function Hu(){zu=Zn=aa=null}function Wu(e){var t=oa.current;ve(oa),e._currentValue=t}function Oc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ai(e,t){aa=e,zu=Zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(zu!==e)if(e={context:e,memoizedValue:t,next:null},Zn===null){if(aa===null)throw Error(G(308));Zn=e,aa.dependencies={lanes:0,firstContext:e}}else Zn=Zn.next=e;return t}var dn=null;function Uu(e){dn===null?dn=[e]:dn.push(e)}function bg(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Uu(t)):(r.next=i.next,i.next=r),t.interleaved=r,dr(e,n)}function dr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lr=!1;function Vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,le&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,dr(e,r)}return i=n.interleaved,i===null?(t.next=t,Uu(n)):(t.next=i.next,i.next=t),n.interleaved=t,dr(e,r)}function Bo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tu(e,r)}}function xd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=l:o=o.next=l,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function la(e,t,r,n){var i=e.updateQueue;Lr=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,u=a.next;a.next=null,l===null?o=u:l.next=u,l=a;var g=e.alternate;g!==null&&(g=g.updateQueue,s=g.lastBaseUpdate,s!==l&&(s===null?g.firstBaseUpdate=u:s.next=u,g.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;l=0,g=u=a=null,s=o;do{var v=s.lane,y=s.eventTime;if((n&v)===v){g!==null&&(g=g.next={eventTime:y,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var S=e,_=s;switch(v=t,y=r,_.tag){case 1:if(S=_.payload,typeof S=="function"){f=S.call(y,f,v);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=_.payload,v=typeof S=="function"?S.call(y,f,v):S,v==null)break e;f=Se({},f,v);break e;case 2:Lr=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[s]:v.push(s))}else y={eventTime:y,lane:v,tag:s.tag,payload:s.payload,callback:s.callback,next:null},g===null?(u=g=y,a=f):g=g.next=y,l|=v;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;v=s,s=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(g===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Sn|=l,e.lanes=l,e.memoizedState=f}}function Ed(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(G(191,i));i.call(n)}}}var Ws={},Yt=tn(Ws),Rs=tn(Ws),As=tn(Ws);function fn(e){if(e===Ws)throw Error(G(174));return e}function Gu(e,t){switch(fe(As,t),fe(Rs,e),fe(Yt,Ws),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pc(t,e)}ve(Yt),fe(Yt,t)}function mi(){ve(Yt),ve(Rs),ve(As)}function xg(e){fn(As.current);var t=fn(Yt.current),r=pc(t,e.type);t!==r&&(fe(Rs,e),fe(Yt,r))}function Ku(e){Rs.current===e&&(ve(Yt),ve(Rs))}var ye=tn(0);function ca(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Al=[];function qu(){for(var e=0;e<Al.length;e++)Al[e]._workInProgressVersionPrimary=null;Al.length=0}var No=mr.ReactCurrentDispatcher,Pl=mr.ReactCurrentBatchConfig,wn=0,we=null,Te=null,Me=null,ua=!1,us=!1,Ps=0,ry=0;function $e(){throw Error(G(321))}function Xu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!jt(e[r],t[r]))return!1;return!0}function Yu(e,t,r,n,i,o){if(wn=o,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,No.current=e===null||e.memoizedState===null?oy:ay,e=r(n,i),us){o=0;do{if(us=!1,Ps=0,25<=o)throw Error(G(301));o+=1,Me=Te=null,t.updateQueue=null,No.current=ly,e=r(n,i)}while(us)}if(No.current=ha,t=Te!==null&&Te.next!==null,wn=0,Me=Te=we=null,ua=!1,t)throw Error(G(300));return e}function Ju(){var e=Ps!==0;return Ps=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?we.memoizedState=Me=e:Me=Me.next=e,Me}function Pt(){if(Te===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Me===null?we.memoizedState:Me.next;if(t!==null)Me=t,Te=e;else{if(e===null)throw Error(G(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Me===null?we.memoizedState=Me=e:Me=Me.next=e}return Me}function Ts(e,t){return typeof t=="function"?t(e):t}function Tl(e){var t=Pt(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=Te,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=l=null,a=null,u=o;do{var g=u.lane;if((wn&g)===g)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:g,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=f,l=n):a=a.next=f,we.lanes|=g,Sn|=g}u=u.next}while(u!==null&&u!==o);a===null?l=n:a.next=s,jt(n,t.memoizedState)||(nt=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=a,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,we.lanes|=o,Sn|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Dl(e){var t=Pt(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);jt(o,t.memoizedState)||(nt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Eg(){}function kg(e,t){var r=we,n=Pt(),i=t(),o=!jt(n.memoizedState,i);if(o&&(n.memoizedState=i,nt=!0),n=n.queue,Zu(Pg.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Me!==null&&Me.memoizedState.tag&1){if(r.flags|=2048,Ds(9,Ag.bind(null,r,n,i,t),void 0,null),Oe===null)throw Error(G(349));wn&30||Rg(r,t,i)}return i}function Rg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ag(e,t,r,n){t.value=r,t.getSnapshot=n,Tg(t)&&Dg(e)}function Pg(e,t,r){return r(function(){Tg(t)&&Dg(e)})}function Tg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!jt(e,r)}catch{return!0}}function Dg(e){var t=dr(e,1);t!==null&&Ft(t,e,1,-1)}function kd(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:e},t.queue=e,e=e.dispatch=sy.bind(null,we,e),[t.memoizedState,e]}function Ds(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Lg(){return Pt().memoizedState}function Fo(e,t,r,n){var i=Vt();we.flags|=e,i.memoizedState=Ds(1|t,r,void 0,n===void 0?null:n)}function Da(e,t,r,n){var i=Pt();n=n===void 0?null:n;var o=void 0;if(Te!==null){var l=Te.memoizedState;if(o=l.destroy,n!==null&&Xu(n,l.deps)){i.memoizedState=Ds(t,r,o,n);return}}we.flags|=e,i.memoizedState=Ds(1|t,r,o,n)}function Rd(e,t){return Fo(8390656,8,e,t)}function Zu(e,t){return Da(2048,8,e,t)}function Mg(e,t){return Da(4,2,e,t)}function Og(e,t){return Da(4,4,e,t)}function Ig(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bg(e,t,r){return r=r!=null?r.concat([e]):null,Da(4,4,Ig.bind(null,t,e),r)}function Qu(){}function Ng(e,t){var r=Pt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Fg(e,t){var r=Pt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jg(e,t,r){return wn&21?(jt(r,t)||(r=Up(),we.lanes|=r,Sn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=r)}function ny(e,t){var r=ce;ce=r!==0&&4>r?r:4,e(!0);var n=Pl.transition;Pl.transition={};try{e(!1),t()}finally{ce=r,Pl.transition=n}}function $g(){return Pt().memoizedState}function iy(e,t,r){var n=Vr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zg(e))Hg(t,r);else if(r=bg(e,t,r,n),r!==null){var i=qe();Ft(r,e,n,i),Wg(r,t,n)}}function sy(e,t,r){var n=Vr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zg(e))Hg(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,s=o(l,r);if(i.hasEagerState=!0,i.eagerState=s,jt(s,l)){var a=t.interleaved;a===null?(i.next=i,Uu(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}r=bg(e,t,i,n),r!==null&&(i=qe(),Ft(r,e,n,i),Wg(r,t,n))}}function zg(e){var t=e.alternate;return e===we||t!==null&&t===we}function Hg(e,t){us=ua=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Wg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tu(e,r)}}var ha={readContext:At,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},oy={readContext:At,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:Rd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fo(4194308,4,Ig.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fo(4,2,e,t)},useMemo:function(e,t){var r=Vt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Vt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=iy.bind(null,we,e),[n.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:kd,useDebugValue:Qu,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=kd(!1),t=e[0];return e=ny.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=we,i=Vt();if(me){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),Oe===null)throw Error(G(349));wn&30||Rg(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,Rd(Pg.bind(null,n,o,e),[e]),n.flags|=2048,Ds(9,Ag.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Vt(),t=Oe.identifierPrefix;if(me){var r=lr,n=ar;r=(n&~(1<<32-Nt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ps++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ry++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ay={readContext:At,useCallback:Ng,useContext:At,useEffect:Zu,useImperativeHandle:Bg,useInsertionEffect:Mg,useLayoutEffect:Og,useMemo:Fg,useReducer:Tl,useRef:Lg,useState:function(){return Tl(Ts)},useDebugValue:Qu,useDeferredValue:function(e){var t=Pt();return jg(t,Te.memoizedState,e)},useTransition:function(){var e=Tl(Ts)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Eg,useSyncExternalStore:kg,useId:$g,unstable_isNewReconciler:!1},ly={readContext:At,useCallback:Ng,useContext:At,useEffect:Zu,useImperativeHandle:Bg,useInsertionEffect:Mg,useLayoutEffect:Og,useMemo:Fg,useReducer:Dl,useRef:Lg,useState:function(){return Dl(Ts)},useDebugValue:Qu,useDeferredValue:function(e){var t=Pt();return Te===null?t.memoizedState=e:jg(t,Te.memoizedState,e)},useTransition:function(){var e=Dl(Ts)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Eg,useSyncExternalStore:kg,useId:$g,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ic(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var La={isMounted:function(e){return(e=e._reactInternals)?kn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=qe(),i=Vr(e),o=cr(n,i);o.payload=t,r!=null&&(o.callback=r),t=Wr(e,o,i),t!==null&&(Ft(t,e,i,n),Bo(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=qe(),i=Vr(e),o=cr(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Wr(e,o,i),t!==null&&(Ft(t,e,i,n),Bo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qe(),n=Vr(e),i=cr(r,n);i.tag=2,t!=null&&(i.callback=t),t=Wr(e,i,n),t!==null&&(Ft(t,e,n,r),Bo(t,e,n))}};function Ad(e,t,r,n,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,l):t.prototype&&t.prototype.isPureReactComponent?!Cs(r,n)||!Cs(i,o):!0}function Ug(e,t,r){var n=!1,i=Yr,o=t.contextType;return typeof o=="object"&&o!==null?o=At(o):(i=st(t)?_n:Ue.current,n=t.contextTypes,o=(n=n!=null)?pi(e,i):Yr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=La,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Pd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&La.enqueueReplaceState(t,t.state,null)}function Bc(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Vu(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=At(o):(o=st(t)?_n:Ue.current,i.context=pi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ic(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&La.enqueueReplaceState(i,i.state,null),la(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function _i(e,t){try{var r="",n=t;do r+=B_(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ll(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Nc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var cy=typeof WeakMap=="function"?WeakMap:Map;function Vg(e,t,r){r=cr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){fa||(fa=!0,Kc=n),Nc(e,t)},r}function Gg(e,t,r){r=cr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Nc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Nc(e,t),typeof n!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Td(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new cy;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Cy.bind(null,e,t,r),t.then(e,e))}function Dd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ld(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=cr(-1,1),t.tag=2,Wr(r,t,1))),r.lanes|=1),e)}var uy=mr.ReactCurrentOwner,nt=!1;function Ke(e,t,r,n){t.child=e===null?Sg(t,null,r,n):vi(t,e.child,r,n)}function Md(e,t,r,n,i){r=r.render;var o=t.ref;return ai(t,i),n=Yu(e,t,r,n,o,i),r=Ju(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fr(e,t,i)):(me&&r&&Fu(t),t.flags|=1,Ke(e,t,n,i),t.child)}function Od(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!ah(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Kg(e,t,o,n,i)):(e=Ho(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(r=r.compare,r=r!==null?r:Cs,r(l,n)&&e.ref===t.ref)return fr(e,t,i)}return t.flags|=1,e=Gr(o,n),e.ref=t.ref,e.return=t,t.child=e}function Kg(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Cs(o,n)&&e.ref===t.ref)if(nt=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,fr(e,t,i)}return Fc(e,t,r,n,i)}function qg(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(ei,ht),ht|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(ei,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,fe(ei,ht),ht|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,fe(ei,ht),ht|=n;return Ke(e,t,i,r),t.child}function Xg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Fc(e,t,r,n,i){var o=st(r)?_n:Ue.current;return o=pi(t,o),ai(t,i),r=Yu(e,t,r,n,o,i),n=Ju(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fr(e,t,i)):(me&&n&&Fu(t),t.flags|=1,Ke(e,t,r,i),t.child)}function Id(e,t,r,n,i){if(st(r)){var o=!0;na(t)}else o=!1;if(ai(t,i),t.stateNode===null)jo(e,t),Ug(t,r,n),Bc(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,s=t.memoizedProps;l.props=s;var a=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=At(u):(u=st(r)?_n:Ue.current,u=pi(t,u));var g=r.getDerivedStateFromProps,f=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==n||a!==u)&&Pd(t,l,n,u),Lr=!1;var v=t.memoizedState;l.state=v,la(t,n,l,i),a=t.memoizedState,s!==n||v!==a||it.current||Lr?(typeof g=="function"&&(Ic(t,r,g,n),a=t.memoizedState),(s=Lr||Ad(t,r,s,n,v,a,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),l.props=n,l.state=a,l.context=u,n=s):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Cg(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Mt(t.type,s),l.props=u,f=t.pendingProps,v=l.context,a=r.contextType,typeof a=="object"&&a!==null?a=At(a):(a=st(r)?_n:Ue.current,a=pi(t,a));var y=r.getDerivedStateFromProps;(g=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==f||v!==a)&&Pd(t,l,n,a),Lr=!1,v=t.memoizedState,l.state=v,la(t,n,l,i);var S=t.memoizedState;s!==f||v!==S||it.current||Lr?(typeof y=="function"&&(Ic(t,r,y,n),S=t.memoizedState),(u=Lr||Ad(t,r,u,n,v,S,a)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,S,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,S,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=S),l.props=n,l.state=S,l.context=a,n=u):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return jc(e,t,r,n,o,i)}function jc(e,t,r,n,i,o){Xg(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&wd(t,r,!1),fr(e,t,o);n=t.stateNode,uy.current=t;var s=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=vi(t,e.child,null,o),t.child=vi(t,null,s,o)):Ke(e,t,s,o),t.memoizedState=n.state,i&&wd(t,r,!0),t.child}function Yg(e){var t=e.stateNode;t.pendingContext?yd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yd(e,t.context,!1),Gu(e,t.containerInfo)}function Bd(e,t,r,n,i){return gi(),$u(i),t.flags|=256,Ke(e,t,r,n),t.child}var $c={dehydrated:null,treeContext:null,retryLane:0};function zc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jg(e,t,r){var n=t.pendingProps,i=ye.current,o=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),fe(ye,i&1),e===null)return Mc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,o?(n=t.mode,o=t.child,l={mode:"hidden",children:l},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Ia(l,n,0,null),e=vn(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=zc(r),t.memoizedState=$c,e):eh(t,l));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return hy(e,t,l,n,s,i,r);if(o){o=n.fallback,l=t.mode,i=e.child,s=i.sibling;var a={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=Gr(i,a),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Gr(s,o):(o=vn(o,l,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,l=e.child.memoizedState,l=l===null?zc(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=$c,n}return o=e.child,e=o.sibling,n=Gr(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function eh(e,t){return t=Ia({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ho(e,t,r,n){return n!==null&&$u(n),vi(t,e.child,null,r),e=eh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hy(e,t,r,n,i,o,l){if(r)return t.flags&256?(t.flags&=-257,n=Ll(Error(G(422))),ho(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=Ia({mode:"visible",children:n.children},i,0,null),o=vn(o,i,l,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&vi(t,e.child,null,l),t.child.memoizedState=zc(l),t.memoizedState=$c,o);if(!(t.mode&1))return ho(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(G(419)),n=Ll(o,n,void 0),ho(e,t,l,n)}if(s=(l&e.childLanes)!==0,nt||s){if(n=Oe,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,dr(e,i),Ft(n,e,i,-1))}return oh(),n=Ll(Error(G(421))),ho(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=xy.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ft=Hr(i.nextSibling),pt=t,me=!0,Bt=null,e!==null&&(bt[Ct++]=ar,bt[Ct++]=lr,bt[Ct++]=yn,ar=e.id,lr=e.overflow,yn=t),t=eh(t,n.children),t.flags|=4096,t)}function Nd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Oc(e.return,t,r)}function Ml(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Zg(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ke(e,t,n.children,r),n=ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nd(e,r,t);else if(e.tag===19)Nd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fe(ye,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&ca(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ml(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ca(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ml(t,!0,r,null,o);break;case"together":Ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Sn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=Gr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dy(e,t,r){switch(t.tag){case 3:Yg(t),gi();break;case 5:xg(t);break;case 1:st(t.type)&&na(t);break;case 4:Gu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;fe(oa,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fe(ye,ye.current&1),t.flags|=128,null):r&t.child.childLanes?Jg(e,t,r):(fe(ye,ye.current&1),e=fr(e,t,r),e!==null?e.sibling:null);fe(ye,ye.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Zg(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(ye,ye.current),n)break;return null;case 22:case 23:return t.lanes=0,qg(e,t,r)}return fr(e,t,r)}var Qg,Hc,ev,tv;Qg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Hc=function(){};ev=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,fn(Yt.current);var o=null;switch(r){case"input":i=uc(e,i),n=uc(e,n),o=[];break;case"select":i=Se({},i,{value:void 0}),n=Se({},n,{value:void 0}),o=[];break;case"textarea":i=fc(e,i),n=fc(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ta)}gc(r,n);var l;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(l in s)s.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var a=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(r||(r={}),r[l]=a[l])}else r||(o||(o=[]),o.push(u,r)),r=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ge("scroll",e),o||s===a||(o=[])):(o=o||[]).push(u,a))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};tv=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ui(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function fy(e,t,r){var n=t.pendingProps;switch(ju(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return st(t.type)&&ra(),ze(t),null;case 3:return n=t.stateNode,mi(),ve(it),ve(Ue),qu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(co(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(Yc(Bt),Bt=null))),Hc(e,t),ze(t),null;case 5:Ku(t);var i=fn(As.current);if(r=t.type,e!==null&&t.stateNode!=null)ev(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return ze(t),null}if(e=fn(Yt.current),co(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Kt]=t,n[ks]=o,e=(t.mode&1)!==0,r){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(i=0;i<ts.length;i++)ge(ts[i],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":Gh(n,o),ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ge("invalid",n);break;case"textarea":qh(n,o),ge("invalid",n)}gc(r,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var s=o[l];l==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&lo(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&lo(n.textContent,s,e),i=["children",""+s]):vs.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&ge("scroll",n)}switch(r){case"input":eo(n),Kh(n,o,!0);break;case"textarea":eo(n),Xh(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ta)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Kt]=t,e[ks]=n,Qg(e,t,!1,!1),t.stateNode=e;e:{switch(l=vc(r,n),r){case"dialog":ge("cancel",e),ge("close",e),i=n;break;case"iframe":case"object":case"embed":ge("load",e),i=n;break;case"video":case"audio":for(i=0;i<ts.length;i++)ge(ts[i],e);i=n;break;case"source":ge("error",e),i=n;break;case"img":case"image":case"link":ge("error",e),ge("load",e),i=n;break;case"details":ge("toggle",e),i=n;break;case"input":Gh(e,n),i=uc(e,n),ge("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Se({},n,{value:void 0}),ge("invalid",e);break;case"textarea":qh(e,n),i=fc(e,n),ge("invalid",e);break;default:i=n}gc(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="style"?Lp(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Tp(e,a)):o==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&ms(e,a):typeof a=="number"&&ms(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(vs.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ge("scroll",e):a!=null&&xu(e,o,a,l))}switch(r){case"input":eo(e),Kh(e,n,!1);break;case"textarea":eo(e),Xh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xr(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?ni(e,!!n.multiple,o,!1):n.defaultValue!=null&&ni(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ta)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)tv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=fn(As.current),fn(Yt.current),co(t)){if(n=t.stateNode,r=t.memoizedProps,n[Kt]=t,(o=n.nodeValue!==r)&&(e=pt,e!==null))switch(e.tag){case 3:lo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lo(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kt]=t,t.stateNode=n}return ze(t),null;case 13:if(ve(ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&ft!==null&&t.mode&1&&!(t.flags&128))yg(),gi(),t.flags|=98560,o=!1;else if(o=co(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(G(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(G(317));o[Kt]=t}else gi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),o=!1}else Bt!==null&&(Yc(Bt),Bt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?De===0&&(De=3):oh())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return mi(),Hc(e,t),e===null&&xs(t.stateNode.containerInfo),ze(t),null;case 10:return Wu(t.type._context),ze(t),null;case 17:return st(t.type)&&ra(),ze(t),null;case 19:if(ve(ye),o=t.memoizedState,o===null)return ze(t),null;if(n=(t.flags&128)!==0,l=o.rendering,l===null)if(n)Ui(o,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ca(e),l!==null){for(t.flags|=128,Ui(o,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fe(ye,ye.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ee()>yi&&(t.flags|=128,n=!0,Ui(o,!1),t.lanes=4194304)}else{if(!n)if(e=ca(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ui(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!me)return ze(t),null}else 2*Ee()-o.renderingStartTime>yi&&r!==1073741824&&(t.flags|=128,n=!0,Ui(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(r=o.last,r!==null?r.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ee(),t.sibling=null,r=ye.current,fe(ye,n?r&1|2:r&1),t):(ze(t),null);case 22:case 23:return sh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ht&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function py(e,t){switch(ju(t),t.tag){case 1:return st(t.type)&&ra(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mi(),ve(it),ve(Ue),qu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ku(t),null;case 13:if(ve(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(ye),null;case 4:return mi(),null;case 10:return Wu(t.type._context),null;case 22:case 23:return sh(),null;case 24:return null;default:return null}}var fo=!1,We=!1,gy=typeof WeakSet=="function"?WeakSet:Set,J=null;function Qn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){be(e,t,n)}else r.current=null}function Wc(e,t,r){try{r()}catch(n){be(e,t,n)}}var Fd=!1;function vy(e,t){if(kc=Zo,e=og(),Nu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var l=0,s=-1,a=-1,u=0,g=0,f=e,v=null;t:for(;;){for(var y;f!==r||i!==0&&f.nodeType!==3||(s=l+i),f!==o||n!==0&&f.nodeType!==3||(a=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(y=f.firstChild)!==null;)v=f,f=y;for(;;){if(f===e)break t;if(v===r&&++u===i&&(s=l),v===o&&++g===n&&(a=l),(y=f.nextSibling)!==null)break;f=v,v=f.parentNode}f=y}r=s===-1||a===-1?null:{start:s,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rc={focusedElem:e,selectionRange:r},Zo=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var _=S.memoizedProps,p=S.memoizedState,d=t.stateNode,c=d.getSnapshotBeforeUpdate(t.elementType===t.type?_:Mt(t.type,_),p);d.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(m){be(t,t.return,m)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return S=Fd,Fd=!1,S}function hs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Wc(t,r,o)}i=i.next}while(i!==n)}}function Ma(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Uc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function rv(e){var t=e.alternate;t!==null&&(e.alternate=null,rv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[ks],delete t[Tc],delete t[Z1],delete t[Q1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nv(e){return e.tag===5||e.tag===3||e.tag===4}function jd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ta));else if(n!==4&&(e=e.child,e!==null))for(Vc(e,t,r),e=e.sibling;e!==null;)Vc(e,t,r),e=e.sibling}function Gc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Gc(e,t,r),e=e.sibling;e!==null;)Gc(e,t,r),e=e.sibling}var Ie=null,Ot=!1;function Cr(e,t,r){for(r=r.child;r!==null;)iv(e,t,r),r=r.sibling}function iv(e,t,r){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Ea,r)}catch{}switch(r.tag){case 5:We||Qn(r,t);case 6:var n=Ie,i=Ot;Ie=null,Cr(e,t,r),Ie=n,Ot=i,Ie!==null&&(Ot?(e=Ie,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ie.removeChild(r.stateNode));break;case 18:Ie!==null&&(Ot?(e=Ie,r=r.stateNode,e.nodeType===8?kl(e.parentNode,r):e.nodeType===1&&kl(e,r),Ss(e)):kl(Ie,r.stateNode));break;case 4:n=Ie,i=Ot,Ie=r.stateNode.containerInfo,Ot=!0,Cr(e,t,r),Ie=n,Ot=i;break;case 0:case 11:case 14:case 15:if(!We&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Wc(r,t,l),i=i.next}while(i!==n)}Cr(e,t,r);break;case 1:if(!We&&(Qn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){be(r,t,s)}Cr(e,t,r);break;case 21:Cr(e,t,r);break;case 22:r.mode&1?(We=(n=We)||r.memoizedState!==null,Cr(e,t,r),We=n):Cr(e,t,r);break;default:Cr(e,t,r)}}function $d(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new gy),t.forEach(function(n){var i=Ey.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Tt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 5:Ie=s.stateNode,Ot=!1;break e;case 3:Ie=s.stateNode.containerInfo,Ot=!0;break e;case 4:Ie=s.stateNode.containerInfo,Ot=!0;break e}s=s.return}if(Ie===null)throw Error(G(160));iv(o,l,i),Ie=null,Ot=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){be(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sv(t,e),t=t.sibling}function sv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Ut(e),n&4){try{hs(3,e,e.return),Ma(3,e)}catch(_){be(e,e.return,_)}try{hs(5,e,e.return)}catch(_){be(e,e.return,_)}}break;case 1:Tt(t,e),Ut(e),n&512&&r!==null&&Qn(r,r.return);break;case 5:if(Tt(t,e),Ut(e),n&512&&r!==null&&Qn(r,r.return),e.flags&32){var i=e.stateNode;try{ms(i,"")}catch(_){be(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=r!==null?r.memoizedProps:o,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Rp(i,o),vc(s,l);var u=vc(s,o);for(l=0;l<a.length;l+=2){var g=a[l],f=a[l+1];g==="style"?Lp(i,f):g==="dangerouslySetInnerHTML"?Tp(i,f):g==="children"?ms(i,f):xu(i,g,f,u)}switch(s){case"input":hc(i,o);break;case"textarea":Ap(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?ni(i,!!o.multiple,y,!1):v!==!!o.multiple&&(o.defaultValue!=null?ni(i,!!o.multiple,o.defaultValue,!0):ni(i,!!o.multiple,o.multiple?[]:"",!1))}i[ks]=o}catch(_){be(e,e.return,_)}}break;case 6:if(Tt(t,e),Ut(e),n&4){if(e.stateNode===null)throw Error(G(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){be(e,e.return,_)}}break;case 3:if(Tt(t,e),Ut(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ss(t.containerInfo)}catch(_){be(e,e.return,_)}break;case 4:Tt(t,e),Ut(e);break;case 13:Tt(t,e),Ut(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(nh=Ee())),n&4&&$d(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(We=(u=We)||g,Tt(t,e),We=u):Tt(t,e),Ut(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!g&&e.mode&1)for(J=e,g=e.child;g!==null;){for(f=J=g;J!==null;){switch(v=J,y=v.child,v.tag){case 0:case 11:case 14:case 15:hs(4,v,v.return);break;case 1:Qn(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(_){be(n,r,_)}}break;case 5:Qn(v,v.return);break;case 22:if(v.memoizedState!==null){Hd(f);continue}}y!==null?(y.return=v,J=y):Hd(f)}g=g.sibling}e:for(g=null,f=e;;){if(f.tag===5){if(g===null){g=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,a=f.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=Dp("display",l))}catch(_){be(e,e.return,_)}}}else if(f.tag===6){if(g===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){be(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tt(t,e),Ut(e),n&4&&$d(e);break;case 21:break;default:Tt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(nv(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ms(i,""),n.flags&=-33);var o=jd(e);Gc(e,o,i);break;case 3:case 4:var l=n.stateNode.containerInfo,s=jd(e);Vc(e,s,l);break;default:throw Error(G(161))}}catch(a){be(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function my(e,t,r){J=e,ov(e)}function ov(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||fo;if(!l){var s=i.alternate,a=s!==null&&s.memoizedState!==null||We;s=fo;var u=We;if(fo=l,(We=a)&&!u)for(J=i;J!==null;)l=J,a=l.child,l.tag===22&&l.memoizedState!==null?Wd(i):a!==null?(a.return=l,J=a):Wd(i);for(;o!==null;)J=o,ov(o),o=o.sibling;J=i,fo=s,We=u}zd(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):zd(e)}}function zd(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||Ma(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!We)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Mt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ed(t,o,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ed(t,l,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var g=u.memoizedState;if(g!==null){var f=g.dehydrated;f!==null&&Ss(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}We||t.flags&512&&Uc(t)}catch(v){be(t,t.return,v)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function Hd(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function Wd(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ma(4,t)}catch(a){be(t,r,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(a){be(t,i,a)}}var o=t.return;try{Uc(t)}catch(a){be(t,o,a)}break;case 5:var l=t.return;try{Uc(t)}catch(a){be(t,l,a)}}}catch(a){be(t,t.return,a)}if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}var _y=Math.ceil,da=mr.ReactCurrentDispatcher,th=mr.ReactCurrentOwner,kt=mr.ReactCurrentBatchConfig,le=0,Oe=null,Ae=null,Be=0,ht=0,ei=tn(0),De=0,Ls=null,Sn=0,Oa=0,rh=0,ds=null,tt=null,nh=0,yi=1/0,sr=null,fa=!1,Kc=null,Ur=null,po=!1,Fr=null,pa=0,fs=0,qc=null,$o=-1,zo=0;function qe(){return le&6?Ee():$o!==-1?$o:$o=Ee()}function Vr(e){return e.mode&1?le&2&&Be!==0?Be&-Be:ty.transition!==null?(zo===0&&(zo=Up()),zo):(e=ce,e!==0||(e=window.event,e=e===void 0?16:Jp(e.type)),e):1}function Ft(e,t,r,n){if(50<fs)throw fs=0,qc=null,Error(G(185));$s(e,r,n),(!(le&2)||e!==Oe)&&(e===Oe&&(!(le&2)&&(Oa|=r),De===4&&Ir(e,Be)),ot(e,n),r===1&&le===0&&!(t.mode&1)&&(yi=Ee()+500,Ta&&rn()))}function ot(e,t){var r=e.callbackNode;t1(e,t);var n=Jo(e,e===Oe?Be:0);if(n===0)r!==null&&Zh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Zh(r),t===1)e.tag===0?ey(Ud.bind(null,e)):vg(Ud.bind(null,e)),Y1(function(){!(le&6)&&rn()}),r=null;else{switch(Vp(n)){case 1:r=Pu;break;case 4:r=Hp;break;case 16:r=Yo;break;case 536870912:r=Wp;break;default:r=Yo}r=pv(r,av.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function av(e,t){if($o=-1,zo=0,le&6)throw Error(G(327));var r=e.callbackNode;if(li()&&e.callbackNode!==r)return null;var n=Jo(e,e===Oe?Be:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ga(e,n);else{t=n;var i=le;le|=2;var o=cv();(Oe!==e||Be!==t)&&(sr=null,yi=Ee()+500,gn(e,t));do try{Sy();break}catch(s){lv(e,s)}while(!0);Hu(),da.current=o,le=i,Ae!==null?t=0:(Oe=null,Be=0,t=De)}if(t!==0){if(t===2&&(i=Sc(e),i!==0&&(n=i,t=Xc(e,i))),t===1)throw r=Ls,gn(e,0),Ir(e,n),ot(e,Ee()),r;if(t===6)Ir(e,n);else{if(i=e.current.alternate,!(n&30)&&!yy(i)&&(t=ga(e,n),t===2&&(o=Sc(e),o!==0&&(n=o,t=Xc(e,o))),t===1))throw r=Ls,gn(e,0),Ir(e,n),ot(e,Ee()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:ln(e,tt,sr);break;case 3:if(Ir(e,n),(n&130023424)===n&&(t=nh+500-Ee(),10<t)){if(Jo(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){qe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Pc(ln.bind(null,e,tt,sr),t);break}ln(e,tt,sr);break;case 4:if(Ir(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-Nt(n);o=1<<l,l=t[l],l>i&&(i=l),n&=~o}if(n=i,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_y(n/1960))-n,10<n){e.timeoutHandle=Pc(ln.bind(null,e,tt,sr),n);break}ln(e,tt,sr);break;case 5:ln(e,tt,sr);break;default:throw Error(G(329))}}}return ot(e,Ee()),e.callbackNode===r?av.bind(null,e):null}function Xc(e,t){var r=ds;return e.current.memoizedState.isDehydrated&&(gn(e,t).flags|=256),e=ga(e,t),e!==2&&(t=tt,tt=r,t!==null&&Yc(t)),e}function Yc(e){tt===null?tt=e:tt.push.apply(tt,e)}function yy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!jt(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ir(e,t){for(t&=~rh,t&=~Oa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Nt(t),n=1<<r;e[r]=-1,t&=~n}}function Ud(e){if(le&6)throw Error(G(327));li();var t=Jo(e,0);if(!(t&1))return ot(e,Ee()),null;var r=ga(e,t);if(e.tag!==0&&r===2){var n=Sc(e);n!==0&&(t=n,r=Xc(e,n))}if(r===1)throw r=Ls,gn(e,0),Ir(e,t),ot(e,Ee()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ln(e,tt,sr),ot(e,Ee()),null}function ih(e,t){var r=le;le|=1;try{return e(t)}finally{le=r,le===0&&(yi=Ee()+500,Ta&&rn())}}function bn(e){Fr!==null&&Fr.tag===0&&!(le&6)&&li();var t=le;le|=1;var r=kt.transition,n=ce;try{if(kt.transition=null,ce=1,e)return e()}finally{ce=n,kt.transition=r,le=t,!(le&6)&&rn()}}function sh(){ht=ei.current,ve(ei)}function gn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,X1(r)),Ae!==null)for(r=Ae.return;r!==null;){var n=r;switch(ju(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ra();break;case 3:mi(),ve(it),ve(Ue),qu();break;case 5:Ku(n);break;case 4:mi();break;case 13:ve(ye);break;case 19:ve(ye);break;case 10:Wu(n.type._context);break;case 22:case 23:sh()}r=r.return}if(Oe=e,Ae=e=Gr(e.current,null),Be=ht=t,De=0,Ls=null,rh=Oa=Sn=0,tt=ds=null,dn!==null){for(t=0;t<dn.length;t++)if(r=dn[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var l=o.next;o.next=i,n.next=l}r.pending=n}dn=null}return e}function lv(e,t){do{var r=Ae;try{if(Hu(),No.current=ha,ua){for(var n=we.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ua=!1}if(wn=0,Me=Te=we=null,us=!1,Ps=0,th.current=null,r===null||r.return===null){De=1,Ls=t,Ae=null;break}e:{var o=e,l=r.return,s=r,a=t;if(t=Be,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,g=s,f=g.tag;if(!(g.mode&1)&&(f===0||f===11||f===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var y=Dd(l);if(y!==null){y.flags&=-257,Ld(y,l,s,o,t),y.mode&1&&Td(o,u,t),t=y,a=u;var S=t.updateQueue;if(S===null){var _=new Set;_.add(a),t.updateQueue=_}else S.add(a);break e}else{if(!(t&1)){Td(o,u,t),oh();break e}a=Error(G(426))}}else if(me&&s.mode&1){var p=Dd(l);if(p!==null){!(p.flags&65536)&&(p.flags|=256),Ld(p,l,s,o,t),$u(_i(a,s));break e}}o=a=_i(a,s),De!==4&&(De=2),ds===null?ds=[o]:ds.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var d=Vg(o,a,t);xd(o,d);break e;case 1:s=a;var c=o.type,h=o.stateNode;if(!(o.flags&128)&&(typeof c.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ur===null||!Ur.has(h)))){o.flags|=65536,t&=-t,o.lanes|=t;var m=Gg(o,s,t);xd(o,m);break e}}o=o.return}while(o!==null)}hv(r)}catch(w){t=w,Ae===r&&r!==null&&(Ae=r=r.return);continue}break}while(!0)}function cv(){var e=da.current;return da.current=ha,e===null?ha:e}function oh(){(De===0||De===3||De===2)&&(De=4),Oe===null||!(Sn&268435455)&&!(Oa&268435455)||Ir(Oe,Be)}function ga(e,t){var r=le;le|=2;var n=cv();(Oe!==e||Be!==t)&&(sr=null,gn(e,t));do try{wy();break}catch(i){lv(e,i)}while(!0);if(Hu(),le=r,da.current=n,Ae!==null)throw Error(G(261));return Oe=null,Be=0,De}function wy(){for(;Ae!==null;)uv(Ae)}function Sy(){for(;Ae!==null&&!G_();)uv(Ae)}function uv(e){var t=fv(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?hv(e):Ae=t,th.current=null}function hv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=py(r,t),r!==null){r.flags&=32767,Ae=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Ae=null;return}}else if(r=fy(r,t,ht),r!==null){Ae=r;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);De===0&&(De=5)}function ln(e,t,r){var n=ce,i=kt.transition;try{kt.transition=null,ce=1,by(e,t,r,n)}finally{kt.transition=i,ce=n}return null}function by(e,t,r,n){do li();while(Fr!==null);if(le&6)throw Error(G(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(r1(e,o),e===Oe&&(Ae=Oe=null,Be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||po||(po=!0,pv(Yo,function(){return li(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=kt.transition,kt.transition=null;var l=ce;ce=1;var s=le;le|=4,th.current=null,vy(e,r),sv(r,e),H1(Rc),Zo=!!kc,Rc=kc=null,e.current=r,my(r),K_(),le=s,ce=l,kt.transition=o}else e.current=r;if(po&&(po=!1,Fr=e,pa=i),o=e.pendingLanes,o===0&&(Ur=null),Y_(r.stateNode),ot(e,Ee()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(fa)throw fa=!1,e=Kc,Kc=null,e;return pa&1&&e.tag!==0&&li(),o=e.pendingLanes,o&1?e===qc?fs++:(fs=0,qc=e):fs=0,rn(),null}function li(){if(Fr!==null){var e=Vp(pa),t=kt.transition,r=ce;try{if(kt.transition=null,ce=16>e?16:e,Fr===null)var n=!1;else{if(e=Fr,Fr=null,pa=0,le&6)throw Error(G(331));var i=le;for(le|=4,J=e.current;J!==null;){var o=J,l=o.child;if(J.flags&16){var s=o.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(J=u;J!==null;){var g=J;switch(g.tag){case 0:case 11:case 15:hs(8,g,o)}var f=g.child;if(f!==null)f.return=g,J=f;else for(;J!==null;){g=J;var v=g.sibling,y=g.return;if(rv(g),g===u){J=null;break}if(v!==null){v.return=y,J=v;break}J=y}}}var S=o.alternate;if(S!==null){var _=S.child;if(_!==null){S.child=null;do{var p=_.sibling;_.sibling=null,_=p}while(_!==null)}}J=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,J=l;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hs(9,o,o.return)}var d=o.sibling;if(d!==null){d.return=o.return,J=d;break e}J=o.return}}var c=e.current;for(J=c;J!==null;){l=J;var h=l.child;if(l.subtreeFlags&2064&&h!==null)h.return=l,J=h;else e:for(l=c;J!==null;){if(s=J,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ma(9,s)}}catch(w){be(s,s.return,w)}if(s===l){J=null;break e}var m=s.sibling;if(m!==null){m.return=s.return,J=m;break e}J=s.return}}if(le=i,rn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Ea,e)}catch{}n=!0}return n}finally{ce=r,kt.transition=t}}return!1}function Vd(e,t,r){t=_i(r,t),t=Vg(e,t,1),e=Wr(e,t,1),t=qe(),e!==null&&($s(e,1,t),ot(e,t))}function be(e,t,r){if(e.tag===3)Vd(e,e,r);else for(;t!==null;){if(t.tag===3){Vd(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ur===null||!Ur.has(n))){e=_i(r,e),e=Gg(t,e,1),t=Wr(t,e,1),e=qe(),t!==null&&($s(t,1,e),ot(t,e));break}}t=t.return}}function Cy(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&r,Oe===e&&(Be&r)===r&&(De===4||De===3&&(Be&130023424)===Be&&500>Ee()-nh?gn(e,0):rh|=r),ot(e,t)}function dv(e,t){t===0&&(e.mode&1?(t=no,no<<=1,!(no&130023424)&&(no=4194304)):t=1);var r=qe();e=dr(e,t),e!==null&&($s(e,t,r),ot(e,r))}function xy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),dv(e,r)}function Ey(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),dv(e,r)}var fv;fv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)nt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nt=!1,dy(e,t,r);nt=!!(e.flags&131072)}else nt=!1,me&&t.flags&1048576&&mg(t,sa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;jo(e,t),e=t.pendingProps;var i=pi(t,Ue.current);ai(t,r),i=Yu(null,t,n,e,i,r);var o=Ju();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(n)?(o=!0,na(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vu(t),i.updater=La,t.stateNode=i,i._reactInternals=t,Bc(t,n,e,r),t=jc(null,t,n,!0,o,r)):(t.tag=0,me&&o&&Fu(t),Ke(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(jo(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Ry(n),e=Mt(n,e),i){case 0:t=Fc(null,t,n,e,r);break e;case 1:t=Id(null,t,n,e,r);break e;case 11:t=Md(null,t,n,e,r);break e;case 14:t=Od(null,t,n,Mt(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mt(n,i),Fc(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mt(n,i),Id(e,t,n,i,r);case 3:e:{if(Yg(t),e===null)throw Error(G(387));n=t.pendingProps,o=t.memoizedState,i=o.element,Cg(e,t),la(t,n,null,r);var l=t.memoizedState;if(n=l.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=_i(Error(G(423)),t),t=Bd(e,t,n,r,i);break e}else if(n!==i){i=_i(Error(G(424)),t),t=Bd(e,t,n,r,i);break e}else for(ft=Hr(t.stateNode.containerInfo.firstChild),pt=t,me=!0,Bt=null,r=Sg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gi(),n===i){t=fr(e,t,r);break e}Ke(e,t,n,r)}t=t.child}return t;case 5:return xg(t),e===null&&Mc(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,Ac(n,i)?l=null:o!==null&&Ac(n,o)&&(t.flags|=32),Xg(e,t),Ke(e,t,l,r),t.child;case 6:return e===null&&Mc(t),null;case 13:return Jg(e,t,r);case 4:return Gu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vi(t,null,n,r):Ke(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mt(n,i),Md(e,t,n,i,r);case 7:return Ke(e,t,t.pendingProps,r),t.child;case 8:return Ke(e,t,t.pendingProps.children,r),t.child;case 12:return Ke(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,fe(oa,n._currentValue),n._currentValue=l,o!==null)if(jt(o.value,l)){if(o.children===i.children&&!it.current){t=fr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var a=s.firstContext;a!==null;){if(a.context===n){if(o.tag===1){a=cr(-1,r&-r),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var g=u.pending;g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a}}o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Oc(o.return,r,t),s.lanes|=r;break}a=a.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(G(341));l.lanes|=r,s=l.alternate,s!==null&&(s.lanes|=r),Oc(l,r,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Ke(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ai(t,r),i=At(i),n=n(i),t.flags|=1,Ke(e,t,n,r),t.child;case 14:return n=t.type,i=Mt(n,t.pendingProps),i=Mt(n.type,i),Od(e,t,n,i,r);case 15:return Kg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mt(n,i),jo(e,t),t.tag=1,st(n)?(e=!0,na(t)):e=!1,ai(t,r),Ug(t,n,i),Bc(t,n,i,r),jc(null,t,n,!0,e,r);case 19:return Zg(e,t,r);case 22:return qg(e,t,r)}throw Error(G(156,t.tag))};function pv(e,t){return zp(e,t)}function ky(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,r,n){return new ky(e,t,r,n)}function ah(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ry(e){if(typeof e=="function")return ah(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ku)return 11;if(e===Ru)return 14}return 2}function Gr(e,t){var r=e.alternate;return r===null?(r=xt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ho(e,t,r,n,i,o){var l=2;if(n=e,typeof e=="function")ah(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Un:return vn(r.children,i,o,t);case Eu:l=8,i|=8;break;case oc:return e=xt(12,r,t,i|2),e.elementType=oc,e.lanes=o,e;case ac:return e=xt(13,r,t,i),e.elementType=ac,e.lanes=o,e;case lc:return e=xt(19,r,t,i),e.elementType=lc,e.lanes=o,e;case xp:return Ia(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bp:l=10;break e;case Cp:l=9;break e;case ku:l=11;break e;case Ru:l=14;break e;case Dr:l=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=xt(l,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function vn(e,t,r,n){return e=xt(7,e,n,t),e.lanes=r,e}function Ia(e,t,r,n){return e=xt(22,e,n,t),e.elementType=xp,e.lanes=r,e.stateNode={isHidden:!1},e}function Ol(e,t,r){return e=xt(6,e,null,t),e.lanes=r,e}function Il(e,t,r){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ay(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gl(0),this.expirationTimes=gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lh(e,t,r,n,i,o,l,s,a){return e=new Ay(e,t,r,s,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=xt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vu(o),e}function Py(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function gv(e){if(!e)return Yr;e=e._reactInternals;e:{if(kn(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(st(r))return gg(e,r,t)}return t}function vv(e,t,r,n,i,o,l,s,a){return e=lh(r,n,!0,e,i,o,l,s,a),e.context=gv(null),r=e.current,n=qe(),i=Vr(r),o=cr(n,i),o.callback=t??null,Wr(r,o,i),e.current.lanes=i,$s(e,i,n),ot(e,n),e}function Ba(e,t,r,n){var i=t.current,o=qe(),l=Vr(i);return r=gv(r),t.context===null?t.context=r:t.pendingContext=r,t=cr(o,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wr(i,t,l),e!==null&&(Ft(e,i,l,o),Bo(e,i,l)),l}function va(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ch(e,t){Gd(e,t),(e=e.alternate)&&Gd(e,t)}function Ty(){return null}var mv=typeof reportError=="function"?reportError:function(e){console.error(e)};function uh(e){this._internalRoot=e}Na.prototype.render=uh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Ba(e,t,null,null)};Na.prototype.unmount=uh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bn(function(){Ba(null,e,null,null)}),t[hr]=null}};function Na(e){this._internalRoot=e}Na.prototype.unstable_scheduleHydration=function(e){if(e){var t=qp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Or.length&&t!==0&&t<Or[r].priority;r++);Or.splice(r,0,e),r===0&&Yp(e)}};function hh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kd(){}function Dy(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=va(l);o.call(u)}}var l=vv(t,n,e,0,null,!1,!1,"",Kd);return e._reactRootContainer=l,e[hr]=l.current,xs(e.nodeType===8?e.parentNode:e),bn(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=va(a);s.call(u)}}var a=lh(e,0,!1,null,null,!1,!1,"",Kd);return e._reactRootContainer=a,e[hr]=a.current,xs(e.nodeType===8?e.parentNode:e),bn(function(){Ba(t,a,r,n)}),a}function ja(e,t,r,n,i){var o=r._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var s=i;i=function(){var a=va(l);s.call(a)}}Ba(t,l,e,i)}else l=Dy(r,t,e,i,n);return va(l)}Gp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=es(t.pendingLanes);r!==0&&(Tu(t,r|1),ot(t,Ee()),!(le&6)&&(yi=Ee()+500,rn()))}break;case 13:bn(function(){var n=dr(e,1);if(n!==null){var i=qe();Ft(n,e,1,i)}}),ch(e,1)}};Du=function(e){if(e.tag===13){var t=dr(e,134217728);if(t!==null){var r=qe();Ft(t,e,134217728,r)}ch(e,134217728)}};Kp=function(e){if(e.tag===13){var t=Vr(e),r=dr(e,t);if(r!==null){var n=qe();Ft(r,e,t,n)}ch(e,t)}};qp=function(){return ce};Xp=function(e,t){var r=ce;try{return ce=e,t()}finally{ce=r}};_c=function(e,t,r){switch(t){case"input":if(hc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Pa(n);if(!i)throw Error(G(90));kp(n),hc(n,i)}}}break;case"textarea":Ap(e,r);break;case"select":t=r.value,t!=null&&ni(e,!!r.multiple,t,!1)}};Ip=ih;Bp=bn;var Ly={usingClientEntryPoint:!1,Events:[Hs,qn,Pa,Mp,Op,ih]},Vi={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},My={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jp(e),e===null?null:e.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||Ty,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{Ea=go.inject(My),Xt=go}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ly;yt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hh(t))throw Error(G(200));return Py(e,t,null,r)};yt.createRoot=function(e,t){if(!hh(e))throw Error(G(299));var r=!1,n="",i=mv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=lh(e,1,!1,null,null,r,!1,n,i),e[hr]=t.current,xs(e.nodeType===8?e.parentNode:e),new uh(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=jp(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return bn(e)};yt.hydrate=function(e,t,r){if(!Fa(t))throw Error(G(200));return ja(null,e,t,!0,r)};yt.hydrateRoot=function(e,t,r){if(!hh(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",l=mv;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=vv(t,null,e,1,r??null,i,!1,o,l),e[hr]=t.current,xs(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Na(t)};yt.render=function(e,t,r){if(!Fa(t))throw Error(G(200));return ja(null,e,t,!1,r)};yt.unmountComponentAtNode=function(e){if(!Fa(e))throw Error(G(40));return e._reactRootContainer?(bn(function(){ja(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0):!1};yt.unstable_batchedUpdates=ih;yt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Fa(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return ja(e,t,r,!1,n)};yt.version="18.3.1-next-f1338f8080-20240426";function _v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_v)}catch(e){console.error(e)}}_v(),_p.exports=yt;var nn=_p.exports;const Oy=Fs(nn);var yv,qd=nn;yv=qd.createRoot,qd.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(e,t)=>{const r=D.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:s="",children:a,...u},g)=>D.createElement("svg",{ref:g,...Iy,width:i,height:i,stroke:n,strokeWidth:l?Number(o)*24/Number(i):o,className:["lucide",`lucide-${By(e)}`,s].join(" "),...u},[...t.map(([f,v])=>D.createElement(f,v)),...Array.isArray(a)?a:[a]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ue("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=ue("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=ue("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=ue("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=ue("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=ue("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=ue("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=ue("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=ue("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=ue("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=ue("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=ue("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=ue("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=ue("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=ue("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=ue("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ae(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function lw(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function $a(...e){return t=>e.forEach(r=>lw(r,t))}function lt(...e){return D.useCallback($a(...e),e)}function bv(e,t=[]){let r=[];function n(o,l){const s=D.createContext(l),a=r.length;r=[...r,l];const u=f=>{var d;const{scope:v,children:y,...S}=f,_=((d=v==null?void 0:v[e])==null?void 0:d[a])||s,p=D.useMemo(()=>S,Object.values(S));return L.jsx(_.Provider,{value:p,children:y})};u.displayName=o+"Provider";function g(f,v){var _;const y=((_=v==null?void 0:v[e])==null?void 0:_[a])||s,S=D.useContext(y);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,g]}const i=()=>{const o=r.map(l=>D.createContext(l));return function(s){const a=(s==null?void 0:s[e])||o;return D.useMemo(()=>({[`__scope${e}`]:{...s,[e]:a}}),[s,a])}};return i.scopeName=e,[n,cw(i,...t)]}function cw(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=n.reduce((s,{useScope:a,scopeName:u})=>{const f=a(o)[`__scope${u}`];return{...s,...f}},{});return D.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function $t(e){const t=D.useRef(e);return D.useEffect(()=>{t.current=e}),D.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Cv({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=uw({defaultProp:t,onChange:r}),o=e!==void 0,l=o?e:n,s=$t(r),a=D.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&s(f)}else i(u)},[o,e,i,s]);return[l,a]}function uw({defaultProp:e,onChange:t}){const r=D.useState(e),[n]=r,i=D.useRef(n),o=$t(t);return D.useEffect(()=>{i.current!==n&&(o(n),i.current=n)},[n,i,o]),r}var wi=D.forwardRef((e,t)=>{const{children:r,...n}=e,i=D.Children.toArray(r),o=i.find(dw);if(o){const l=o.props.children,s=i.map(a=>a===o?D.Children.count(l)>1?D.Children.only(null):D.isValidElement(l)?l.props.children:null:a);return L.jsx(Zc,{...n,ref:t,children:D.isValidElement(l)?D.cloneElement(l,void 0,s):null})}return L.jsx(Zc,{...n,ref:t,children:r})});wi.displayName="Slot";var Zc=D.forwardRef((e,t)=>{const{children:r,...n}=e;if(D.isValidElement(r)){const i=pw(r);return D.cloneElement(r,{...fw(n,r.props),ref:t?$a(t,i):i})}return D.Children.count(r)>1?D.Children.only(null):null});Zc.displayName="SlotClone";var hw=({children:e})=>L.jsx(L.Fragment,{children:e});function dw(e){return D.isValidElement(e)&&e.type===hw}function fw(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...s)=>{o(...s),i(...s)}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function pw(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Je=gw.reduce((e,t)=>{const r=D.forwardRef((n,i)=>{const{asChild:o,...l}=n,s=o?wi:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),L.jsx(s,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function xv(e,t){e&&nn.flushSync(()=>e.dispatchEvent(t))}function dh(e,t=[]){let r=[];function n(o,l){const s=D.createContext(l),a=r.length;r=[...r,l];function u(f){const{scope:v,children:y,...S}=f,_=(v==null?void 0:v[e][a])||s,p=D.useMemo(()=>S,Object.values(S));return L.jsx(_.Provider,{value:p,children:y})}function g(f,v){const y=(v==null?void 0:v[e][a])||s,S=D.useContext(y);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,g]}const i=()=>{const o=r.map(l=>D.createContext(l));return function(s){const a=(s==null?void 0:s[e])||o;return D.useMemo(()=>({[`__scope${e}`]:{...s,[e]:a}}),[s,a])}};return i.scopeName=e,[n,vw(i,...t)]}function vw(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=n.reduce((s,{useScope:a,scopeName:u})=>{const f=a(o)[`__scope${u}`];return{...s,...f}},{});return D.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function Ev(e){const t=e+"CollectionProvider",[r,n]=dh(t),[i,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=y=>{const{scope:S,children:_}=y,p=N.useRef(null),d=N.useRef(new Map).current;return L.jsx(i,{scope:S,itemMap:d,collectionRef:p,children:_})};l.displayName=t;const s=e+"CollectionSlot",a=N.forwardRef((y,S)=>{const{scope:_,children:p}=y,d=o(s,_),c=lt(S,d.collectionRef);return L.jsx(wi,{ref:c,children:p})});a.displayName=s;const u=e+"CollectionItemSlot",g="data-radix-collection-item",f=N.forwardRef((y,S)=>{const{scope:_,children:p,...d}=y,c=N.useRef(null),h=lt(S,c),m=o(u,_);return N.useEffect(()=>(m.itemMap.set(c,{ref:c,...d}),()=>void m.itemMap.delete(c))),L.jsx(wi,{[g]:"",ref:h,children:p})});f.displayName=u;function v(y){const S=o(e+"CollectionConsumer",y);return N.useCallback(()=>{const p=S.collectionRef.current;if(!p)return[];const d=Array.from(p.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((m,w)=>d.indexOf(m.ref.current)-d.indexOf(w.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:l,Slot:a,ItemSlot:f},v,n]}var mw=D.createContext(void 0);function kv(e){const t=D.useContext(mw);return e||t||"ltr"}function _w(e,t=globalThis==null?void 0:globalThis.document){const r=$t(e);D.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var yw="DismissableLayer",Qc="dismissableLayer.update",ww="dismissableLayer.pointerDownOutside",Sw="dismissableLayer.focusOutside",Yd,Rv=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Av=D.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:s,...a}=e,u=D.useContext(Rv),[g,f]=D.useState(null),v=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=D.useState({}),S=lt(t,x=>f(x)),_=Array.from(u.layers),[p]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),d=_.indexOf(p),c=g?_.indexOf(g):-1,h=u.layersWithOutsidePointerEventsDisabled.size>0,m=c>=d,w=xw(x=>{const b=x.target,E=[...u.branches].some(R=>R.contains(b));!m||E||(i==null||i(x),l==null||l(x),x.defaultPrevented||s==null||s())},v),C=Ew(x=>{const b=x.target;[...u.branches].some(R=>R.contains(b))||(o==null||o(x),l==null||l(x),x.defaultPrevented||s==null||s())},v);return _w(x=>{c===u.layers.size-1&&(n==null||n(x),!x.defaultPrevented&&s&&(x.preventDefault(),s()))},v),D.useEffect(()=>{if(g)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Yd=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(g)),u.layers.add(g),Jd(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Yd)}},[g,v,r,u]),D.useEffect(()=>()=>{g&&(u.layers.delete(g),u.layersWithOutsidePointerEventsDisabled.delete(g),Jd())},[g,u]),D.useEffect(()=>{const x=()=>y({});return document.addEventListener(Qc,x),()=>document.removeEventListener(Qc,x)},[]),L.jsx(Je.div,{...a,ref:S,style:{pointerEvents:h?m?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,w.onPointerDownCapture)})});Av.displayName=yw;var bw="DismissableLayerBranch",Cw=D.forwardRef((e,t)=>{const r=D.useContext(Rv),n=D.useRef(null),i=lt(t,n);return D.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),L.jsx(Je.div,{...e,ref:i})});Cw.displayName=bw;function xw(e,t=globalThis==null?void 0:globalThis.document){const r=$t(e),n=D.useRef(!1),i=D.useRef(()=>{});return D.useEffect(()=>{const o=s=>{if(s.target&&!n.current){let a=function(){Pv(ww,r,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=a,t.addEventListener("click",i.current,{once:!0})):a()}else t.removeEventListener("click",i.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Ew(e,t=globalThis==null?void 0:globalThis.document){const r=$t(e),n=D.useRef(!1);return D.useEffect(()=>{const i=o=>{o.target&&!n.current&&Pv(Sw,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Jd(){const e=new CustomEvent(Qc);document.dispatchEvent(e)}function Pv(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?xv(i,o):i.dispatchEvent(o)}var Bl=0;function kw(){D.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Zd()),document.body.insertAdjacentElement("beforeend",e[1]??Zd()),Bl++,()=>{Bl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Bl--}},[])}function Zd(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nl="focusScope.autoFocusOnMount",Fl="focusScope.autoFocusOnUnmount",Qd={bubbles:!1,cancelable:!0},Rw="FocusScope",Tv=D.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[s,a]=D.useState(null),u=$t(i),g=$t(o),f=D.useRef(null),v=lt(t,_=>a(_)),y=D.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;D.useEffect(()=>{if(n){let _=function(h){if(y.paused||!s)return;const m=h.target;s.contains(m)?f.current=m:Ar(f.current,{select:!0})},p=function(h){if(y.paused||!s)return;const m=h.relatedTarget;m!==null&&(s.contains(m)||Ar(f.current,{select:!0}))},d=function(h){if(document.activeElement===document.body)for(const w of h)w.removedNodes.length>0&&Ar(s)};document.addEventListener("focusin",_),document.addEventListener("focusout",p);const c=new MutationObserver(d);return s&&c.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",p),c.disconnect()}}},[n,s,y.paused]),D.useEffect(()=>{if(s){tf.add(y);const _=document.activeElement;if(!s.contains(_)){const d=new CustomEvent(Nl,Qd);s.addEventListener(Nl,u),s.dispatchEvent(d),d.defaultPrevented||(Aw(Mw(Dv(s)),{select:!0}),document.activeElement===_&&Ar(s))}return()=>{s.removeEventListener(Nl,u),setTimeout(()=>{const d=new CustomEvent(Fl,Qd);s.addEventListener(Fl,g),s.dispatchEvent(d),d.defaultPrevented||Ar(_??document.body,{select:!0}),s.removeEventListener(Fl,g),tf.remove(y)},0)}}},[s,u,g,y]);const S=D.useCallback(_=>{if(!r&&!n||y.paused)return;const p=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,d=document.activeElement;if(p&&d){const c=_.currentTarget,[h,m]=Pw(c);h&&m?!_.shiftKey&&d===m?(_.preventDefault(),r&&Ar(h,{select:!0})):_.shiftKey&&d===h&&(_.preventDefault(),r&&Ar(m,{select:!0})):d===c&&_.preventDefault()}},[r,n,y.paused]);return L.jsx(Je.div,{tabIndex:-1,...l,ref:v,onKeyDown:S})});Tv.displayName=Rw;function Aw(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ar(n,{select:t}),document.activeElement!==r)return}function Pw(e){const t=Dv(e),r=ef(t,e),n=ef(t.reverse(),e);return[r,n]}function Dv(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ef(e,t){for(const r of e)if(!Tw(r,{upTo:t}))return r}function Tw(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Dw(e){return e instanceof HTMLInputElement&&"select"in e}function Ar(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Dw(e)&&t&&e.select()}}var tf=Lw();function Lw(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=rf(e,t),e.unshift(t)},remove(t){var r;e=rf(e,t),(r=e[0])==null||r.resume()}}}function rf(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Mw(e){return e.filter(t=>t.tagName!=="A")}var Cn=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},Ow=C_.useId||(()=>{}),Iw=0;function eu(e){const[t,r]=D.useState(Ow());return Cn(()=>{e||r(n=>n??String(Iw++))},[e]),e||(t?`radix-${t}`:"")}const Bw=["top","right","bottom","left"],Jr=Math.min,dt=Math.max,ma=Math.round,vo=Math.floor,Jt=e=>({x:e,y:e}),Nw={left:"right",right:"left",bottom:"top",top:"bottom"},Fw={start:"end",end:"start"};function tu(e,t,r){return dt(e,Jr(t,r))}function pr(e,t){return typeof e=="function"?e(t):e}function gr(e){return e.split("-")[0]}function Ai(e){return e.split("-")[1]}function fh(e){return e==="x"?"y":"x"}function ph(e){return e==="y"?"height":"width"}function Zr(e){return["top","bottom"].includes(gr(e))?"y":"x"}function gh(e){return fh(Zr(e))}function jw(e,t,r){r===void 0&&(r=!1);const n=Ai(e),i=gh(e),o=ph(i);let l=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=_a(l)),[l,_a(l)]}function $w(e){const t=_a(e);return[ru(e),t,ru(t)]}function ru(e){return e.replace(/start|end/g,t=>Fw[t])}function zw(e,t,r){const n=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?o:l;default:return[]}}function Hw(e,t,r,n){const i=Ai(e);let o=zw(gr(e),r==="start",n);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(ru)))),o}function _a(e){return e.replace(/left|right|bottom|top/g,t=>Nw[t])}function Ww(e){return{top:0,right:0,bottom:0,left:0,...e}}function Lv(e){return typeof e!="number"?Ww(e):{top:e,right:e,bottom:e,left:e}}function ya(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function nf(e,t,r){let{reference:n,floating:i}=e;const o=Zr(t),l=gh(t),s=ph(l),a=gr(t),u=o==="y",g=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,v=n[s]/2-i[s]/2;let y;switch(a){case"top":y={x:g,y:n.y-i.height};break;case"bottom":y={x:g,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:f};break;case"left":y={x:n.x-i.width,y:f};break;default:y={x:n.x,y:n.y}}switch(Ai(t)){case"start":y[l]-=v*(r&&u?-1:1);break;case"end":y[l]+=v*(r&&u?-1:1);break}return y}const Uw=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=r,s=o.filter(Boolean),a=await(l.isRTL==null?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:g,y:f}=nf(u,n,a),v=n,y={},S=0;for(let _=0;_<s.length;_++){const{name:p,fn:d}=s[_],{x:c,y:h,data:m,reset:w}=await d({x:g,y:f,initialPlacement:n,placement:v,strategy:i,middlewareData:y,rects:u,platform:l,elements:{reference:e,floating:t}});g=c??g,f=h??f,y={...y,[p]:{...y[p],...m}},w&&S<=50&&(S++,typeof w=="object"&&(w.placement&&(v=w.placement),w.rects&&(u=w.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:g,y:f}=nf(u,v,a)),_=-1)}return{x:g,y:f,placement:v,strategy:i,middlewareData:y}};async function Ms(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:l,elements:s,strategy:a}=e,{boundary:u="clippingAncestors",rootBoundary:g="viewport",elementContext:f="floating",altBoundary:v=!1,padding:y=0}=pr(t,e),S=Lv(y),p=s[v?f==="floating"?"reference":"floating":f],d=ya(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(p)))==null||r?p:p.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:g,strategy:a})),c=f==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,h=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),m=await(o.isElement==null?void 0:o.isElement(h))?await(o.getScale==null?void 0:o.getScale(h))||{x:1,y:1}:{x:1,y:1},w=ya(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:c,offsetParent:h,strategy:a}):c);return{top:(d.top-w.top+S.top)/m.y,bottom:(w.bottom-d.bottom+S.bottom)/m.y,left:(d.left-w.left+S.left)/m.x,right:(w.right-d.right+S.right)/m.x}}const Vw=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:l,elements:s,middlewareData:a}=t,{element:u,padding:g=0}=pr(e,t)||{};if(u==null)return{};const f=Lv(g),v={x:r,y:n},y=gh(i),S=ph(y),_=await l.getDimensions(u),p=y==="y",d=p?"top":"left",c=p?"bottom":"right",h=p?"clientHeight":"clientWidth",m=o.reference[S]+o.reference[y]-v[y]-o.floating[S],w=v[y]-o.reference[y],C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let x=C?C[h]:0;(!x||!await(l.isElement==null?void 0:l.isElement(C)))&&(x=s.floating[h]||o.floating[S]);const b=m/2-w/2,E=x/2-_[S]/2-1,R=Jr(f[d],E),O=Jr(f[c],E),T=R,I=x-_[S]-O,F=x/2-_[S]/2+b,z=tu(T,F,I),j=!a.arrow&&Ai(i)!=null&&F!==z&&o.reference[S]/2-(F<T?R:O)-_[S]/2<0,H=j?F<T?F-T:F-I:0;return{[y]:v[y]+H,data:{[y]:z,centerOffset:F-z-H,...j&&{alignmentOffset:H}},reset:j}}}),Gw=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:s,platform:a,elements:u}=t,{mainAxis:g=!0,crossAxis:f=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...p}=pr(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const d=gr(i),c=Zr(s),h=gr(s)===s,m=await(a.isRTL==null?void 0:a.isRTL(u.floating)),w=v||(h||!_?[_a(s)]:$w(s)),C=S!=="none";!v&&C&&w.push(...Hw(s,_,S,m));const x=[s,...w],b=await Ms(t,p),E=[];let R=((n=o.flip)==null?void 0:n.overflows)||[];if(g&&E.push(b[d]),f){const F=jw(i,l,m);E.push(b[F[0]],b[F[1]])}if(R=[...R,{placement:i,overflows:E}],!E.every(F=>F<=0)){var O,T;const F=(((O=o.flip)==null?void 0:O.index)||0)+1,z=x[F];if(z)return{data:{index:F,overflows:R},reset:{placement:z}};let j=(T=R.filter(H=>H.overflows[0]<=0).sort((H,k)=>H.overflows[1]-k.overflows[1])[0])==null?void 0:T.placement;if(!j)switch(y){case"bestFit":{var I;const H=(I=R.filter(k=>{if(C){const A=Zr(k.placement);return A===c||A==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(A=>A>0).reduce((A,M)=>A+M,0)]).sort((k,A)=>k[1]-A[1])[0])==null?void 0:I[0];H&&(j=H);break}case"initialPlacement":j=s;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function sf(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function of(e){return Bw.some(t=>e[t]>=0)}const Kw=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=pr(e,t);switch(n){case"referenceHidden":{const o=await Ms(t,{...i,elementContext:"reference"}),l=sf(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:of(l)}}}case"escaped":{const o=await Ms(t,{...i,altBoundary:!0}),l=sf(o,r.floating);return{data:{escapedOffsets:l,escaped:of(l)}}}default:return{}}}}};async function qw(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=gr(r),s=Ai(r),a=Zr(r)==="y",u=["left","top"].includes(l)?-1:1,g=o&&a?-1:1,f=pr(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof S=="number"&&(y=s==="end"?S*-1:S),a?{x:y*g,y:v*u}:{x:v*u,y:y*g}}const Xw=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:l,middlewareData:s}=t,a=await qw(t,e);return l===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+a.x,y:o+a.y,data:{...a,placement:l}}}}},Yw=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:s={fn:p=>{let{x:d,y:c}=p;return{x:d,y:c}}},...a}=pr(e,t),u={x:r,y:n},g=await Ms(t,a),f=Zr(gr(i)),v=fh(f);let y=u[v],S=u[f];if(o){const p=v==="y"?"top":"left",d=v==="y"?"bottom":"right",c=y+g[p],h=y-g[d];y=tu(c,y,h)}if(l){const p=f==="y"?"top":"left",d=f==="y"?"bottom":"right",c=S+g[p],h=S-g[d];S=tu(c,S,h)}const _=s.fn({...t,[v]:y,[f]:S});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[v]:o,[f]:l}}}}}},Jw=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:l}=t,{offset:s=0,mainAxis:a=!0,crossAxis:u=!0}=pr(e,t),g={x:r,y:n},f=Zr(i),v=fh(f);let y=g[v],S=g[f];const _=pr(s,t),p=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(a){const h=v==="y"?"height":"width",m=o.reference[v]-o.floating[h]+p.mainAxis,w=o.reference[v]+o.reference[h]-p.mainAxis;y<m?y=m:y>w&&(y=w)}if(u){var d,c;const h=v==="y"?"width":"height",m=["top","left"].includes(gr(i)),w=o.reference[f]-o.floating[h]+(m&&((d=l.offset)==null?void 0:d[f])||0)+(m?0:p.crossAxis),C=o.reference[f]+o.reference[h]+(m?0:((c=l.offset)==null?void 0:c[f])||0)-(m?p.crossAxis:0);S<w?S=w:S>C&&(S=C)}return{[v]:y,[f]:S}}}},Zw=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:l,elements:s}=t,{apply:a=()=>{},...u}=pr(e,t),g=await Ms(t,u),f=gr(i),v=Ai(i),y=Zr(i)==="y",{width:S,height:_}=o.floating;let p,d;f==="top"||f==="bottom"?(p=f,d=v===(await(l.isRTL==null?void 0:l.isRTL(s.floating))?"start":"end")?"left":"right"):(d=f,p=v==="end"?"top":"bottom");const c=_-g.top-g.bottom,h=S-g.left-g.right,m=Jr(_-g[p],c),w=Jr(S-g[d],h),C=!t.middlewareData.shift;let x=m,b=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(b=h),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(x=c),C&&!v){const R=dt(g.left,0),O=dt(g.right,0),T=dt(g.top,0),I=dt(g.bottom,0);y?b=S-2*(R!==0||O!==0?R+O:dt(g.left,g.right)):x=_-2*(T!==0||I!==0?T+I:dt(g.top,g.bottom))}await a({...t,availableWidth:b,availableHeight:x});const E=await l.getDimensions(s.floating);return S!==E.width||_!==E.height?{reset:{rects:!0}}:{}}}};function za(){return typeof window<"u"}function Pi(e){return Mv(e)?(e.nodeName||"").toLowerCase():"#document"}function gt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function tr(e){var t;return(t=(Mv(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Mv(e){return za()?e instanceof Node||e instanceof gt(e).Node:!1}function zt(e){return za()?e instanceof Element||e instanceof gt(e).Element:!1}function Qt(e){return za()?e instanceof HTMLElement||e instanceof gt(e).HTMLElement:!1}function af(e){return!za()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof gt(e).ShadowRoot}function Us(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Ht(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function Qw(e){return["table","td","th"].includes(Pi(e))}function Ha(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function vh(e){const t=mh(),r=zt(e)?Ht(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function eS(e){let t=Qr(e);for(;Qt(t)&&!Si(t);){if(vh(t))return t;if(Ha(t))return null;t=Qr(t)}return null}function mh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Si(e){return["html","body","#document"].includes(Pi(e))}function Ht(e){return gt(e).getComputedStyle(e)}function Wa(e){return zt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qr(e){if(Pi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||af(e)&&e.host||tr(e);return af(t)?t.host:t}function Ov(e){const t=Qr(e);return Si(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qt(t)&&Us(t)?t:Ov(t)}function Os(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=Ov(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),l=gt(i);if(o){const s=nu(l);return t.concat(l,l.visualViewport||[],Us(i)?i:[],s&&r?Os(s):[])}return t.concat(i,Os(i,[],r))}function nu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Iv(e){const t=Ht(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Qt(e),o=i?e.offsetWidth:r,l=i?e.offsetHeight:n,s=ma(r)!==o||ma(n)!==l;return s&&(r=o,n=l),{width:r,height:n,$:s}}function _h(e){return zt(e)?e:e.contextElement}function ci(e){const t=_h(e);if(!Qt(t))return Jt(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=Iv(t);let l=(o?ma(r.width):r.width)/n,s=(o?ma(r.height):r.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!s||!Number.isFinite(s))&&(s=1),{x:l,y:s}}const tS=Jt(0);function Bv(e){const t=gt(e);return!mh()||!t.visualViewport?tS:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rS(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==gt(e)?!1:t}function xn(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=_h(e);let l=Jt(1);t&&(n?zt(n)&&(l=ci(n)):l=ci(e));const s=rS(o,r,n)?Bv(o):Jt(0);let a=(i.left+s.x)/l.x,u=(i.top+s.y)/l.y,g=i.width/l.x,f=i.height/l.y;if(o){const v=gt(o),y=n&&zt(n)?gt(n):n;let S=v,_=nu(S);for(;_&&n&&y!==S;){const p=ci(_),d=_.getBoundingClientRect(),c=Ht(_),h=d.left+(_.clientLeft+parseFloat(c.paddingLeft))*p.x,m=d.top+(_.clientTop+parseFloat(c.paddingTop))*p.y;a*=p.x,u*=p.y,g*=p.x,f*=p.y,a+=h,u+=m,S=gt(_),_=nu(S)}}return ya({width:g,height:f,x:a,y:u})}function yh(e,t){const r=Wa(e).scrollLeft;return t?t.left+r:xn(tr(e)).left+r}function Nv(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:yh(e,n)),o=n.top+t.scrollTop;return{x:i,y:o}}function nS(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",l=tr(n),s=t?Ha(t.floating):!1;if(n===l||s&&o)return r;let a={scrollLeft:0,scrollTop:0},u=Jt(1);const g=Jt(0),f=Qt(n);if((f||!f&&!o)&&((Pi(n)!=="body"||Us(l))&&(a=Wa(n)),Qt(n))){const y=xn(n);u=ci(n),g.x=y.x+n.clientLeft,g.y=y.y+n.clientTop}const v=l&&!f&&!o?Nv(l,a,!0):Jt(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-a.scrollLeft*u.x+g.x+v.x,y:r.y*u.y-a.scrollTop*u.y+g.y+v.y}}function iS(e){return Array.from(e.getClientRects())}function sS(e){const t=tr(e),r=Wa(e),n=e.ownerDocument.body,i=dt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=dt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+yh(e);const s=-r.scrollTop;return Ht(n).direction==="rtl"&&(l+=dt(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:s}}function oS(e,t){const r=gt(e),n=tr(e),i=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,s=0,a=0;if(i){o=i.width,l=i.height;const u=mh();(!u||u&&t==="fixed")&&(s=i.offsetLeft,a=i.offsetTop)}return{width:o,height:l,x:s,y:a}}function aS(e,t){const r=xn(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=Qt(e)?ci(e):Jt(1),l=e.clientWidth*o.x,s=e.clientHeight*o.y,a=i*o.x,u=n*o.y;return{width:l,height:s,x:a,y:u}}function lf(e,t,r){let n;if(t==="viewport")n=oS(e,r);else if(t==="document")n=sS(tr(e));else if(zt(t))n=aS(t,r);else{const i=Bv(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ya(n)}function Fv(e,t){const r=Qr(e);return r===t||!zt(r)||Si(r)?!1:Ht(r).position==="fixed"||Fv(r,t)}function lS(e,t){const r=t.get(e);if(r)return r;let n=Os(e,[],!1).filter(s=>zt(s)&&Pi(s)!=="body"),i=null;const o=Ht(e).position==="fixed";let l=o?Qr(e):e;for(;zt(l)&&!Si(l);){const s=Ht(l),a=vh(l);!a&&s.position==="fixed"&&(i=null),(o?!a&&!i:!a&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Us(l)&&!a&&Fv(e,l))?n=n.filter(g=>g!==l):i=s,l=Qr(l)}return t.set(e,n),n}function cS(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const l=[...r==="clippingAncestors"?Ha(t)?[]:lS(t,this._c):[].concat(r),n],s=l[0],a=l.reduce((u,g)=>{const f=lf(t,g,i);return u.top=dt(f.top,u.top),u.right=Jr(f.right,u.right),u.bottom=Jr(f.bottom,u.bottom),u.left=dt(f.left,u.left),u},lf(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function uS(e){const{width:t,height:r}=Iv(e);return{width:t,height:r}}function hS(e,t,r){const n=Qt(t),i=tr(t),o=r==="fixed",l=xn(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const a=Jt(0);if(n||!n&&!o)if((Pi(t)!=="body"||Us(i))&&(s=Wa(t)),n){const v=xn(t,!0,o,t);a.x=v.x+t.clientLeft,a.y=v.y+t.clientTop}else i&&(a.x=yh(i));const u=i&&!n&&!o?Nv(i,s):Jt(0),g=l.left+s.scrollLeft-a.x-u.x,f=l.top+s.scrollTop-a.y-u.y;return{x:g,y:f,width:l.width,height:l.height}}function jl(e){return Ht(e).position==="static"}function cf(e,t){if(!Qt(e)||Ht(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return tr(e)===r&&(r=r.ownerDocument.body),r}function jv(e,t){const r=gt(e);if(Ha(e))return r;if(!Qt(e)){let i=Qr(e);for(;i&&!Si(i);){if(zt(i)&&!jl(i))return i;i=Qr(i)}return r}let n=cf(e,t);for(;n&&Qw(n)&&jl(n);)n=cf(n,t);return n&&Si(n)&&jl(n)&&!vh(n)?r:n||eS(e)||r}const dS=async function(e){const t=this.getOffsetParent||jv,r=this.getDimensions,n=await r(e.floating);return{reference:hS(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function fS(e){return Ht(e).direction==="rtl"}const pS={convertOffsetParentRelativeRectToViewportRelativeRect:nS,getDocumentElement:tr,getClippingRect:cS,getOffsetParent:jv,getElementRects:dS,getClientRects:iS,getDimensions:uS,getScale:ci,isElement:zt,isRTL:fS};function gS(e,t){let r=null,n;const i=tr(e);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function l(s,a){s===void 0&&(s=!1),a===void 0&&(a=1),o();const{left:u,top:g,width:f,height:v}=e.getBoundingClientRect();if(s||t(),!f||!v)return;const y=vo(g),S=vo(i.clientWidth-(u+f)),_=vo(i.clientHeight-(g+v)),p=vo(u),c={rootMargin:-y+"px "+-S+"px "+-_+"px "+-p+"px",threshold:dt(0,Jr(1,a))||1};let h=!0;function m(w){const C=w[0].intersectionRatio;if(C!==a){if(!h)return l();C?l(!1,C):n=setTimeout(()=>{l(!1,1e-7)},1e3)}h=!1}try{r=new IntersectionObserver(m,{...c,root:i.ownerDocument})}catch{r=new IntersectionObserver(m,c)}r.observe(e)}return l(!0),o}function vS(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:a=!1}=n,u=_h(e),g=i||o?[...u?Os(u):[],...Os(t)]:[];g.forEach(d=>{i&&d.addEventListener("scroll",r,{passive:!0}),o&&d.addEventListener("resize",r)});const f=u&&s?gS(u,r):null;let v=-1,y=null;l&&(y=new ResizeObserver(d=>{let[c]=d;c&&c.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var h;(h=y)==null||h.observe(t)})),r()}),u&&!a&&y.observe(u),y.observe(t));let S,_=a?xn(e):null;a&&p();function p(){const d=xn(e);_&&(d.x!==_.x||d.y!==_.y||d.width!==_.width||d.height!==_.height)&&r(),_=d,S=requestAnimationFrame(p)}return r(),()=>{var d;g.forEach(c=>{i&&c.removeEventListener("scroll",r),o&&c.removeEventListener("resize",r)}),f==null||f(),(d=y)==null||d.disconnect(),y=null,a&&cancelAnimationFrame(S)}}const mS=Xw,_S=Yw,yS=Gw,wS=Zw,SS=Kw,uf=Vw,bS=Jw,CS=(e,t,r)=>{const n=new Map,i={platform:pS,...r},o={...i.platform,_c:n};return Uw(e,t,{...i,platform:o})};var Wo=typeof document<"u"?D.useLayoutEffect:D.useEffect;function wa(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wa(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!wa(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function $v(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hf(e,t){const r=$v(e);return Math.round(t*r)/r}function $l(e){const t=D.useRef(e);return Wo(()=>{t.current=e}),t}function xS(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:s=!0,whileElementsMounted:a,open:u}=e,[g,f]=D.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=D.useState(n);wa(v,n)||y(n);const[S,_]=D.useState(null),[p,d]=D.useState(null),c=D.useCallback(k=>{k!==C.current&&(C.current=k,_(k))},[]),h=D.useCallback(k=>{k!==x.current&&(x.current=k,d(k))},[]),m=o||S,w=l||p,C=D.useRef(null),x=D.useRef(null),b=D.useRef(g),E=a!=null,R=$l(a),O=$l(i),T=$l(u),I=D.useCallback(()=>{if(!C.current||!x.current)return;const k={placement:t,strategy:r,middleware:v};O.current&&(k.platform=O.current),CS(C.current,x.current,k).then(A=>{const M={...A,isPositioned:T.current!==!1};F.current&&!wa(b.current,M)&&(b.current=M,nn.flushSync(()=>{f(M)}))})},[v,t,r,O,T]);Wo(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[u]);const F=D.useRef(!1);Wo(()=>(F.current=!0,()=>{F.current=!1}),[]),Wo(()=>{if(m&&(C.current=m),w&&(x.current=w),m&&w){if(R.current)return R.current(m,w,I);I()}},[m,w,I,R,E]);const z=D.useMemo(()=>({reference:C,floating:x,setReference:c,setFloating:h}),[c,h]),j=D.useMemo(()=>({reference:m,floating:w}),[m,w]),H=D.useMemo(()=>{const k={position:r,left:0,top:0};if(!j.floating)return k;const A=hf(j.floating,g.x),M=hf(j.floating,g.y);return s?{...k,transform:"translate("+A+"px, "+M+"px)",...$v(j.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:M}},[r,s,j.floating,g.x,g.y]);return D.useMemo(()=>({...g,update:I,refs:z,elements:j,floatingStyles:H}),[g,I,z,j,H])}const ES=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?uf({element:n.current,padding:i}).fn(r):{}:n?uf({element:n,padding:i}).fn(r):{}}}},kS=(e,t)=>({...mS(e),options:[e,t]}),RS=(e,t)=>({..._S(e),options:[e,t]}),AS=(e,t)=>({...bS(e),options:[e,t]}),PS=(e,t)=>({...yS(e),options:[e,t]}),TS=(e,t)=>({...wS(e),options:[e,t]}),DS=(e,t)=>({...SS(e),options:[e,t]}),LS=(e,t)=>({...ES(e),options:[e,t]});var MS="Arrow",zv=D.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...o}=e;return L.jsx(Je.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:L.jsx("polygon",{points:"0,0 30,0 15,10"})})});zv.displayName=MS;var OS=zv;function IS(e){const[t,r]=D.useState(void 0);return Cn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,s;if("borderBoxSize"in o){const a=o.borderBoxSize,u=Array.isArray(a)?a[0]:a;l=u.inlineSize,s=u.blockSize}else l=e.offsetWidth,s=e.offsetHeight;r({width:l,height:s})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var wh="Popper",[Hv,Wv]=dh(wh),[BS,Uv]=Hv(wh),Vv=e=>{const{__scopePopper:t,children:r}=e,[n,i]=D.useState(null);return L.jsx(BS,{scope:t,anchor:n,onAnchorChange:i,children:r})};Vv.displayName=wh;var Gv="PopperAnchor",Kv=D.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,o=Uv(Gv,r),l=D.useRef(null),s=lt(t,l);return D.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:L.jsx(Je.div,{...i,ref:s})});Kv.displayName=Gv;var Sh="PopperContent",[NS,FS]=Hv(Sh),qv=D.forwardRef((e,t)=>{var P,$,U,V,Q,Y;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:s=0,avoidCollisions:a=!0,collisionBoundary:u=[],collisionPadding:g=0,sticky:f="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:S,..._}=e,p=Uv(Sh,r),[d,c]=D.useState(null),h=lt(t,re=>c(re)),[m,w]=D.useState(null),C=IS(m),x=(C==null?void 0:C.width)??0,b=(C==null?void 0:C.height)??0,E=n+(o!=="center"?"-"+o:""),R=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},O=Array.isArray(u)?u:[u],T=O.length>0,I={padding:R,boundary:O.filter($S),altBoundary:T},{refs:F,floatingStyles:z,placement:j,isPositioned:H,middlewareData:k}=xS({strategy:"fixed",placement:E,whileElementsMounted:(...re)=>vS(...re,{animationFrame:y==="always"}),elements:{reference:p.anchor},middleware:[kS({mainAxis:i+b,alignmentAxis:l}),a&&RS({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?AS():void 0,...I}),a&&PS({...I}),TS({...I,apply:({elements:re,rects:ke,availableWidth:je,availableHeight:yr})=>{const{width:ne,height:sn}=ke.reference,wr=re.floating.style;wr.setProperty("--radix-popper-available-width",`${je}px`),wr.setProperty("--radix-popper-available-height",`${yr}px`),wr.setProperty("--radix-popper-anchor-width",`${ne}px`),wr.setProperty("--radix-popper-anchor-height",`${sn}px`)}}),m&&LS({element:m,padding:s}),zS({arrowWidth:x,arrowHeight:b}),v&&DS({strategy:"referenceHidden",...I})]}),[A,M]=Jv(j),B=$t(S);Cn(()=>{H&&(B==null||B())},[H,B]);const W=(P=k.arrow)==null?void 0:P.x,K=($=k.arrow)==null?void 0:$.y,q=((U=k.arrow)==null?void 0:U.centerOffset)!==0,[X,ee]=D.useState();return Cn(()=>{d&&ee(window.getComputedStyle(d).zIndex)},[d]),L.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:H?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(V=k.transformOrigin)==null?void 0:V.x,(Q=k.transformOrigin)==null?void 0:Q.y].join(" "),...((Y=k.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:L.jsx(NS,{scope:r,placedSide:A,onArrowChange:w,arrowX:W,arrowY:K,shouldHideArrow:q,children:L.jsx(Je.div,{"data-side":A,"data-align":M,..._,ref:h,style:{..._.style,animation:H?void 0:"none"}})})})});qv.displayName=Sh;var Xv="PopperArrow",jS={top:"bottom",right:"left",bottom:"top",left:"right"},Yv=D.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,o=FS(Xv,n),l=jS[o.placedSide];return L.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:L.jsx(OS,{...i,ref:r,style:{...i.style,display:"block"}})})});Yv.displayName=Xv;function $S(e){return e!==null}var zS=e=>({name:"transformOrigin",options:e,fn(t){var p,d,c;const{placement:r,rects:n,middlewareData:i}=t,l=((p=i.arrow)==null?void 0:p.centerOffset)!==0,s=l?0:e.arrowWidth,a=l?0:e.arrowHeight,[u,g]=Jv(r),f={start:"0%",center:"50%",end:"100%"}[g],v=(((d=i.arrow)==null?void 0:d.x)??0)+s/2,y=(((c=i.arrow)==null?void 0:c.y)??0)+a/2;let S="",_="";return u==="bottom"?(S=l?f:`${v}px`,_=`${-a}px`):u==="top"?(S=l?f:`${v}px`,_=`${n.floating.height+a}px`):u==="right"?(S=`${-a}px`,_=l?f:`${y}px`):u==="left"&&(S=`${n.floating.width+a}px`,_=l?f:`${y}px`),{data:{x:S,y:_}}}});function Jv(e){const[t,r="center"]=e.split("-");return[t,r]}var HS=Vv,WS=Kv,US=qv,VS=Yv,GS="Portal",Zv=D.forwardRef((e,t)=>{var s;const{container:r,...n}=e,[i,o]=D.useState(!1);Cn(()=>o(!0),[]);const l=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return l?Oy.createPortal(L.jsx(Je.div,{...n,ref:t}),l):null});Zv.displayName=GS;function KS(e,t){return D.useReducer((r,n)=>t[r][n]??r,e)}var Vs=e=>{const{present:t,children:r}=e,n=qS(t),i=typeof r=="function"?r({present:n.isPresent}):D.Children.only(r),o=lt(n.ref,XS(i));return typeof r=="function"||n.isPresent?D.cloneElement(i,{ref:o}):null};Vs.displayName="Presence";function qS(e){const[t,r]=D.useState(),n=D.useRef({}),i=D.useRef(e),o=D.useRef("none"),l=e?"mounted":"unmounted",[s,a]=KS(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const u=mo(n.current);o.current=s==="mounted"?u:"none"},[s]),Cn(()=>{const u=n.current,g=i.current;if(g!==e){const v=o.current,y=mo(u);e?a("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?a("UNMOUNT"):a(g&&v!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,a]),Cn(()=>{if(t){let u;const g=t.ownerDocument.defaultView??window,f=y=>{const _=mo(n.current).includes(y.animationName);if(y.target===t&&_&&(a("ANIMATION_END"),!i.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",u=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},v=y=>{y.target===t&&(o.current=mo(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{g.clearTimeout(u),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:D.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function mo(e){return(e==null?void 0:e.animationName)||"none"}function XS(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zl="rovingFocusGroup.onEntryFocus",YS={bubbles:!1,cancelable:!0},Ua="RovingFocusGroup",[iu,Qv,JS]=Ev(Ua),[ZS,e0]=dh(Ua,[JS]),[QS,eb]=ZS(Ua),t0=D.forwardRef((e,t)=>L.jsx(iu.Provider,{scope:e.__scopeRovingFocusGroup,children:L.jsx(iu.Slot,{scope:e.__scopeRovingFocusGroup,children:L.jsx(tb,{...e,ref:t})})}));t0.displayName=Ua;var tb=D.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:a,onEntryFocus:u,preventScrollOnEntryFocus:g=!1,...f}=e,v=D.useRef(null),y=lt(t,v),S=kv(o),[_=null,p]=Cv({prop:l,defaultProp:s,onChange:a}),[d,c]=D.useState(!1),h=$t(u),m=Qv(r),w=D.useRef(!1),[C,x]=D.useState(0);return D.useEffect(()=>{const b=v.current;if(b)return b.addEventListener(zl,h),()=>b.removeEventListener(zl,h)},[h]),L.jsx(QS,{scope:r,orientation:n,dir:S,loop:i,currentTabStopId:_,onItemFocus:D.useCallback(b=>p(b),[p]),onItemShiftTab:D.useCallback(()=>c(!0),[]),onFocusableItemAdd:D.useCallback(()=>x(b=>b+1),[]),onFocusableItemRemove:D.useCallback(()=>x(b=>b-1),[]),children:L.jsx(Je.div,{tabIndex:d||C===0?-1:0,"data-orientation":n,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:ae(e.onMouseDown,()=>{w.current=!0}),onFocus:ae(e.onFocus,b=>{const E=!w.current;if(b.target===b.currentTarget&&E&&!d){const R=new CustomEvent(zl,YS);if(b.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=m().filter(j=>j.focusable),T=O.find(j=>j.active),I=O.find(j=>j.id===_),z=[T,I,...O].filter(Boolean).map(j=>j.ref.current);i0(z,g)}}w.current=!1}),onBlur:ae(e.onBlur,()=>c(!1))})})}),r0="RovingFocusGroupItem",n0=D.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:o,...l}=e,s=eu(),a=o||s,u=eb(r0,r),g=u.currentTabStopId===a,f=Qv(r),{onFocusableItemAdd:v,onFocusableItemRemove:y}=u;return D.useEffect(()=>{if(n)return v(),()=>y()},[n,v,y]),L.jsx(iu.ItemSlot,{scope:r,id:a,focusable:n,active:i,children:L.jsx(Je.span,{tabIndex:g?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:ae(e.onMouseDown,S=>{n?u.onItemFocus(a):S.preventDefault()}),onFocus:ae(e.onFocus,()=>u.onItemFocus(a)),onKeyDown:ae(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){u.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const _=ib(S,u.orientation,u.dir);if(_!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let d=f().filter(c=>c.focusable).map(c=>c.ref.current);if(_==="last")d.reverse();else if(_==="prev"||_==="next"){_==="prev"&&d.reverse();const c=d.indexOf(S.currentTarget);d=u.loop?sb(d,c+1):d.slice(c+1)}setTimeout(()=>i0(d))}})})})});n0.displayName=r0;var rb={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nb(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ib(e,t,r){const n=nb(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return rb[n]}function i0(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function sb(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ob=t0,ab=n0,lb=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},In=new WeakMap,_o=new WeakMap,yo={},Hl=0,s0=function(e){return e&&(e.host||s0(e.parentNode))},cb=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=s0(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ub=function(e,t,r,n){var i=cb(t,Array.isArray(e)?e:[e]);yo[r]||(yo[r]=new WeakMap);var o=yo[r],l=[],s=new Set,a=new Set(i),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};i.forEach(u);var g=function(f){!f||a.has(f)||Array.prototype.forEach.call(f.children,function(v){if(s.has(v))g(v);else try{var y=v.getAttribute(n),S=y!==null&&y!=="false",_=(In.get(v)||0)+1,p=(o.get(v)||0)+1;In.set(v,_),o.set(v,p),l.push(v),_===1&&S&&_o.set(v,!0),p===1&&v.setAttribute(r,"true"),S||v.setAttribute(n,"true")}catch(d){console.error("aria-hidden: cannot operate on ",v,d)}})};return g(t),s.clear(),Hl++,function(){l.forEach(function(f){var v=In.get(f)-1,y=o.get(f)-1;In.set(f,v),o.set(f,y),v||(_o.has(f)||f.removeAttribute(n),_o.delete(f)),y||f.removeAttribute(r)}),Hl--,Hl||(In=new WeakMap,In=new WeakMap,_o=new WeakMap,yo={})}},hb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=lb(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),ub(n,i,r,"aria-hidden")):function(){return null}},qt=function(){return qt=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},qt.apply(this,arguments)};function o0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function db(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Uo="right-scroll-bar-position",Vo="width-before-scroll-bar",fb="with-scroll-bars-hidden",pb="--removed-body-scroll-bar-size";function Wl(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function gb(e,t){var r=D.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var vb=typeof window<"u"?D.useLayoutEffect:D.useEffect,df=new WeakMap;function mb(e,t){var r=gb(null,function(n){return e.forEach(function(i){return Wl(i,n)})});return vb(function(){var n=df.get(r);if(n){var i=new Set(n),o=new Set(e),l=r.current;i.forEach(function(s){o.has(s)||Wl(s,null)}),o.forEach(function(s){i.has(s)||Wl(s,l)})}df.set(r,e)},[e]),r}function _b(e){return e}function yb(e,t){t===void 0&&(t=_b);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var l=t(o,n);return r.push(l),function(){r=r.filter(function(s){return s!==l})}},assignSyncMedium:function(o){for(n=!0;r.length;){var l=r;r=[],l.forEach(o)}r={push:function(s){return o(s)},filter:function(){return r}}},assignMedium:function(o){n=!0;var l=[];if(r.length){var s=r;r=[],s.forEach(o),l=r}var a=function(){var g=l;l=[],g.forEach(o)},u=function(){return Promise.resolve().then(a)};u(),r={push:function(g){l.push(g),u()},filter:function(g){return l=l.filter(g),r}}}};return i}function wb(e){e===void 0&&(e={});var t=yb(null);return t.options=qt({async:!0,ssr:!1},e),t}var a0=function(e){var t=e.sideCar,r=o0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return D.createElement(n,qt({},r))};a0.isSideCarExport=!0;function Sb(e,t){return e.useMedium(t),a0}var l0=wb(),Ul=function(){},Va=D.forwardRef(function(e,t){var r=D.useRef(null),n=D.useState({onScrollCapture:Ul,onWheelCapture:Ul,onTouchMoveCapture:Ul}),i=n[0],o=n[1],l=e.forwardProps,s=e.children,a=e.className,u=e.removeScrollBar,g=e.enabled,f=e.shards,v=e.sideCar,y=e.noIsolation,S=e.inert,_=e.allowPinchZoom,p=e.as,d=p===void 0?"div":p,c=e.gapMode,h=o0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),m=v,w=mb([r,t]),C=qt(qt({},h),i);return D.createElement(D.Fragment,null,g&&D.createElement(m,{sideCar:l0,removeScrollBar:u,shards:f,noIsolation:y,inert:S,setCallbacks:o,allowPinchZoom:!!_,lockRef:r,gapMode:c}),l?D.cloneElement(D.Children.only(s),qt(qt({},C),{ref:w})):D.createElement(d,qt({},C,{className:a,ref:w}),s))});Va.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Va.classNames={fullWidth:Vo,zeroRight:Uo};var bb=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Cb(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bb();return t&&e.setAttribute("nonce",t),e}function xb(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Eb(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kb=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Cb())&&(xb(t,r),Eb(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Rb=function(){var e=kb();return function(t,r){D.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},c0=function(){var e=Rb(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},Ab={left:0,top:0,right:0,gap:0},Vl=function(e){return parseInt(e||"",10)||0},Pb=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Vl(r),Vl(n),Vl(i)]},Tb=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ab;var t=Pb(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Db=c0(),ui="data-scroll-locked",Lb=function(e,t,r,n){var i=e.left,o=e.top,l=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(fb,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(ui,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Uo,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Vo,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Uo," .").concat(Uo,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Vo," .").concat(Vo,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ui,`] {
    `).concat(pb,": ").concat(s,`px;
  }
`)},ff=function(){var e=parseInt(document.body.getAttribute(ui)||"0",10);return isFinite(e)?e:0},Mb=function(){D.useEffect(function(){return document.body.setAttribute(ui,(ff()+1).toString()),function(){var e=ff()-1;e<=0?document.body.removeAttribute(ui):document.body.setAttribute(ui,e.toString())}},[])},Ob=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;Mb();var o=D.useMemo(function(){return Tb(i)},[i]);return D.createElement(Db,{styles:Lb(o,!t,i,r?"":"!important")})},su=!1;if(typeof window<"u")try{var wo=Object.defineProperty({},"passive",{get:function(){return su=!0,!0}});window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{su=!1}var Bn=su?{passive:!1}:!1,Ib=function(e){return e.tagName==="TEXTAREA"},u0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ib(e)&&r[t]==="visible")},Bb=function(e){return u0(e,"overflowY")},Nb=function(e){return u0(e,"overflowX")},pf=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=h0(e,n);if(i){var o=d0(e,n),l=o[1],s=o[2];if(l>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Fb=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},jb=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},h0=function(e,t){return e==="v"?Bb(t):Nb(t)},d0=function(e,t){return e==="v"?Fb(t):jb(t)},$b=function(e,t){return e==="h"&&t==="rtl"?-1:1},zb=function(e,t,r,n,i){var o=$b(e,window.getComputedStyle(t).direction),l=o*n,s=r.target,a=t.contains(s),u=!1,g=l>0,f=0,v=0;do{var y=d0(e,s),S=y[0],_=y[1],p=y[2],d=_-p-o*S;(S||d)&&h0(e,s)&&(f+=d,v+=S),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!a&&s!==document.body||a&&(t.contains(s)||t===s));return(g&&(Math.abs(f)<1||!i)||!g&&(Math.abs(v)<1||!i))&&(u=!0),u},So=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},gf=function(e){return[e.deltaX,e.deltaY]},vf=function(e){return e&&"current"in e?e.current:e},Hb=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Wb=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ub=0,Nn=[];function Vb(e){var t=D.useRef([]),r=D.useRef([0,0]),n=D.useRef(),i=D.useState(Ub++)[0],o=D.useState(c0)[0],l=D.useRef(e);D.useEffect(function(){l.current=e},[e]),D.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var _=db([e.lockRef.current],(e.shards||[]).map(vf),!0).filter(Boolean);return _.forEach(function(p){return p.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=D.useCallback(function(_,p){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var d=So(_),c=r.current,h="deltaX"in _?_.deltaX:c[0]-d[0],m="deltaY"in _?_.deltaY:c[1]-d[1],w,C=_.target,x=Math.abs(h)>Math.abs(m)?"h":"v";if("touches"in _&&x==="h"&&C.type==="range")return!1;var b=pf(x,C);if(!b)return!0;if(b?w=x:(w=x==="v"?"h":"v",b=pf(x,C)),!b)return!1;if(!n.current&&"changedTouches"in _&&(h||m)&&(n.current=w),!w)return!0;var E=n.current||w;return zb(E,p,_,E==="h"?h:m,!0)},[]),a=D.useCallback(function(_){var p=_;if(!(!Nn.length||Nn[Nn.length-1]!==o)){var d="deltaY"in p?gf(p):So(p),c=t.current.filter(function(w){return w.name===p.type&&(w.target===p.target||p.target===w.shadowParent)&&Hb(w.delta,d)})[0];if(c&&c.should){p.cancelable&&p.preventDefault();return}if(!c){var h=(l.current.shards||[]).map(vf).filter(Boolean).filter(function(w){return w.contains(p.target)}),m=h.length>0?s(p,h[0]):!l.current.noIsolation;m&&p.cancelable&&p.preventDefault()}}},[]),u=D.useCallback(function(_,p,d,c){var h={name:_,delta:p,target:d,should:c,shadowParent:Gb(d)};t.current.push(h),setTimeout(function(){t.current=t.current.filter(function(m){return m!==h})},1)},[]),g=D.useCallback(function(_){r.current=So(_),n.current=void 0},[]),f=D.useCallback(function(_){u(_.type,gf(_),_.target,s(_,e.lockRef.current))},[]),v=D.useCallback(function(_){u(_.type,So(_),_.target,s(_,e.lockRef.current))},[]);D.useEffect(function(){return Nn.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:v}),document.addEventListener("wheel",a,Bn),document.addEventListener("touchmove",a,Bn),document.addEventListener("touchstart",g,Bn),function(){Nn=Nn.filter(function(_){return _!==o}),document.removeEventListener("wheel",a,Bn),document.removeEventListener("touchmove",a,Bn),document.removeEventListener("touchstart",g,Bn)}},[]);var y=e.removeScrollBar,S=e.inert;return D.createElement(D.Fragment,null,S?D.createElement(o,{styles:Wb(i)}):null,y?D.createElement(Ob,{gapMode:e.gapMode}):null)}function Gb(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Kb=Sb(l0,Vb);var f0=D.forwardRef(function(e,t){return D.createElement(Va,qt({},e,{ref:t,sideCar:Kb}))});f0.classNames=Va.classNames;var ou=["Enter"," "],qb=["ArrowDown","PageUp","Home"],p0=["ArrowUp","PageDown","End"],Xb=[...qb,...p0],Yb={ltr:[...ou,"ArrowRight"],rtl:[...ou,"ArrowLeft"]},Jb={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gs="Menu",[Is,Zb,Qb]=Ev(Gs),[Rn,g0]=bv(Gs,[Qb,Wv,e0]),Ga=Wv(),v0=e0(),[e2,An]=Rn(Gs),[t2,Ks]=Rn(Gs),m0=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:o,modal:l=!0}=e,s=Ga(t),[a,u]=D.useState(null),g=D.useRef(!1),f=$t(o),v=kv(i);return D.useEffect(()=>{const y=()=>{g.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>g.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),L.jsx(HS,{...s,children:L.jsx(e2,{scope:t,open:r,onOpenChange:f,content:a,onContentChange:u,children:L.jsx(t2,{scope:t,onClose:D.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:g,dir:v,modal:l,children:n})})})};m0.displayName=Gs;var r2="MenuAnchor",bh=D.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=Ga(r);return L.jsx(WS,{...i,...n,ref:t})});bh.displayName=r2;var Ch="MenuPortal",[n2,_0]=Rn(Ch,{forceMount:void 0}),y0=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,o=An(Ch,t);return L.jsx(n2,{scope:t,forceMount:r,children:L.jsx(Vs,{present:r||o.open,children:L.jsx(Zv,{asChild:!0,container:i,children:n})})})};y0.displayName=Ch;var Rt="MenuContent",[i2,xh]=Rn(Rt),w0=D.forwardRef((e,t)=>{const r=_0(Rt,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,o=An(Rt,e.__scopeMenu),l=Ks(Rt,e.__scopeMenu);return L.jsx(Is.Provider,{scope:e.__scopeMenu,children:L.jsx(Vs,{present:n||o.open,children:L.jsx(Is.Slot,{scope:e.__scopeMenu,children:l.modal?L.jsx(s2,{...i,ref:t}):L.jsx(o2,{...i,ref:t})})})})}),s2=D.forwardRef((e,t)=>{const r=An(Rt,e.__scopeMenu),n=D.useRef(null),i=lt(t,n);return D.useEffect(()=>{const o=n.current;if(o)return hb(o)},[]),L.jsx(Eh,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ae(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),o2=D.forwardRef((e,t)=>{const r=An(Rt,e.__scopeMenu);return L.jsx(Eh,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Eh=D.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:s,onEntryFocus:a,onEscapeKeyDown:u,onPointerDownOutside:g,onFocusOutside:f,onInteractOutside:v,onDismiss:y,disableOutsideScroll:S,..._}=e,p=An(Rt,r),d=Ks(Rt,r),c=Ga(r),h=v0(r),m=Zb(r),[w,C]=D.useState(null),x=D.useRef(null),b=lt(t,x,p.onContentChange),E=D.useRef(0),R=D.useRef(""),O=D.useRef(0),T=D.useRef(null),I=D.useRef("right"),F=D.useRef(0),z=S?f0:D.Fragment,j=S?{as:wi,allowPinchZoom:!0}:void 0,H=A=>{var P,$;const M=R.current+A,B=m().filter(U=>!U.disabled),W=document.activeElement,K=(P=B.find(U=>U.ref.current===W))==null?void 0:P.textValue,q=B.map(U=>U.textValue),X=_2(q,M,K),ee=($=B.find(U=>U.textValue===X))==null?void 0:$.ref.current;(function U(V){R.current=V,window.clearTimeout(E.current),V!==""&&(E.current=window.setTimeout(()=>U(""),1e3))})(M),ee&&setTimeout(()=>ee.focus())};D.useEffect(()=>()=>window.clearTimeout(E.current),[]),kw();const k=D.useCallback(A=>{var B,W;return I.current===((B=T.current)==null?void 0:B.side)&&w2(A,(W=T.current)==null?void 0:W.area)},[]);return L.jsx(i2,{scope:r,searchRef:R,onItemEnter:D.useCallback(A=>{k(A)&&A.preventDefault()},[k]),onItemLeave:D.useCallback(A=>{var M;k(A)||((M=x.current)==null||M.focus(),C(null))},[k]),onTriggerLeave:D.useCallback(A=>{k(A)&&A.preventDefault()},[k]),pointerGraceTimerRef:O,onPointerGraceIntentChange:D.useCallback(A=>{T.current=A},[]),children:L.jsx(z,{...j,children:L.jsx(Tv,{asChild:!0,trapped:i,onMountAutoFocus:ae(o,A=>{var M;A.preventDefault(),(M=x.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:L.jsx(Av,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:g,onFocusOutside:f,onInteractOutside:v,onDismiss:y,children:L.jsx(ob,{asChild:!0,...h,dir:d.dir,orientation:"vertical",loop:n,currentTabStopId:w,onCurrentTabStopIdChange:C,onEntryFocus:ae(a,A=>{d.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:L.jsx(US,{role:"menu","aria-orientation":"vertical","data-state":B0(p.open),"data-radix-menu-content":"",dir:d.dir,...c,..._,ref:b,style:{outline:"none",..._.style},onKeyDown:ae(_.onKeyDown,A=>{const B=A.target.closest("[data-radix-menu-content]")===A.currentTarget,W=A.ctrlKey||A.altKey||A.metaKey,K=A.key.length===1;B&&(A.key==="Tab"&&A.preventDefault(),!W&&K&&H(A.key));const q=x.current;if(A.target!==q||!Xb.includes(A.key))return;A.preventDefault();const ee=m().filter(P=>!P.disabled).map(P=>P.ref.current);p0.includes(A.key)&&ee.reverse(),v2(ee)}),onBlur:ae(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(E.current),R.current="")}),onPointerMove:ae(e.onPointerMove,Bs(A=>{const M=A.target,B=F.current!==A.clientX;if(A.currentTarget.contains(M)&&B){const W=A.clientX>F.current?"right":"left";I.current=W,F.current=A.clientX}}))})})})})})})});w0.displayName=Rt;var a2="MenuGroup",kh=D.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return L.jsx(Je.div,{role:"group",...n,ref:t})});kh.displayName=a2;var l2="MenuLabel",S0=D.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return L.jsx(Je.div,{...n,ref:t})});S0.displayName=l2;var Sa="MenuItem",mf="menu.itemSelect",Ka=D.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,o=D.useRef(null),l=Ks(Sa,e.__scopeMenu),s=xh(Sa,e.__scopeMenu),a=lt(t,o),u=D.useRef(!1),g=()=>{const f=o.current;if(!r&&f){const v=new CustomEvent(mf,{bubbles:!0,cancelable:!0});f.addEventListener(mf,y=>n==null?void 0:n(y),{once:!0}),xv(f,v),v.defaultPrevented?u.current=!1:l.onClose()}};return L.jsx(b0,{...i,ref:a,disabled:r,onClick:ae(e.onClick,g),onPointerDown:f=>{var v;(v=e.onPointerDown)==null||v.call(e,f),u.current=!0},onPointerUp:ae(e.onPointerUp,f=>{var v;u.current||(v=f.currentTarget)==null||v.click()}),onKeyDown:ae(e.onKeyDown,f=>{const v=s.searchRef.current!=="";r||v&&f.key===" "||ou.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ka.displayName=Sa;var b0=D.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...o}=e,l=xh(Sa,r),s=v0(r),a=D.useRef(null),u=lt(t,a),[g,f]=D.useState(!1),[v,y]=D.useState("");return D.useEffect(()=>{const S=a.current;S&&y((S.textContent??"").trim())},[o.children]),L.jsx(Is.ItemSlot,{scope:r,disabled:n,textValue:i??v,children:L.jsx(ab,{asChild:!0,...s,focusable:!n,children:L.jsx(Je.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:ae(e.onPointerMove,Bs(S=>{n?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ae(e.onPointerLeave,Bs(S=>l.onItemLeave(S))),onFocus:ae(e.onFocus,()=>f(!0)),onBlur:ae(e.onBlur,()=>f(!1))})})})}),c2="MenuCheckboxItem",C0=D.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return L.jsx(A0,{scope:e.__scopeMenu,checked:r,children:L.jsx(Ka,{role:"menuitemcheckbox","aria-checked":ba(r)?"mixed":r,...i,ref:t,"data-state":Ah(r),onSelect:ae(i.onSelect,()=>n==null?void 0:n(ba(r)?!0:!r),{checkForDefaultPrevented:!1})})})});C0.displayName=c2;var x0="MenuRadioGroup",[u2,h2]=Rn(x0,{value:void 0,onValueChange:()=>{}}),E0=D.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,o=$t(n);return L.jsx(u2,{scope:e.__scopeMenu,value:r,onValueChange:o,children:L.jsx(kh,{...i,ref:t})})});E0.displayName=x0;var k0="MenuRadioItem",R0=D.forwardRef((e,t)=>{const{value:r,...n}=e,i=h2(k0,e.__scopeMenu),o=r===i.value;return L.jsx(A0,{scope:e.__scopeMenu,checked:o,children:L.jsx(Ka,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":Ah(o),onSelect:ae(n.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,r)},{checkForDefaultPrevented:!1})})})});R0.displayName=k0;var Rh="MenuItemIndicator",[A0,d2]=Rn(Rh,{checked:!1}),P0=D.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,o=d2(Rh,r);return L.jsx(Vs,{present:n||ba(o.checked)||o.checked===!0,children:L.jsx(Je.span,{...i,ref:t,"data-state":Ah(o.checked)})})});P0.displayName=Rh;var f2="MenuSeparator",T0=D.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return L.jsx(Je.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});T0.displayName=f2;var p2="MenuArrow",D0=D.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=Ga(r);return L.jsx(VS,{...i,...n,ref:t})});D0.displayName=p2;var g2="MenuSub",[n5,L0]=Rn(g2),rs="MenuSubTrigger",M0=D.forwardRef((e,t)=>{const r=An(rs,e.__scopeMenu),n=Ks(rs,e.__scopeMenu),i=L0(rs,e.__scopeMenu),o=xh(rs,e.__scopeMenu),l=D.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:a}=o,u={__scopeMenu:e.__scopeMenu},g=D.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return D.useEffect(()=>g,[g]),D.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),a(null)}},[s,a]),L.jsx(bh,{asChild:!0,...u,children:L.jsx(b0,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":B0(r.open),...e,ref:$a(t,i.onTriggerChange),onClick:f=>{var v;(v=e.onClick)==null||v.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ae(e.onPointerMove,Bs(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),g()},100))})),onPointerLeave:ae(e.onPointerLeave,Bs(f=>{var y,S;g();const v=(y=r.content)==null?void 0:y.getBoundingClientRect();if(v){const _=(S=r.content)==null?void 0:S.dataset.side,p=_==="right",d=p?-5:5,c=v[p?"left":"right"],h=v[p?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+d,y:f.clientY},{x:c,y:v.top},{x:h,y:v.top},{x:h,y:v.bottom},{x:c,y:v.bottom}],side:_}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ae(e.onKeyDown,f=>{var y;const v=o.searchRef.current!=="";e.disabled||v&&f.key===" "||Yb[n.dir].includes(f.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),f.preventDefault())})})})});M0.displayName=rs;var O0="MenuSubContent",I0=D.forwardRef((e,t)=>{const r=_0(Rt,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,o=An(Rt,e.__scopeMenu),l=Ks(Rt,e.__scopeMenu),s=L0(O0,e.__scopeMenu),a=D.useRef(null),u=lt(t,a);return L.jsx(Is.Provider,{scope:e.__scopeMenu,children:L.jsx(Vs,{present:n||o.open,children:L.jsx(Is.Slot,{scope:e.__scopeMenu,children:L.jsx(Eh,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:u,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var f;l.isUsingKeyboardRef.current&&((f=a.current)==null||f.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:ae(e.onFocusOutside,g=>{g.target!==s.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ae(e.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:ae(e.onKeyDown,g=>{var y;const f=g.currentTarget.contains(g.target),v=Jb[l.dir].includes(g.key);f&&v&&(o.onOpenChange(!1),(y=s.trigger)==null||y.focus(),g.preventDefault())})})})})})});I0.displayName=O0;function B0(e){return e?"open":"closed"}function ba(e){return e==="indeterminate"}function Ah(e){return ba(e)?"indeterminate":e?"checked":"unchecked"}function v2(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function m2(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function _2(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let l=m2(e,Math.max(o,0));i.length===1&&(l=l.filter(u=>u!==r));const a=l.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return a!==r?a:void 0}function y2(e,t){const{x:r,y:n}=e;let i=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const s=t[o].x,a=t[o].y,u=t[l].x,g=t[l].y;a>n!=g>n&&r<(u-s)*(n-a)/(g-a)+s&&(i=!i)}return i}function w2(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return y2(r,t)}function Bs(e){return t=>t.pointerType==="mouse"?e(t):void 0}var S2=m0,b2=bh,C2=y0,x2=w0,E2=kh,k2=S0,R2=Ka,A2=C0,P2=E0,T2=R0,D2=P0,L2=T0,M2=D0,O2=M0,I2=I0,Ph="DropdownMenu",[B2,i5]=bv(Ph,[g0]),Ze=g0(),[N2,N0]=B2(Ph),F0=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:o,onOpenChange:l,modal:s=!0}=e,a=Ze(t),u=D.useRef(null),[g=!1,f]=Cv({prop:i,defaultProp:o,onChange:l});return L.jsx(N2,{scope:t,triggerId:eu(),triggerRef:u,contentId:eu(),open:g,onOpenChange:f,onOpenToggle:D.useCallback(()=>f(v=>!v),[f]),modal:s,children:L.jsx(S2,{...a,open:g,onOpenChange:f,dir:n,modal:s,children:r})})};F0.displayName=Ph;var j0="DropdownMenuTrigger",$0=D.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,o=N0(j0,r),l=Ze(r);return L.jsx(b2,{asChild:!0,...l,children:L.jsx(Je.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:$a(t,o.triggerRef),onPointerDown:ae(e.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(o.onOpenToggle(),o.open||s.preventDefault())}),onKeyDown:ae(e.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&o.onOpenToggle(),s.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});$0.displayName=j0;var F2="DropdownMenuPortal",z0=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ze(t);return L.jsx(C2,{...n,...r})};z0.displayName=F2;var H0="DropdownMenuContent",W0=D.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=N0(H0,r),o=Ze(r),l=D.useRef(!1);return L.jsx(x2,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...n,ref:t,onCloseAutoFocus:ae(e.onCloseAutoFocus,s=>{var a;l.current||(a=i.triggerRef.current)==null||a.focus(),l.current=!1,s.preventDefault()}),onInteractOutside:ae(e.onInteractOutside,s=>{const a=s.detail.originalEvent,u=a.button===0&&a.ctrlKey===!0,g=a.button===2||u;(!i.modal||g)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});W0.displayName=H0;var j2="DropdownMenuGroup",$2=D.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ze(r);return L.jsx(E2,{...i,...n,ref:t})});$2.displayName=j2;var z2="DropdownMenuLabel",H2=D.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ze(r);return L.jsx(k2,{...i,...n,ref:t})});H2.displayName=z2;var W2="DropdownMenuItem",U0=D.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ze(r);return L.jsx(R2,{...i,...n,ref:t})});U0.displayName=W2;var U2="DropdownMenuCheckboxItem",V2=D.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ze(r);return L.jsx(A2,{...i,...n,ref:t})});V2.displayName=U2;var G2="DropdownMenuRadioGroup",K2=D.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ze(r);return L.jsx(P2,{...i,...n,ref:t})});K2.displayName=G2;var q2="DropdownMenuRadioItem",X2=D.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ze(r);return L.jsx(T2,{...i,...n,ref:t})});X2.displayName=q2;var Y2="DropdownMenuItemIndicator",J2=D.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ze(r);return L.jsx(D2,{...i,...n,ref:t})});J2.displayName=Y2;var Z2="DropdownMenuSeparator",V0=D.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ze(r);return L.jsx(L2,{...i,...n,ref:t})});V0.displayName=Z2;var Q2="DropdownMenuArrow",eC=D.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ze(r);return L.jsx(M2,{...i,...n,ref:t})});eC.displayName=Q2;var tC="DropdownMenuSubTrigger",rC=D.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ze(r);return L.jsx(O2,{...i,...n,ref:t})});rC.displayName=tC;var nC="DropdownMenuSubContent",iC=D.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ze(r);return L.jsx(I2,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iC.displayName=nC;var _f=F0,yf=$0,wf=z0,Sf=W0,sC=U0,oC=V0;const aC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxrbGxsZ255bXppZ2V6Ym96YnRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzIzOTE5MDUsImV4cCI6MjA0Nzk2NzkwNX0.9bThEPldSYM0quclcJlW1Fk9hn4ucDb0cqtM-MxpvdM",VITE_SUPABASE_URL:"https://lklllgnymzigezbozbtq.supabase.co"},bf=e=>{let t;const r=new Set,n=(g,f)=>{const v=typeof g=="function"?g(t):g;if(!Object.is(v,t)){const y=t;t=f??(typeof v!="object"||v===null)?v:Object.assign({},t,v),r.forEach(S=>S(t,y))}},i=()=>t,a={setState:n,getState:i,getInitialState:()=>u,subscribe:g=>(r.add(g),()=>r.delete(g)),destroy:()=>{(aC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,i,a);return a},lC=e=>e?bf(e):bf;var G0={exports:{}},K0={},q0={exports:{}},X0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bi=D;function cC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uC=typeof Object.is=="function"?Object.is:cC,hC=bi.useState,dC=bi.useEffect,fC=bi.useLayoutEffect,pC=bi.useDebugValue;function gC(e,t){var r=t(),n=hC({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return fC(function(){i.value=r,i.getSnapshot=t,Gl(i)&&o({inst:i})},[e,r,t]),dC(function(){return Gl(i)&&o({inst:i}),e(function(){Gl(i)&&o({inst:i})})},[e]),pC(r),r}function Gl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!uC(e,r)}catch{return!0}}function vC(e,t){return t()}var mC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vC:gC;X0.useSyncExternalStore=bi.useSyncExternalStore!==void 0?bi.useSyncExternalStore:mC;q0.exports=X0;var _C=q0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=D,yC=_C;function wC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var SC=typeof Object.is=="function"?Object.is:wC,bC=yC.useSyncExternalStore,CC=qa.useRef,xC=qa.useEffect,EC=qa.useMemo,kC=qa.useDebugValue;K0.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=CC(null);if(o.current===null){var l={hasValue:!1,value:null};o.current=l}else l=o.current;o=EC(function(){function a(y){if(!u){if(u=!0,g=y,y=n(y),i!==void 0&&l.hasValue){var S=l.value;if(i(S,y))return f=S}return f=y}if(S=f,SC(g,y))return S;var _=n(y);return i!==void 0&&i(S,_)?S:(g=y,f=_)}var u=!1,g,f,v=r===void 0?null:r;return[function(){return a(t())},v===null?void 0:function(){return a(v())}]},[t,r,n,i]);var s=bC(e,o[0],o[1]);return xC(function(){l.hasValue=!0,l.value=s},[s]),kC(s),s};G0.exports=K0;var RC=G0.exports;const AC=Fs(RC),Y0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxrbGxsZ255bXppZ2V6Ym96YnRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzIzOTE5MDUsImV4cCI6MjA0Nzk2NzkwNX0.9bThEPldSYM0quclcJlW1Fk9hn4ucDb0cqtM-MxpvdM",VITE_SUPABASE_URL:"https://lklllgnymzigezbozbtq.supabase.co"},{useDebugValue:PC}=N,{useSyncExternalStoreWithSelector:TC}=AC;let Cf=!1;const DC=e=>e;function LC(e,t=DC,r){(Y0?"production":void 0)!=="production"&&r&&!Cf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Cf=!0);const n=TC(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return PC(n),n}const xf=e=>{(Y0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?lC(e):e,r=(n,i)=>LC(t,n,i);return Object.assign(r,t),r},MC=e=>e?xf(e):xf,OC="modulepreload",IC=function(e){return"/"+e},Ef={},Ci=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),s=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(r.map(a=>{if(a=IC(a),a in Ef)return;Ef[a]=!0;const u=a.endsWith(".css"),g=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${g}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":OC,u||(f.as="script"),f.crossOrigin="",f.href=a,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((v,y)=>{f.addEventListener("load",v),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(l){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=l,window.dispatchEvent(s),!s.defaultPrevented)throw l}return i.then(l=>{for(const s of l||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})},BC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ci(async()=>{const{default:n}=await Promise.resolve().then(()=>Ti);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Th extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class NC extends Th{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class FC extends Th{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jC extends Th{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var au;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(au||(au={}));var $C=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function s(g){try{u(n.next(g))}catch(f){l(f)}}function a(g){try{u(n.throw(g))}catch(f){l(f)}}function u(g){g.done?o(g.value):i(g.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};class zC{constructor(t,{headers:r={},customFetch:n,region:i=au.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=BC(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return $C(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:l}=r;let s={},{region:a}=r;a||(a=this.region),a&&a!=="any"&&(s["x-region"]=a);let u;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(s["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(s["Content-Type"]="application/json",u=JSON.stringify(l)));const g=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),i),body:u}).catch(S=>{throw new NC(S)}),f=g.headers.get("x-relay-error");if(f&&f==="true")throw new FC(g);if(!g.ok)throw new jC(g);let v=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield g.json():v==="application/octet-stream"?y=yield g.blob():v==="text/event-stream"?y=g:v==="multipart/form-data"?y=yield g.formData():y=yield g.text(),{data:y,error:null}}catch(i){return{data:null,error:i}}})}}var rt={},Dh={},Xa={},qs={},Ya={},Ja={},HC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xi=HC();const WC=xi.fetch,J0=xi.fetch.bind(xi),Z0=xi.Headers,UC=xi.Request,VC=xi.Response,Ti=Object.freeze(Object.defineProperty({__proto__:null,Headers:Z0,Request:UC,Response:VC,default:J0,fetch:WC},Symbol.toStringTag,{value:"Module"})),GC=op(Ti);var Za={};Object.defineProperty(Za,"__esModule",{value:!0});class KC extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}Za.default=KC;var Q0=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ja,"__esModule",{value:!0});const qC=Q0(GC),XC=Q0(Za);let YC=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=qC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var l,s,a;let u=null,g=null,f=null,v=o.status,y=o.statusText;if(o.ok){if(this.method!=="HEAD"){const d=await o.text();d===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=d:g=JSON.parse(d))}const _=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(s=o.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");_&&p&&p.length>1&&(f=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(u={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,f=null,v=406,y="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await o.text();try{u=JSON.parse(_),Array.isArray(u)&&o.status===404&&(g=[],u=null,v=200,y="OK")}catch{o.status===404&&_===""?(v=204,y="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,v=200,y="OK"),u&&this.shouldThrowOnError)throw new XC.default(u)}return{error:u,data:g,count:f,status:v,statusText:y}});return this.shouldThrowOnError||(i=i.catch(o=>{var l,s,a;return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(s=o==null?void 0:o.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(a=o==null?void 0:o.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}};Ja.default=YC;var JC=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ya,"__esModule",{value:!0});const ZC=JC(Ja);let QC=class extends ZC.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.order`:"order",s=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${s?`${s},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:l="text"}={}){var s;const a=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${a};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ya.default=QC;var ex=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qs,"__esModule",{value:!0});const tx=ex(Ya);let rx=class extends tx.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};qs.default=rx;var nx=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xa,"__esModule",{value:!0});const Gi=nx(qs);let ix=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new Gi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((s,a)=>s.concat(Object.keys(a)),[]);if(l.length>0){const s=[...new Set(l)].map(a=>`"${a}"`);this.url.searchParams.set("columns",s.join(","))}}return new Gi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){const l="POST",s=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push(`count=${i}`),o||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((u,g)=>u.concat(Object.keys(g)),[]);if(a.length>0){const u=[...new Set(a)].map(g=>`"${g}"`);this.url.searchParams.set("columns",u.join(","))}}return new Gi.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Gi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Gi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Xa.default=ix;var Qa={},el={};Object.defineProperty(el,"__esModule",{value:!0});el.version=void 0;el.version="0.0.0-automated";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.DEFAULT_HEADERS=void 0;const sx=el;Qa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${sx.version}`};var em=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dh,"__esModule",{value:!0});const ox=em(Xa),ax=em(qs),lx=Qa;let cx=class tm{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},lx.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new ox.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new tm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:o}={}){let l;const s=new URL(`${this.url}/rpc/${t}`);let a;n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([g,f])=>f!==void 0).map(([g,f])=>[g,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([g,f])=>{s.searchParams.append(g,f)})):(l="POST",a=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new ax.default({method:l,url:s,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};Dh.default=cx;var Di=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rt,"__esModule",{value:!0});rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const rm=Di(Dh);rt.PostgrestClient=rm.default;const nm=Di(Xa);rt.PostgrestQueryBuilder=nm.default;const im=Di(qs);rt.PostgrestFilterBuilder=im.default;const sm=Di(Ya);rt.PostgrestTransformBuilder=sm.default;const om=Di(Ja);rt.PostgrestBuilder=om.default;const am=Di(Za);rt.PostgrestError=am.default;var ux=rt.default={PostgrestClient:rm.default,PostgrestQueryBuilder:nm.default,PostgrestFilterBuilder:im.default,PostgrestTransformBuilder:sm.default,PostgrestBuilder:om.default,PostgrestError:am.default};const{PostgrestClient:hx,PostgrestQueryBuilder:c5,PostgrestFilterBuilder:u5,PostgrestTransformBuilder:h5,PostgrestBuilder:d5}=ux,dx="2.10.7",fx={"X-Client-Info":`realtime-js/${dx}`},px="1.0.0",lm=1e4,gx=1e3;var hi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(hi||(hi={}));var ut;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ut||(ut={}));var It;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(It||(It={}));var lu;(function(e){e.websocket="websocket"})(lu||(lu={}));var un;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(un||(un={}));class vx{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),o=r.getUint8(2);let l=this.HEADER_LENGTH+2;const s=n.decode(t.slice(l,l+i));l=l+i;const a=n.decode(t.slice(l,l+o));l=l+o;const u=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:s,event:a,payload:u}}}class cm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(de||(de={}));const kf=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,l)=>(o[l]=mx(l,e,t,i),o),{})},mx=(e,t,r,n)=>{const i=t.find(s=>s.name===e),o=i==null?void 0:i.type,l=r[e];return o&&!n.includes(o)?um(o,l):cu(l)},um=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Sx(t,r)}switch(e){case de.bool:return _x(t);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return yx(t);case de.json:case de.jsonb:return wx(t);case de.timestamp:return bx(t);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return cu(t);default:return cu(t)}},cu=e=>e,_x=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},yx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Sx=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const l=e.slice(1,r);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(s=>um(t,s))}return e},bx=e=>typeof e=="string"?e.replace(" ","T"):e,hm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Kl{constructor(t,r,n={},i=lm){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Rf||(Rf={}));class ps{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:l,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ps.syncState(this.state,i,o,l),this.pendingDiffs.forEach(a=>{this.state=ps.syncDiff(this.state,a,o,l)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ps.syncDiff(this.state,i,o,l),s())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const o=this.cloneDeep(t),l=this.transformState(r),s={},a={};return this.map(o,(u,g)=>{l[u]||(a[u]=g)}),this.map(l,(u,g)=>{const f=o[u];if(f){const v=g.map(p=>p.presence_ref),y=f.map(p=>p.presence_ref),S=g.filter(p=>y.indexOf(p.presence_ref)<0),_=f.filter(p=>v.indexOf(p.presence_ref)<0);S.length>0&&(s[u]=S),_.length>0&&(a[u]=_)}else s[u]=g}),this.syncDiff(o,{joins:s,leaves:a},n,i)}static syncDiff(t,r,n,i){const{joins:o,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(s,a)=>{var u;const g=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(a),g.length>0){const f=t[s].map(y=>y.presence_ref),v=g.filter(y=>f.indexOf(y.presence_ref)<0);t[s].unshift(...v)}n(s,g,a)}),this.map(l,(s,a)=>{let u=t[s];if(!u)return;const g=a.map(f=>f.presence_ref);u=u.filter(f=>g.indexOf(f.presence_ref)<0),t[s]=u,i(s,u,a),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Af;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Af||(Af={}));var Pf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pf||(Pf={}));var Tf;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Tf||(Tf={}));class Lh{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Kl(this,It.join,this.params,this.timeout),this.rejoinTimer=new cm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new ps(this),this.broadcastEndpointURL=hm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:l,private:s}}=this.params;this._onError(g=>t&&t("CHANNEL_ERROR",g)),this._onClose(()=>t&&t("CLOSED"));const a={},u={broadcast:o,presence:l,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],private:s};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:g})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),g===void 0){t&&t("SUBSCRIBED");return}else{const v=this.bindings.postgres_changes,y=(f=v==null?void 0:v.length)!==null&&f!==void 0?f:0,S=[];for(let _=0;_<y;_++){const p=v[_],{filter:{event:d,schema:c,table:h,filter:m}}=p,w=g&&g[_];if(w&&w.event===d&&w.schema===c&&w.table===h&&w.filter===m)S.push(Object.assign(Object.assign({},p),{id:w.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t("SUBSCRIBED");return}}).receive("error",g=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,s={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=a.body)===null||i===void 0?void 0:i.cancel()),a.ok?"ok":"error"}catch(a){return a.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,s,a;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(s=(l=this.params)===null||l===void 0?void 0:l.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ut.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new Kl(this,It.leave,{},t);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Kl(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,o;const l=t.toLocaleLowerCase(),{close:s,error:a,leave:u,join:g}=It;if(n&&[s,a,u,g].indexOf(l)>=0&&n!==this._joinRef())return;let v=this._onMessage(l,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var S,_,p;return((S=y.filter)===null||S===void 0?void 0:S.event)==="*"||((p=(_=y.filter)===null||_===void 0?void 0:_.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===l}).map(y=>y.callback(v,n)):(o=this.bindings[l])===null||o===void 0||o.filter(y=>{var S,_,p,d,c,h;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const m=y.id,w=(S=y.filter)===null||S===void 0?void 0:S.event;return m&&((_=r.ids)===null||_===void 0?void 0:_.includes(m))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const m=(c=(d=y==null?void 0:y.filter)===null||d===void 0?void 0:d.event)===null||c===void 0?void 0:c.toLocaleLowerCase();return m==="*"||m===((h=r==null?void 0:r.event)===null||h===void 0?void 0:h.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:_,table:p,commit_timestamp:d,type:c,errors:h}=S;v=Object.assign(Object.assign({},{schema:_,table:p,commit_timestamp:d,eventType:c,new:{},old:{},errors:h}),this._getPayloadRecords(S))}y.callback(v,n)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Lh.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(It.close,{},t)}_onError(t){this._on(It.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=kf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=kf(t.columns,t.old_record)),r}}const Cx=()=>{},xx=typeof WebSocket<"u",Ex=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kx{constructor(t,r){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=fx,this.params={},this.timeout=lm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Cx,this.conn=null,this.sendBuffer=[],this.serializer=new vx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...s)=>Ci(async()=>{const{default:a}=await Promise.resolve().then(()=>Ti);return{default:a}},void 0).then(({default:a})=>a(...s)):l=fetch,(...s)=>l(...s)},this.endPoint=`${t}/${lu.websocket}`,this.httpEndpoint=hm(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,l)=>l(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new cm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(xx){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Rx(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Ci(async()=>{const{default:t}=await import("./browser-NueSddBK.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case hi.connecting:return un.Connecting;case hi.open:return un.Open;case hi.closing:return un.Closing;default:return un.Closed}}isConnected(){return this.connectionState()===un.Open}channel(t,r={config:{}}){const n=new Lh(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:i,ref:o}=t,l=()=>{this.encode(t,s=>{var a;(a=this.conn)===null||a===void 0||a.send(s)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}setAuth(t){this.accessToken=t,this.channels.forEach(r=>{t&&r.updateJoinPayload({access_token:t}),r.joinedOnce&&r._isJoined()&&r._push(It.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:px}))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:o,ref:l}=r;(l&&l===this.pendingHeartbeatRef||i===(o==null?void 0:o.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${i} ${l&&"("+l+")"||""}`,o),this.channels.filter(s=>s._isMember(n)).forEach(s=>s._trigger(i,o,l)),this.stateChangeCallbacks.message.forEach(s=>s(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(It.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(gx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Ex],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Rx{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=hi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Mh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ax extends Mh{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class uu extends Mh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Px=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function s(g){try{u(n.next(g))}catch(f){l(f)}}function a(g){try{u(n.throw(g))}catch(f){l(f)}}function u(g){g.done?o(g.value):i(g.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};const dm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ci(async()=>{const{default:n}=await Promise.resolve().then(()=>Ti);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Tx=()=>Px(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ci(()=>Promise.resolve().then(()=>Ti),void 0)).Response:Response}),hu=e=>{if(Array.isArray(e))return e.map(r=>hu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=hu(n)}),t};var Pn=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function s(g){try{u(n.next(g))}catch(f){l(f)}}function a(g){try{u(n.throw(g))}catch(f){l(f)}}function u(g){g.done?o(g.value):i(g.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};const ql=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dx=(e,t,r)=>Pn(void 0,void 0,void 0,function*(){const n=yield Tx();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new Ax(ql(i),e.status||500))}).catch(i=>{t(new uu(ql(i),i))}):t(new uu(ql(e),e))}),Lx=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Xs(e,t,r,n,i,o){return Pn(this,void 0,void 0,function*(){return new Promise((l,s)=>{e(r,Lx(t,n,i,o)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?a:a.json()}).then(a=>l(a)).catch(a=>Dx(a,s,n))})})}function Ca(e,t,r,n){return Pn(this,void 0,void 0,function*(){return Xs(e,"GET",t,r,n)})}function Mr(e,t,r,n,i){return Pn(this,void 0,void 0,function*(){return Xs(e,"POST",t,n,i,r)})}function Mx(e,t,r,n,i){return Pn(this,void 0,void 0,function*(){return Xs(e,"PUT",t,n,i,r)})}function Ox(e,t,r,n){return Pn(this,void 0,void 0,function*(){return Xs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function fm(e,t,r,n,i){return Pn(this,void 0,void 0,function*(){return Xs(e,"DELETE",t,n,i,r)})}var Qe=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function s(g){try{u(n.next(g))}catch(f){l(f)}}function a(g){try{u(n.throw(g))}catch(f){l(f)}}function u(g){g.done?o(g.value):i(g.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};const Ix={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Df={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bx{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=dm(i)}uploadOrUpdate(t,r,n,i){return Qe(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},Df),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const a=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),a&&o.append("metadata",this.encodeMetadata(a)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",l.cacheControl),a&&o.append("metadata",this.encodeMetadata(a))):(o=n,s["cache-control"]=`max-age=${l.cacheControl}`,s["content-type"]=l.contentType,a&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(r),g=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:o,headers:s},l!=null&&l.duplex?{duplex:l.duplex}:{})),v=yield f.json();return f.ok?{data:{path:u,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(Le(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Qe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${l}`);s.searchParams.set("token",r);try{let a;const u=Object.assign({upsert:Df.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",u.cacheControl)):(a=n,g["cache-control"]=`max-age=${u.cacheControl}`,g["content-type"]=u.contentType);const f=yield this.fetch(s.toString(),{method:"PUT",body:a,headers:g}),v=yield f.json();return f.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(a){if(Le(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,r){return Qe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const o=yield Mr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+o.url),s=l.searchParams.get("token");if(!s)throw new Mh("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:s},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}update(t,r,n){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Qe(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Mr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Qe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Mr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Qe(this,void 0,void 0,function*(){try{const i=yield Mr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}download(t,r){return Qe(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=o?`?${o}`:"";try{const s=this._getFinalPath(t);return{data:yield(yield Ca(this.fetch,`${this.url}/${i}/${s}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}info(t){return Qe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ca(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:hu(n),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}exists(t){return Qe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ox(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Le(n)&&n instanceof uu){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&i.push(o);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});a!==""&&i.push(a);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return Qe(this,void 0,void 0,function*(){try{return{data:yield fm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}list(t,r,n){return Qe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Ix),r),{prefix:t||""});return{data:yield Mr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Nx="2.7.1",Fx={"X-Client-Info":`storage-js/${Nx}`};var Fn=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function s(g){try{u(n.next(g))}catch(f){l(f)}}function a(g){try{u(n.throw(g))}catch(f){l(f)}}function u(g){g.done?o(g.value):i(g.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};class jx{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Fx),r),this.fetch=dm(n)}listBuckets(){return Fn(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Le(t))return{data:null,error:t};throw t}})}getBucket(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Fn(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Fn(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield fm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}}class $x extends jx{constructor(t,r={},n){super(t,r,n)}from(t){return new Bx(this.url,this.headers,t,this.fetch)}}const zx="2.46.1";let ns="";typeof Deno<"u"?ns="deno":typeof document<"u"?ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ns="react-native":ns="node";const Hx={"X-Client-Info":`supabase-js-${ns}/${zx}`},Wx={headers:Hx},Ux={schema:"public"},Vx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gx={};var Kx=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function s(g){try{u(n.next(g))}catch(f){l(f)}}function a(g){try{u(n.throw(g))}catch(f){l(f)}}function u(g){g.done?o(g.value):i(g.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};const qx=e=>{let t;return e?t=e:typeof fetch>"u"?t=J0:t=fetch,(...r)=>t(...r)},Xx=()=>typeof Headers>"u"?Z0:Headers,Yx=(e,t,r)=>{const n=qx(r),i=Xx();return(o,l)=>Kx(void 0,void 0,void 0,function*(){var s;const a=(s=yield t())!==null&&s!==void 0?s:e;let u=new i(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),n(o,Object.assign(Object.assign({},l),{headers:u}))})};var Jx=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function s(g){try{u(n.next(g))}catch(f){l(f)}}function a(g){try{u(n.throw(g))}catch(f){l(f)}}function u(g){g.done?o(g.value):i(g.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};function Zx(e){return e.replace(/\/$/,"")}function Qx(e,t){const{db:r,auth:n,realtime:i,global:o}=e,{db:l,auth:s,realtime:a,global:u}=t,g={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},s),n),realtime:Object.assign(Object.assign({},a),i),global:Object.assign(Object.assign({},u),o),accessToken:()=>Jx(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const pm="2.65.1",eE="http://localhost:9999",tE="supabase.auth.token",rE={"X-Client-Info":`gotrue-js/${pm}`},Lf=10,du="X-Supabase-Api-Version",gm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function nE(e){return Math.round(Date.now()/1e3)+e}function iE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Dt=()=>typeof document<"u",on={tested:!1,writable:!1},gs=()=>{if(!Dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(on.tested)return on.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),on.tested=!0,on.writable=!0}catch{on.tested=!0,on.writable=!1}return on.writable};function Xl(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const vm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ci(async()=>{const{default:n}=await Promise.resolve().then(()=>Ti);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},sE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",mm=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},bo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Co=async(e,t)=>{await e.removeItem(t)};function oE(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,i,o,l,s,a,u,g=0;for(e=e.replace("-","+").replace("_","/");g<e.length;)l=t.indexOf(e.charAt(g++)),s=t.indexOf(e.charAt(g++)),a=t.indexOf(e.charAt(g++)),u=t.indexOf(e.charAt(g++)),n=l<<2|s>>4,i=(s&15)<<4|a>>2,o=(a&3)<<6|u,r=r+String.fromCharCode(n),a!=64&&i!=0&&(r=r+String.fromCharCode(i)),u!=64&&o!=0&&(r=r+String.fromCharCode(o));return r}class tl{constructor(){this.promise=new tl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}tl.promiseConstructor=Promise;function Mf(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(oE(n))}async function aE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lE(e,t){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){n(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function cE(e){return("0"+e.toString(16)).substr(-2)}function uE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,cE).join("")}async function hE(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}function dE(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hE(e);return dE(r)}async function jn(e,t,r=!1){const n=uE();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await mm(e,`${t}-code-verifier`,i);const o=await fE(n);return[o,n===o?"plain":"s256"]}const pE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gE(e){const t=e.headers.get(du);if(!t||!t.match(pE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Oh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class vE extends Oh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mE(e){return ie(e)&&e.name==="AuthApiError"}class _m extends Oh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Tn extends Oh{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Pr extends Tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _E(e){return ie(e)&&e.name==="AuthSessionMissingError"}class Yl extends Tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xo extends Tn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Eo extends Tn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Of extends Tn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fu extends Tn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Jl(e){return ie(e)&&e.name==="AuthRetryableFetchError"}class If extends Tn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var yE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const cn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wE=[502,503,504];async function Bf(e){var t;if(!sE(e))throw new fu(cn(e),0);if(wE.includes(e.status))throw new fu(cn(e),e.status);let r;try{r=await e.json()}catch(o){throw new _m(cn(o),o)}let n;const i=gE(e);if(i&&i.getTime()>=gm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new If(cn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Pr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new If(cn(r),e.status,r.weak_password.reasons);throw new vE(cn(r),e.status||500,n)}const SE=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function oe(e,t,r,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[du]||(o[du]=gm["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const s=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",a=await bE(e,t,r+s,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(a):{data:Object.assign({},a),error:null}}async function bE(e,t,r,n,i,o){const l=SE(t,n,i,o);let s;try{s=await e(r,Object.assign({},l))}catch(a){throw console.error(a),new fu(cn(a),0)}if(s.ok||await Bf(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(a){await Bf(a)}}function Tr(e){var t;let r=null;kE(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=nE(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Nf(e){const t=Tr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Br(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function CE(e){return{data:e,error:null}}function xE(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=e,l=yE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},a=Object.assign({},l);return{data:{properties:s,user:a},error:null}}function EE(e){return e}function kE(e){return e.access_token&&e.refresh_token&&e.expires_in}var RE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class AE{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=vm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Br})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=RE(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xE,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Br})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,o,l,s,a;try{const u={nextPage:null,lastPage:0,total:0},g=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:EE});if(g.error)throw g.error;const f=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(a=(s=g.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&a!==void 0?a:[];return y.length>0&&(y.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(S.split(";")[1].split("=")[1]);u[`${p}Page`]=_}),u.total=parseInt(v)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Br})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Br})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Br})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}}const PE={getItem:e=>gs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{gs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{gs()&&globalThis.localStorage.removeItem(e)}};function Ff(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function TE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $n={debug:!!(globalThis&&gs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ym extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class DE extends ym{}async function LE(e,t,r){$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),$n.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw $n.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new DE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($n.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}TE();const ME={url:eE,storageKey:tE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ki=30*1e3,jf=3;async function $f(e,t,r){return await r()}class Ns{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ns.nextInstanceID,Ns.nextInstanceID+=1,this.instanceID>0&&Dt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},ME),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new AE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=vm(i.fetch),this.lock=i.lock||$f,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Dt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=LE:this.lock=$f,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:gs()?this.storage=PE:(this.memoryStorage={},this.storage=Ff(this.memoryStorage)):(this.memoryStorage={},this.storage=Ff(this.memoryStorage)),Dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=Dt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromURL(t);if(n)return this._debug("#_initialize()","error detecting session from URL",n),(n==null?void 0:n.code)==="identity_already_exists"?{error:n}:(await this._removeSession(),{error:n});const{session:i,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ie(t)?{error:t}:{error:new _m("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const o=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Tr}),{data:l,error:s}=o;if(s||!l)return{data:{user:null,session:null},error:s};const a=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(o){if(ie(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,i;try{let o;if("email"in t){const{email:g,password:f,options:v}=t;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await jn(this.storage,this.storageKey)),o=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:g,password:f,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:y,code_challenge_method:S},xform:Tr})}else if("phone"in t){const{phone:g,password:f,options:v}=t;o=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:f,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Tr})}else throw new xo("You must provide either an email or phone number and a password");const{data:l,error:s}=o;if(s||!l)return{data:{user:null,session:null},error:s};const a=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(o){if(ie(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:l,options:s}=t;r=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Nf})}else if("phone"in t){const{phone:o,password:l,options:s}=t;r=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Nf})}else throw new xo("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Yl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await bo(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:o,error:l}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Tr});if(await Co(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Yl}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(ie(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:o,nonce:l}=t,s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Tr}),{data:a,error:u}=s;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Yl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,o,l;try{if("email"in t){const{email:s,options:a}=t;let u=null,g=null;this.flowType==="pkce"&&([u,g]=await jn(this.storage,this.storageKey));const{error:f}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:g},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:s,options:a}=t,{data:u,error:g}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=a==null?void 0:a.data)!==null&&i!==void 0?i:{},create_user:(o=a==null?void 0:a.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(l=a==null?void 0:a.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:g}}throw new xo("You must provide either an email or phone number.")}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let i,o;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:s}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Tr});if(s)throw s;if(!l)throw new Error("An error occurred on token verification.");const a=l.session,u=l.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await jn(this.storage,this.storageKey)),await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:CE})}catch(o){if(ie(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Pr;const{error:i}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ie(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:o}=t,{error:l}=await oe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:i,options:o}=t,{data:l,error:s}=await oe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:s}}throw new xo("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await bo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,u,g)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,g))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Br}):await this._useSession(async r=>{var n,i,o;const{data:l,error:s}=r;if(s)throw s;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pr}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Br})})}catch(r){if(ie(r))return _E(r)&&(await this._removeSession(),await Co(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new Pr;const l=i.session;let s=null,a=null;this.flowType==="pkce"&&t.email!=null&&([s,a]=await jn(this.storage,this.storageKey));const{data:u,error:g}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:a}),jwt:l.access_token,xform:Br});if(g)throw g;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Mf(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pr;const r=Date.now()/1e3;let n=r,i=!0,o=null;const l=Mf(t.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:a}=await this._getUser(t.access_token);if(a)throw a;o={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ie(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:s}=r;if(s)throw s;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Pr;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t){try{if(!Dt())throw new Eo("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Eo("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Of("Not a valid PKCE flow url.");const r=Xl(window.location.href);if(t){if(!r.code)throw new Of("No code detected.");const{data:c,error:h}=await this._exchangeCodeForSession(r.code);if(h)throw h;const m=new URL(window.location.href);return m.searchParams.delete("code"),window.history.replaceState(window.history.state,"",m.toString()),{data:{session:c.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new Eo(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:s,expires_at:a,token_type:u}=r;if(!o||!s||!l||!u)throw new Eo("No session defined in URL");const g=Math.round(Date.now()/1e3),f=parseInt(s);let v=g+f;a&&(v=parseInt(a));const y=v-g;y*1e3<=Ki&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const S=v-f;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,g);const{data:_,error:p}=await this._getUser(o);if(p)throw p;const d={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:v,refresh_token:l,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:d,redirectType:r.type},error:null}}catch(r){if(ie(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const t=Xl(window.location.href);return!!(Dt()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=Xl(window.location.href),r=await bo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{error:o};const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:s}=await this.admin.signOut(l,t);if(s&&!(mE(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await Co(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=iE(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await jn(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ie(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var l,s,a,u,g;const{data:f,error:v}=o;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",y,{headers:this.headers,jwt:(g=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Dt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ie(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:o,error:l}=r;if(l)throw l;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await lE(async i=>(i>0&&await aE(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Jl(o)&&Date.now()+l-n<Ki})}catch(n){if(this._debug(r,"error",n),ie(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Dt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await bo(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),o=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<i+Lf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Lf}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:l}=await this._callRefreshToken(n.refresh_token);l&&(console.error(l),Jl(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new tl;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Pr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={session:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),ie(o)){const l={session:null,error:o};return Jl(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(a){o.push(a)}});if(await Promise.all(l),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await mm(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Co(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ki);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ki);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ki}ms, refresh threshold is ${jf} ticks`),i<=jf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ym)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,l]=await jn(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:o,error:l}=r;if(l)return{data:null,error:l};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:u}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=a==null?void 0:a.totp)===null||i===void 0)&&i.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const{data:l,error:s}=await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:s})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(i.access_token);let s=null;l.aal&&(s=l.aal);let a=s;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const g=l.amr||[];return{data:{currentLevel:s,nextLevel:a,currentAuthenticationMethods:g},error:null}}))}}Ns.nextInstanceID=0;const OE=Ns;class IE extends OE{constructor(t){super(t)}}var BE=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function s(g){try{u(n.next(g))}catch(f){l(f)}}function a(g){try{u(n.throw(g))}catch(f){l(f)}}function u(g){g.done?o(g.value):i(g.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};class NE{constructor(t,r,n){var i,o,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const s=Zx(t);this.realtimeUrl=`${s}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${s}/auth/v1`,this.storageUrl=`${s}/storage/v1`,this.functionsUrl=`${s}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Ux,realtime:Gx,auth:Object.assign(Object.assign({},Vx),{storageKey:a}),global:Wx},g=Qx(n??{},u);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(f,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=Yx(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new hx(`${s}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new zC(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $x(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return BE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:o,flowType:l,lock:s,debug:a},u,g){var f;const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IE({url:this.authUrl,headers:Object.assign(Object.assign({},v),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:l,lock:s,debug:a,fetch:g,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(t){return new kx(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FE=(e,t,r)=>new NE(e,t,r),jE="https://lklllgnymzigezbozbtq.supabase.co",$E="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxrbGxsZ255bXppZ2V6Ym96YnRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzIzOTE5MDUsImV4cCI6MjA0Nzk2NzkwNX0.9bThEPldSYM0quclcJlW1Fk9hn4ucDb0cqtM-MxpvdM",Et=FE(jE,$E),zE="https://images.unsplash.com/photo-1520769669658-f07657f5a307?auto=format&fit=crop&q=80&w=3440&h=1920",vt=MC((e,t)=>({windows:[],activeWindow:null,user:null,userPreferences:{background_url:zE,theme:"dark"},setUser:r=>e({user:r}),addWindow:r=>e(n=>({windows:[...n.windows,r],activeWindow:r.id})),removeWindow:r=>e(n=>({windows:n.windows.filter(i=>i.id!==r),activeWindow:n.activeWindow===r?null:n.activeWindow})),setActiveWindow:r=>e({activeWindow:r}),minimizeWindow:r=>e(n=>({windows:n.windows.map(i=>i.id===r?{...i,minimized:!0}:i)})),maximizeWindow:r=>e(n=>({windows:n.windows.map(i=>i.id===r?{...i,maximized:!i.maximized}:i)})),setBackground:async r=>{const{user:n}=t();if(!n)return;const{error:i}=await Et.from("user_preferences").upsert({user_id:n.id,background_url:r});i||e(o=>({userPreferences:{...o.userPreferences,background_url:r}}))},showAuth:!1,setShowAuth:r=>e({showAuth:r})})),HE=()=>{const[e,t]=D.useState(null),{user:r,windows:n,removeWindow:i,minimizeWindow:o,maximizeWindow:l,addWindow:s}=vt(),a=async()=>{await Et.auth.signOut()},u=()=>{s({id:`about-${Date.now()}`,title:"About This Mac",type:"custom",minimized:!1,maximized:!1,position:{x:window.innerWidth/2-250,y:window.innerHeight/2-150},size:{width:500,height:300}})},g=()=>{s({id:`preferences-${Date.now()}`,title:"System Preferences",type:"preferences",minimized:!1,maximized:!1,position:{x:100,y:100},size:{width:800,height:600}})},f=()=>{const h=n.find(m=>!m.minimized);h&&s({id:`${h.type}-${Date.now()}`,title:h.title,type:h.type,minimized:!1,maximized:!1,position:{x:h.position.x+30,y:h.position.y+30},size:h.size})},v=()=>{const h=n.find(m=>!m.minimized);h&&i(h.id)},y=()=>{const h=n.find(m=>!m.minimized);h&&o(h.id)},S=()=>{const h=n.find(m=>!m.minimized);h&&l(h.id)},_=()=>r?!0:(vt.getState().setShowAuth(!0),!1),p={apple:[{label:"About This Mac",action:u},{label:"System Settings...",action:()=>_()&&g()},{type:"separator"},{label:"Sleep",action:()=>document.body.style.opacity="0.5"},{label:"Restart...",action:()=>window.location.reload()},{label:"Shut Down...",action:a},{type:"separator"},{label:"Lock Screen",action:a},{label:"Log Out...",action:a}],file:[{label:"New Window",action:f,shortcut:"⌘N"},{type:"separator"},{label:"Close Window",action:v,shortcut:"⌘W"},{label:"Close All",action:()=>n.forEach(h=>i(h.id))},{type:"separator"},{label:"Save",action:()=>{},shortcut:"⌘S",disabled:!0},{label:"Save As...",action:()=>{},shortcut:"⇧⌘S",disabled:!0}],edit:[{label:"Undo",action:()=>document.execCommand("undo"),shortcut:"⌘Z"},{label:"Redo",action:()=>document.execCommand("redo"),shortcut:"⇧⌘Z"},{type:"separator"},{label:"Cut",action:()=>document.execCommand("cut"),shortcut:"⌘X"},{label:"Copy",action:()=>document.execCommand("copy"),shortcut:"⌘C"},{label:"Paste",action:()=>document.execCommand("paste"),shortcut:"⌘V"},{label:"Select All",action:()=>document.execCommand("selectAll"),shortcut:"⌘A"}],view:[{label:"Minimize",action:y,shortcut:"⌘M"},{label:"Zoom",action:S},{type:"separator"},{label:"Enter Full Screen",action:()=>document.documentElement.requestFullscreen(),shortcut:"⌃⌘F"}],window:[{label:"Minimize",action:y,shortcut:"⌘M"},{label:"Zoom",action:S},{type:"separator"},{label:"Bring All to Front",action:()=>n.forEach(h=>o(h.id))}],help:[{label:"MacOS Clone Help",action:()=>window.open("https://github.com/yourusername/macos-clone","_blank")},{type:"separator"},{label:"Report an Issue...",action:()=>window.open("https://github.com/yourusername/macos-clone/issues","_blank")}]},d=(h,m)=>h.type==="separator"?L.jsx(oC,{className:"h-[1px] bg-white/10 my-1"},m):L.jsxs(sC,{className:`text-sm text-white px-2 py-1.5 rounded outline-none select-none flex items-center justify-between ${h.disabled?"opacity-50 cursor-not-allowed":"cursor-default hover:bg-blue-600 focus:bg-blue-600"}`,onSelect:h.disabled?void 0:h.action,children:[L.jsx("span",{children:h.label}),h.shortcut&&L.jsx("span",{className:"ml-4 text-xs text-gray-400",children:h.shortcut})]},m),c=(h,m)=>L.jsxs(_f,{onOpenChange:w=>t(w?h:null),modal:!1,children:[L.jsx(yf,{className:`px-3 py-1 text-sm rounded-md transition-colors ${e===h?"bg-white/10":"hover:bg-white/10"}`,children:m}),L.jsx(wf,{children:L.jsx(Sf,{className:"min-w-[220px] bg-gray-800/95 backdrop-blur-md rounded-lg p-1 shadow-xl border border-white/10",sideOffset:5,children:p[h].map((w,C)=>d(w,C))})})]});return L.jsxs("div",{className:"h-8 bg-gray-800/95 backdrop-blur fixed top-0 left-0 right-0 flex items-center px-2 text-white z-50",children:[L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsxs(_f,{onOpenChange:h=>t(h?"apple":null),modal:!1,children:[L.jsx(yf,{className:"p-1 hover:bg-white/10 rounded transition-colors",children:L.jsx(Ny,{size:18})}),L.jsx(wf,{children:L.jsx(Sf,{className:"min-w-[220px] bg-gray-800/95 backdrop-blur-md rounded-lg p-1 shadow-xl border border-white/10",sideOffset:5,children:p.apple.map((h,m)=>d(h,m))})})]}),c("file","File"),c("edit","Edit"),c("view","View"),c("window","Window"),c("help","Help")]}),L.jsx("div",{className:"flex-1 text-center text-sm font-medium truncate",children:n.length>0&&n[0].title}),L.jsx("div",{className:"flex items-center space-x-4",children:L.jsx("div",{className:"text-sm",children:new Date().toLocaleTimeString()})})]})},WE=()=>{const{addWindow:e}=vt(),t=[{id:"finder",icon:Jc,title:"Finder"},{id:"terminal",icon:iw,title:"Terminal"},{id:"editor",icon:zy,title:"Editor"},{id:"preferences",icon:rw,title:"System Preferences"},{id:"spotlight",icon:wv,title:"Spotlight"},{id:"appstore",icon:nw,title:"App Store"}],r=n=>{var i;e({id:`${n}-${Date.now()}`,title:((i=t.find(o=>o.id===n))==null?void 0:i.title)||"",type:n,minimized:!1,maximized:!1,position:{x:100,y:100},size:{width:800,height:600}})};return L.jsx("div",{className:"fixed bottom-2 left-1/2 -translate-x-1/2 bg-white/10 backdrop-blur px-4 py-2 rounded-2xl flex items-center space-x-2",children:t.map(({id:n,icon:i,title:o})=>L.jsxs("button",{onClick:()=>r(n),className:"p-2 hover:bg-white/20 rounded-xl transition-all duration-200 group relative",children:[L.jsx(i,{size:32,className:"text-white"}),L.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:o})]},n))})};var rl={exports:{}},wm={},Sm={exports:{}},UE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",VE=UE,GE=VE;function bm(){}function Cm(){}Cm.resetWarningCache=bm;var KE=function(){function e(n,i,o,l,s,a){if(a!==GE){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Cm,resetWarningCache:bm};return r.PropTypes=r,r};Sm.exports=KE();var xm=Sm.exports;function Em(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Em(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function zf(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Em(e))&&(n&&(n+=" "),n+=t);return n}const qE=Object.freeze(Object.defineProperty({__proto__:null,clsx:zf,default:zf},Symbol.toStringTag,{value:"Module"})),XE=op(qE);var Ce={},rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.dontSetMe=ek;rr.findInArray=YE;rr.int=QE;rr.isFunction=JE;rr.isNum=ZE;function YE(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function JE(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function ZE(e){return typeof e=="number"&&!isNaN(e)}function QE(e){return parseInt(e,10)}function ek(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.browserPrefixToKey=Rm;Dn.browserPrefixToStyle=tk;Dn.default=void 0;Dn.getPrefix=km;const Zl=["Moz","Webkit","O","ms"];function km(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const r=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!r||t in r)return"";for(let n=0;n<Zl.length;n++)if(Rm(t,Zl[n])in r)return Zl[n];return""}function Rm(e,t){return t?"".concat(t).concat(rk(e)):e}function tk(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function rk(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}Dn.default=km();Object.defineProperty(Ce,"__esModule",{value:!0});Ce.addClassName=Tm;Ce.addEvent=sk;Ce.addUserSelectStyles=vk;Ce.createCSSTransform=dk;Ce.createSVGTransform=fk;Ce.getTouch=pk;Ce.getTouchIdentifier=gk;Ce.getTranslation=Ih;Ce.innerHeight=ck;Ce.innerWidth=uk;Ce.matchesSelector=Pm;Ce.matchesSelectorAndParentsTo=ik;Ce.offsetXYFromParent=hk;Ce.outerHeight=ak;Ce.outerWidth=lk;Ce.removeClassName=Dm;Ce.removeEvent=ok;Ce.removeUserSelectStyles=mk;var mt=rr,Hf=nk(Dn);function Am(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Am=function(n){return n?r:t})(e)}function nk(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Am(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}let ko="";function Pm(e,t){return ko||(ko=(0,mt.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,mt.isFunction)(e[r])})),(0,mt.isFunction)(e[ko])?e[ko](t):!1}function ik(e,t,r){let n=e;do{if(Pm(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function sk(e,t,r,n){if(!e)return;const i={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,i):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function ok(e,t,r,n){if(!e)return;const i={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,i):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function ak(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,mt.int)(r.borderTopWidth),t+=(0,mt.int)(r.borderBottomWidth),t}function lk(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,mt.int)(r.borderLeftWidth),t+=(0,mt.int)(r.borderRightWidth),t}function ck(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,mt.int)(r.paddingTop),t-=(0,mt.int)(r.paddingBottom),t}function uk(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,mt.int)(r.paddingLeft),t-=(0,mt.int)(r.paddingRight),t}function hk(e,t,r){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/r,l=(e.clientY+t.scrollTop-i.top)/r;return{x:o,y:l}}function dk(e,t){const r=Ih(e,t,"px");return{[(0,Hf.browserPrefixToKey)("transform",Hf.default)]:r}}function fk(e,t){return Ih(e,t,"")}function Ih(e,t,r){let{x:n,y:i}=e,o="translate(".concat(n).concat(r,",").concat(i).concat(r,")");if(t){const l="".concat(typeof t.x=="string"?t.x:t.x+r),s="".concat(typeof t.y=="string"?t.y:t.y+r);o="translate(".concat(l,", ").concat(s,")")+o}return o}function pk(e,t){return e.targetTouches&&(0,mt.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,mt.findInArray)(e.changedTouches,r=>t===r.identifier)}function gk(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function vk(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Tm(e.body,"react-draggable-transparent-selection")}function mk(e){if(e)try{if(e.body&&Dm(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Tm(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function Dm(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.canDragX=wk;nr.canDragY=Sk;nr.createCoreData=Ck;nr.createDraggableData=xk;nr.getBoundPosition=_k;nr.getControlPosition=bk;nr.snapToGrid=yk;var ct=rr,ti=Ce;function _k(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:n}=e.props;n=typeof n=="string"?n:Ek(n);const i=Bh(e);if(typeof n=="string"){const{ownerDocument:o}=i,l=o.defaultView;let s;if(n==="parent"?s=i.parentNode:s=o.querySelector(n),!(s instanceof l.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');const a=s,u=l.getComputedStyle(i),g=l.getComputedStyle(a);n={left:-i.offsetLeft+(0,ct.int)(g.paddingLeft)+(0,ct.int)(u.marginLeft),top:-i.offsetTop+(0,ct.int)(g.paddingTop)+(0,ct.int)(u.marginTop),right:(0,ti.innerWidth)(a)-(0,ti.outerWidth)(i)-i.offsetLeft+(0,ct.int)(g.paddingRight)-(0,ct.int)(u.marginRight),bottom:(0,ti.innerHeight)(a)-(0,ti.outerHeight)(i)-i.offsetTop+(0,ct.int)(g.paddingBottom)-(0,ct.int)(u.marginBottom)}}return(0,ct.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,ct.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,ct.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,ct.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function yk(e,t,r){const n=Math.round(t/e[0])*e[0],i=Math.round(r/e[1])*e[1];return[n,i]}function wk(e){return e.props.axis==="both"||e.props.axis==="x"}function Sk(e){return e.props.axis==="both"||e.props.axis==="y"}function bk(e,t,r){const n=typeof t=="number"?(0,ti.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;const i=Bh(r),o=r.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,ti.offsetXYFromParent)(n||e,o,r.props.scale)}function Ck(e,t,r){const n=!(0,ct.isNum)(e.lastX),i=Bh(e);return n?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:i,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function xk(e,t){const r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function Ek(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Bh(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var nl={},il={};Object.defineProperty(il,"__esModule",{value:!0});il.default=kk;function kk(){}Object.defineProperty(nl,"__esModule",{value:!0});nl.default=void 0;var Ql=Ak(D),et=Nh(xm),Rk=Nh(nn),He=Ce,xr=nr,ec=rr,qi=Nh(il);function Nh(e){return e&&e.__esModule?e:{default:e}}function Lm(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Lm=function(n){return n?r:t})(e)}function Ak(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Lm(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function Ge(e,t,r){return t=Pk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pk(e){var t=Tk(e,"string");return typeof t=="symbol"?t:String(t)}function Tk(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Lt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Er=Lt.mouse,sl=class extends Ql.Component{constructor(){super(...arguments),Ge(this,"dragging",!1),Ge(this,"lastX",NaN),Ge(this,"lastY",NaN),Ge(this,"touchIdentifier",null),Ge(this,"mounted",!1),Ge(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=r;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,He.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,He.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;t.type==="touchstart"&&t.preventDefault();const i=(0,He.getTouchIdentifier)(t);this.touchIdentifier=i;const o=(0,xr.getControlPosition)(t,i,this);if(o==null)return;const{x:l,y:s}=o,a=(0,xr.createCoreData)(this,l,s);(0,qi.default)("DraggableCore: handleDragStart: %j",a),(0,qi.default)("calling",this.props.onStart),!(this.props.onStart(t,a)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,He.addUserSelectStyles)(n),this.dragging=!0,this.lastX=l,this.lastY=s,(0,He.addEvent)(n,Er.move,this.handleDrag),(0,He.addEvent)(n,Er.stop,this.handleDragStop))}),Ge(this,"handleDrag",t=>{const r=(0,xr.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let s=n-this.lastX,a=i-this.lastY;if([s,a]=(0,xr.snapToGrid)(this.props.grid,s,a),!s&&!a)return;n=this.lastX+s,i=this.lastY+a}const o=(0,xr.createCoreData)(this,n,i);if((0,qi.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(t,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const a=document.createEvent("MouseEvents");a.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(a)}return}this.lastX=n,this.lastY=i}),Ge(this,"handleDragStop",t=>{if(!this.dragging)return;const r=(0,xr.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let a=n-this.lastX||0,u=i-this.lastY||0;[a,u]=(0,xr.snapToGrid)(this.props.grid,a,u),n=this.lastX+a,i=this.lastY+u}const o=(0,xr.createCoreData)(this,n,i);if(this.props.onStop(t,o)===!1||this.mounted===!1)return!1;const s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,He.removeUserSelectStyles)(s.ownerDocument),(0,qi.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,qi.default)("DraggableCore: Removing handlers"),(0,He.removeEvent)(s.ownerDocument,Er.move,this.handleDrag),(0,He.removeEvent)(s.ownerDocument,Er.stop,this.handleDragStop))}),Ge(this,"onMouseDown",t=>(Er=Lt.mouse,this.handleDragStart(t))),Ge(this,"onMouseUp",t=>(Er=Lt.mouse,this.handleDragStop(t))),Ge(this,"onTouchStart",t=>(Er=Lt.touch,this.handleDragStart(t))),Ge(this,"onTouchEnd",t=>(Er=Lt.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,He.addEvent)(t,Lt.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:r}=t;(0,He.removeEvent)(r,Lt.mouse.move,this.handleDrag),(0,He.removeEvent)(r,Lt.touch.move,this.handleDrag),(0,He.removeEvent)(r,Lt.mouse.stop,this.handleDragStop),(0,He.removeEvent)(r,Lt.touch.stop,this.handleDragStop),(0,He.removeEvent)(t,Lt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,He.removeUserSelectStyles)(r)}}findDOMNode(){var t,r;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(r=this.props)===null||r===void 0||(r=r.nodeRef)===null||r===void 0?void 0:r.current:Rk.default.findDOMNode(this)}render(){return Ql.cloneElement(Ql.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};nl.default=sl;Ge(sl,"displayName","DraggableCore");Ge(sl,"propTypes",{allowAnyClick:et.default.bool,children:et.default.node.isRequired,disabled:et.default.bool,enableUserSelectHack:et.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:et.default.arrayOf(et.default.number),handle:et.default.string,cancel:et.default.string,nodeRef:et.default.object,onStart:et.default.func,onDrag:et.default.func,onStop:et.default.func,onMouseDown:et.default.func,scale:et.default.number,className:ec.dontSetMe,style:ec.dontSetMe,transform:ec.dontSetMe});Ge(sl,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return a.default}}),e.default=void 0;var t=v(D),r=g(xm),n=g(nn),i=g(XE),o=Ce,l=nr,s=rr,a=g(nl),u=g(il);function g(c){return c&&c.__esModule?c:{default:c}}function f(c){if(typeof WeakMap!="function")return null;var h=new WeakMap,m=new WeakMap;return(f=function(w){return w?m:h})(c)}function v(c,h){if(c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var m=f(h);if(m&&m.has(c))return m.get(c);var w={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in c)if(x!=="default"&&Object.prototype.hasOwnProperty.call(c,x)){var b=C?Object.getOwnPropertyDescriptor(c,x):null;b&&(b.get||b.set)?Object.defineProperty(w,x,b):w[x]=c[x]}return w.default=c,m&&m.set(c,w),w}function y(){return y=Object.assign?Object.assign.bind():function(c){for(var h=1;h<arguments.length;h++){var m=arguments[h];for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(c[w]=m[w])}return c},y.apply(this,arguments)}function S(c,h,m){return h=_(h),h in c?Object.defineProperty(c,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):c[h]=m,c}function _(c){var h=p(c,"string");return typeof h=="symbol"?h:String(h)}function p(c,h){if(typeof c!="object"||c===null)return c;var m=c[Symbol.toPrimitive];if(m!==void 0){var w=m.call(c,h||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(c)}class d extends t.Component{static getDerivedStateFromProps(h,m){let{position:w}=h,{prevPropsPosition:C}=m;return w&&(!C||w.x!==C.x||w.y!==C.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:w,prevPropsPosition:C}),{x:w.x,y:w.y,prevPropsPosition:{...w}}):null}constructor(h){super(h),S(this,"onDragStart",(m,w)=>{if((0,u.default)("Draggable: onDragStart: %j",w),this.props.onStart(m,(0,l.createDraggableData)(this,w))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),S(this,"onDrag",(m,w)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",w);const C=(0,l.createDraggableData)(this,w),x={x:C.x,y:C.y,slackX:0,slackY:0};if(this.props.bounds){const{x:E,y:R}=x;x.x+=this.state.slackX,x.y+=this.state.slackY;const[O,T]=(0,l.getBoundPosition)(this,x.x,x.y);x.x=O,x.y=T,x.slackX=this.state.slackX+(E-x.x),x.slackY=this.state.slackY+(R-x.y),C.x=x.x,C.y=x.y,C.deltaX=x.x-this.state.x,C.deltaY=x.y-this.state.y}if(this.props.onDrag(m,C)===!1)return!1;this.setState(x)}),S(this,"onDragStop",(m,w)=>{if(!this.state.dragging||this.props.onStop(m,(0,l.createDraggableData)(this,w))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",w);const x={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:E,y:R}=this.props.position;x.x=E,x.y=R}this.setState(x)}),this.state={dragging:!1,dragged:!1,x:h.position?h.position.x:h.defaultPosition.x,y:h.position?h.position.y:h.defaultPosition.y,prevPropsPosition:{...h.position},slackX:0,slackY:0,isElementSVG:!1},h.position&&!(h.onDrag||h.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var h,m;return(h=(m=this.props)===null||m===void 0||(m=m.nodeRef)===null||m===void 0?void 0:m.current)!==null&&h!==void 0?h:n.default.findDOMNode(this)}render(){const{axis:h,bounds:m,children:w,defaultPosition:C,defaultClassName:x,defaultClassNameDragging:b,defaultClassNameDragged:E,position:R,positionOffset:O,scale:T,...I}=this.props;let F={},z=null;const H=!!!R||this.state.dragging,k=R||C,A={x:(0,l.canDragX)(this)&&H?this.state.x:k.x,y:(0,l.canDragY)(this)&&H?this.state.y:k.y};this.state.isElementSVG?z=(0,o.createSVGTransform)(A,O):F=(0,o.createCSSTransform)(A,O);const M=(0,i.default)(w.props.className||"",x,{[b]:this.state.dragging,[E]:this.state.dragged});return t.createElement(a.default,y({},I,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(w),{className:M,style:{...w.props.style,...F},transform:z}))}}e.default=d,S(d,"displayName","Draggable"),S(d,"propTypes",{...a.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),S(d,"defaultProps",{...a.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(wm);const{default:Mm,DraggableCore:Dk}=wm;rl.exports=Mm;rl.exports.default=Mm;rl.exports.DraggableCore=Dk;var Lk=rl.exports;const Mk=Fs(Lk);var Ok=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Re=function(){return Re=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Re.apply(this,arguments)},Wf={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Uf={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Ro={width:"20px",height:"20px",position:"absolute"},Ik={top:Re(Re({},Wf),{top:"-5px"}),right:Re(Re({},Uf),{left:void 0,right:"-5px"}),bottom:Re(Re({},Wf),{top:void 0,bottom:"-5px"}),left:Re(Re({},Uf),{left:"-5px"}),topRight:Re(Re({},Ro),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Re(Re({},Ro),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Re(Re({},Ro),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Re(Re({},Ro),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Bk=function(e){Ok(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.onMouseDown=function(n){r.props.onResizeStart(n,r.props.direction)},r.onTouchStart=function(n){r.props.onResizeStart(n,r.props.direction)},r}return t.prototype.render=function(){return D.createElement("div",{className:this.props.className||"",style:Re(Re({position:"absolute",userSelect:"none"},Ik[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(D.PureComponent),Nk=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gt=function(){return Gt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Gt.apply(this,arguments)},Fk={width:"auto",height:"auto"},Ao=function(e,t,r){return Math.max(Math.min(e,r),t)},Vf=function(e,t,r){var n=Math.round(e/t);return n*t+r*(n-1)},zn=function(e,t){return new RegExp(e,"i").test(t)},Po=function(e){return!!(e.touches&&e.touches.length)},jk=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},Gf=function(e,t,r){r===void 0&&(r=0);var n=t.reduce(function(o,l,s){return Math.abs(l-e)<Math.abs(t[o]-e)?s:o},0),i=Math.abs(t[n]-e);return r===0||i<r?t[n]:e},tc=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},To=function(e,t,r,n){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var i=Number(e.replace("%",""))/100;return t*i}if(e.endsWith("vw")){var i=Number(e.replace("vw",""))/100;return r*i}if(e.endsWith("vh")){var i=Number(e.replace("vh",""))/100;return n*i}}return e},$k=function(e,t,r,n,i,o,l){return n=To(n,e.width,t,r),i=To(i,e.height,t,r),o=To(o,e.width,t,r),l=To(l,e.height,t,r),{maxWidth:typeof n>"u"?void 0:Number(n),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof l>"u"?void 0:Number(l)}},zk=function(e){return Array.isArray(e)?e:[e,e]},Hk=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Kf="__resizable_base__",Wk=function(e){Nk(t,e);function t(r){var n,i,o,l,s=e.call(this,r)||this;return s.ratio=1,s.resizable=null,s.parentLeft=0,s.parentTop=0,s.resizableLeft=0,s.resizableRight=0,s.resizableTop=0,s.resizableBottom=0,s.targetLeft=0,s.targetTop=0,s.appendBase=function(){if(!s.resizable||!s.window)return null;var a=s.parentNode;if(!a)return null;var u=s.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(Kf):u.className+=Kf,a.appendChild(u),u},s.removeBase=function(a){var u=s.parentNode;u&&u.removeChild(a)},s.state={isResizing:!1,width:(i=(n=s.propsSize)===null||n===void 0?void 0:n.width)!==null&&i!==void 0?i:"auto",height:(l=(o=s.propsSize)===null||o===void 0?void 0:o.height)!==null&&l!==void 0?l:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},s.onResizeStart=s.onResizeStart.bind(s),s.onMouseMove=s.onMouseMove.bind(s),s.onMouseUp=s.onMouseUp.bind(s),s}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Fk},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var r=0,n=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,o=this.resizable.offsetHeight,l=this.resizable.style.position;l!=="relative"&&(this.resizable.style.position="relative"),r=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,n=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=l}return{width:r,height:n}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var r=this,n=this.props.size,i=function(s){var a;if(typeof r.state[s]>"u"||r.state[s]==="auto")return"auto";if(r.propsSize&&r.propsSize[s]&&(!((a=r.propsSize[s])===null||a===void 0)&&a.toString().endsWith("%"))){if(r.state[s].toString().endsWith("%"))return r.state[s].toString();var u=r.getParentSize(),g=Number(r.state[s].toString().replace("px","")),f=g/u[s]*100;return f+"%"}return tc(r.state[s])},o=n&&typeof n.width<"u"&&!this.state.isResizing?tc(n.width):i("width"),l=n&&typeof n.height<"u"&&!this.state.isResizing?tc(n.height):i("height");return{width:o,height:l}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var r=this.appendBase();if(!r)return{width:0,height:0};var n=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(n=!0,this.parentNode.style.flexWrap="wrap"),r.style.position="relative",r.style.minWidth="100%",r.style.minHeight="100%";var o={width:r.offsetWidth,height:r.offsetHeight};return n&&(this.parentNode.style.flexWrap=i),this.removeBase(r),o},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var r=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:r.flexBasis!=="auto"?r.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(r,n){var i=this.propsSize&&this.propsSize[n];return this.state[n]==="auto"&&this.state.original[n]===r&&(typeof i>"u"||i==="auto")?"auto":r},t.prototype.calculateNewMaxFromBoundary=function(r,n){var i=this.props.boundsByDirection,o=this.state.direction,l=i&&zn("left",o),s=i&&zn("top",o),a,u;if(this.props.bounds==="parent"){var g=this.parentNode;g&&(a=l?this.resizableRight-this.parentLeft:g.offsetWidth+(this.parentLeft-this.resizableLeft),u=s?this.resizableBottom-this.parentTop:g.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(a=l?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(a=l?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return a&&Number.isFinite(a)&&(r=r&&r<a?r:a),u&&Number.isFinite(u)&&(n=n&&n<u?n:u),{maxWidth:r,maxHeight:n}},t.prototype.calculateNewSizeFromDirection=function(r,n){var i=this.props.scale||1,o=zk(this.props.resizeRatio||1),l=o[0],s=o[1],a=this.state,u=a.direction,g=a.original,f=this.props,v=f.lockAspectRatio,y=f.lockAspectRatioExtraHeight,S=f.lockAspectRatioExtraWidth,_=g.width,p=g.height,d=y||0,c=S||0;return zn("right",u)&&(_=g.width+(r-g.x)*l/i,v&&(p=(_-c)/this.ratio+d)),zn("left",u)&&(_=g.width-(r-g.x)*l/i,v&&(p=(_-c)/this.ratio+d)),zn("bottom",u)&&(p=g.height+(n-g.y)*s/i,v&&(_=(p-d)*this.ratio+c)),zn("top",u)&&(p=g.height-(n-g.y)*s/i,v&&(_=(p-d)*this.ratio+c)),{newWidth:_,newHeight:p}},t.prototype.calculateNewSizeFromAspectRatio=function(r,n,i,o){var l=this.props,s=l.lockAspectRatio,a=l.lockAspectRatioExtraHeight,u=l.lockAspectRatioExtraWidth,g=typeof o.width>"u"?10:o.width,f=typeof i.width>"u"||i.width<0?r:i.width,v=typeof o.height>"u"?10:o.height,y=typeof i.height>"u"||i.height<0?n:i.height,S=a||0,_=u||0;if(s){var p=(v-S)*this.ratio+_,d=(y-S)*this.ratio+_,c=(g-_)/this.ratio+S,h=(f-_)/this.ratio+S,m=Math.max(g,p),w=Math.min(f,d),C=Math.max(v,c),x=Math.min(y,h);r=Ao(r,m,w),n=Ao(n,C,x)}else r=Ao(r,g,f),n=Ao(n,v,y);return{newWidth:r,newHeight:n}},t.prototype.setBoundingClientRect=function(){var r=1/(this.props.scale||1);if(this.props.bounds==="parent"){var n=this.parentNode;if(n){var i=n.getBoundingClientRect();this.parentLeft=i.left*r,this.parentTop=i.top*r}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*r,this.targetTop=o.top*r}if(this.resizable){var l=this.resizable.getBoundingClientRect(),s=l.left,a=l.top,u=l.right,g=l.bottom;this.resizableLeft=s*r,this.resizableRight=u*r,this.resizableTop=a*r,this.resizableBottom=g*r}},t.prototype.onResizeStart=function(r,n){if(!(!this.resizable||!this.window)){var i=0,o=0;if(r.nativeEvent&&jk(r.nativeEvent)?(i=r.nativeEvent.clientX,o=r.nativeEvent.clientY):r.nativeEvent&&Po(r.nativeEvent)&&(i=r.nativeEvent.touches[0].clientX,o=r.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var l=this.props.onResizeStart(r,n,this.resizable);if(l===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var s,a=this.window.getComputedStyle(this.resizable);if(a.flexBasis!=="auto"){var u=this.parentNode;if(u){var g=this.window.getComputedStyle(u).flexDirection;this.flexDir=g.startsWith("row")?"row":"column",s=a.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:i,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Gt(Gt({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(r.target).cursor||"auto"}),direction:n,flexBasis:s};this.setState(f)}},t.prototype.onMouseMove=function(r){var n=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&Po(r))try{r.preventDefault(),r.stopPropagation()}catch{}var i=this.props,o=i.maxWidth,l=i.maxHeight,s=i.minWidth,a=i.minHeight,u=Po(r)?r.touches[0].clientX:r.clientX,g=Po(r)?r.touches[0].clientY:r.clientY,f=this.state,v=f.direction,y=f.original,S=f.width,_=f.height,p=this.getParentSize(),d=$k(p,this.window.innerWidth,this.window.innerHeight,o,l,s,a);o=d.maxWidth,l=d.maxHeight,s=d.minWidth,a=d.minHeight;var c=this.calculateNewSizeFromDirection(u,g),h=c.newHeight,m=c.newWidth,w=this.calculateNewMaxFromBoundary(o,l);this.props.snap&&this.props.snap.x&&(m=Gf(m,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(h=Gf(h,this.props.snap.y,this.props.snapGap));var C=this.calculateNewSizeFromAspectRatio(m,h,{width:w.maxWidth,height:w.maxHeight},{width:s,height:a});if(m=C.newWidth,h=C.newHeight,this.props.grid){var x=Vf(m,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),b=Vf(h,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),E=this.props.snapGap||0,R=E===0||Math.abs(x-m)<=E?x:m,O=E===0||Math.abs(b-h)<=E?b:h;m=R,h=O}var T={width:m-y.width,height:h-y.height};if(S&&typeof S=="string"){if(S.endsWith("%")){var I=m/p.width*100;m=I+"%"}else if(S.endsWith("vw")){var F=m/this.window.innerWidth*100;m=F+"vw"}else if(S.endsWith("vh")){var z=m/this.window.innerHeight*100;m=z+"vh"}}if(_&&typeof _=="string"){if(_.endsWith("%")){var I=h/p.height*100;h=I+"%"}else if(_.endsWith("vw")){var F=h/this.window.innerWidth*100;h=F+"vw"}else if(_.endsWith("vh")){var z=h/this.window.innerHeight*100;h=z+"vh"}}var j={width:this.createSizeForCssProperty(m,"width"),height:this.createSizeForCssProperty(h,"height")};this.flexDir==="row"?j.flexBasis=j.width:this.flexDir==="column"&&(j.flexBasis=j.height);var H=this.state.width!==j.width,k=this.state.height!==j.height,A=this.state.flexBasis!==j.flexBasis,M=H||k||A;M&&nn.flushSync(function(){n.setState(j)}),this.props.onResize&&M&&this.props.onResize(r,v,this.resizable,T)}},t.prototype.onMouseUp=function(r){var n,i,o=this.state,l=o.isResizing,s=o.direction,a=o.original;if(!(!l||!this.resizable)){var u={width:this.size.width-a.width,height:this.size.height-a.height};this.props.onResizeStop&&this.props.onResizeStop(r,s,this.resizable,u),this.props.size&&this.setState({width:(n=this.props.size.width)!==null&&n!==void 0?n:"auto",height:(i=this.props.size.height)!==null&&i!==void 0?i:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Gt(Gt({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(r){var n,i;this.setState({width:(n=r.width)!==null&&n!==void 0?n:"auto",height:(i=r.height)!==null&&i!==void 0?i:"auto"})},t.prototype.renderResizer=function(r){var n=this,i=this.props,o=i.enable,l=i.handleStyles,s=i.handleClasses,a=i.handleWrapperStyle,u=i.handleWrapperClass,g=i.handleComponent;if(!o)return null;var f=r.filter(function(v){return o[v]!==!1}).map(function(v){return o[v]!==!1?D.createElement(Bk,{key:v,direction:v,onResizeStart:n.onResizeStart,replaceStyles:l&&l[v],className:s&&s[v]},g&&g[v]?g[v]:null):null});return D.createElement("div",{className:u,style:a},f)},t.prototype.render=function(){var r=this,n=Object.keys(this.props).reduce(function(l,s){return Hk.indexOf(s)!==-1||(l[s]=r.props[s]),l},{}),i=Gt(Gt(Gt({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return D.createElement(o,Gt({style:i,className:this.props.className},n,{ref:function(l){l&&(r.resizable=l)}}),this.state.isResizing&&D.createElement("div",{style:this.state.backgroundStyle}),this.renderResizer(["topLeft","top","topRight","left"]),this.props.children,this.renderResizer(["right","bottomLeft","bottom","bottomRight"]))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(D.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pu=function(e,t){return pu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},pu(e,t)};function Uk(e,t){pu(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Pe=function(){return Pe=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Pe.apply(this,arguments)};function Vk(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}var Gk={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},Kk=function(e){return{bottom:e,bottomLeft:e,bottomRight:e,left:e,right:e,top:e,topLeft:e,topRight:e}},Om=function(e){Uk(t,e);function t(r){var n=e.call(this,r)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:r.maxWidth,maxHeight:r.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return t.prototype.componentDidMount=function(){this.updateOffsetFromParent();var r=this.offsetFromParent,n=r.left,i=r.top,o=this.getDraggablePosition(),l=o.x,s=o.y;this.draggable.setState({x:l-n,y:s-i}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var r=this.draggable.state,n=r.x,i=r.y;return{x:n,y:i}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){var r=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,n=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:r,maxHeight:n}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(r){var n=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/n;case"body":return document.body.offsetHeight/n;default:return r.offsetHeight}},t.prototype.getOffsetWidth=function(r){var n=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/n;case"body":return document.body.offsetWidth/n;default:return r.offsetWidth}},t.prototype.onDragStart=function(r,n){this.props.onDragStart&&this.props.onDragStart(r,n);var i=this.getDraggablePosition();if(this.originalPosition=i,!!this.props.bounds){var o=this.getParent(),l=this.props.scale,s;if(this.props.bounds==="parent")s=o;else if(this.props.bounds==="body"){var a=o.getBoundingClientRect(),u=a.left,g=a.top,f=document.body.getBoundingClientRect(),v=-(u-o.offsetLeft*l-f.left)/l,y=-(g-o.offsetTop*l-f.top)/l,S=(document.body.offsetWidth-this.resizable.size.width*l)/l+v,_=(document.body.offsetHeight-this.resizable.size.height*l)/l+y;return this.setState({bounds:{top:y,right:S,bottom:_,left:v}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var p=o.getBoundingClientRect(),d=p.left,c=p.top,h=-(d-o.offsetLeft*l)/l,m=-(c-o.offsetTop*l)/l,S=(window.innerWidth-this.resizable.size.width*l)/l+h,_=(window.innerHeight-this.resizable.size.height*l)/l+m;return this.setState({bounds:{top:m,right:S,bottom:_,left:h}})}else typeof this.props.bounds=="string"?s=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(s=this.props.bounds);if(!(!(s instanceof HTMLElement)||!(o instanceof HTMLElement))){var w=s.getBoundingClientRect(),C=w.left,x=w.top,b=o.getBoundingClientRect(),E=b.left,R=b.top,O=(C-E)/l,T=x-R;if(this.resizable){this.updateOffsetFromParent();var I=this.offsetFromParent;this.setState({bounds:{top:T-I.top,right:O+(s.offsetWidth-this.resizable.size.width)-I.left/l,bottom:T+(s.offsetHeight-this.resizable.size.height)-I.top,left:O-I.left/l}})}}}},t.prototype.onDrag=function(r,n){if(this.props.onDrag){var i=this.offsetFromParent,o=i.left,l=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(r,Pe(Pe({},n),{x:n.x+o,y:n.y+l}));if(this.props.dragAxis==="x")return this.props.onDrag(r,Pe(Pe({},n),{x:n.x+o,y:this.originalPosition.y+l,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(r,Pe(Pe({},n),{x:this.originalPosition.x+o,y:n.y+l,deltaX:0}))}},t.prototype.onDragStop=function(r,n){if(this.props.onDragStop){var i=this.offsetFromParent,o=i.left,l=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(r,Pe(Pe({},n),{x:n.x+o,y:n.y+l}));if(this.props.dragAxis==="x")return this.props.onDragStop(r,Pe(Pe({},n),{x:n.x+o,y:this.originalPosition.y+l,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(r,Pe(Pe({},n),{x:this.originalPosition.x+o,y:n.y+l,deltaX:0}))}},t.prototype.onResizeStart=function(r,n,i){r.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,l=this.offsetFromParent,s=this.getDraggablePosition();if(this.resizingPosition={x:s.x+l.left,y:s.y+l.top},this.originalPosition=s,this.props.bounds){var a=this.getParent(),u=void 0;this.props.bounds==="parent"?u=a:this.props.bounds==="body"?u=document.body:this.props.bounds==="window"?u=window:typeof this.props.bounds=="string"?u=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(u=this.props.bounds);var g=this.getSelfElement();if(g instanceof Element&&(u instanceof HTMLElement||u===window)&&a instanceof HTMLElement){var f=this.getMaxSizesFromProps(),v=f.maxWidth,y=f.maxHeight,S=this.getParentSize();if(v&&typeof v=="string")if(v.endsWith("%")){var _=Number(v.replace("%",""))/100;v=S.width*_}else v.endsWith("px")&&(v=Number(v.replace("px","")));if(y&&typeof y=="string")if(y.endsWith("%")){var _=Number(y.replace("%",""))/100;y=S.height*_}else y.endsWith("px")&&(y=Number(y.replace("px","")));var p=g.getBoundingClientRect(),d=p.left,c=p.top,h=this.props.bounds==="window"?{left:0,top:0}:u.getBoundingClientRect(),m=h.left,w=h.top,C=this.getOffsetWidth(u),x=this.getOffsetHeight(u),b=n.toLowerCase().endsWith("left"),E=n.toLowerCase().endsWith("right"),R=n.startsWith("top"),O=n.startsWith("bottom");if((b||R)&&this.resizable){var T=(d-m)/o+this.resizable.size.width;this.setState({maxWidth:T>Number(v)?v:T})}if(E||this.props.lockAspectRatio&&!b&&!R){var T=C+(m-d)/o;this.setState({maxWidth:T>Number(v)?v:T})}if((R||b)&&this.resizable){var T=(c-w)/o+this.resizable.size.height;this.setState({maxHeight:T>Number(y)?y:T})}if(O||this.props.lockAspectRatio&&!R&&!b){var T=x+(w-c)/o;this.setState({maxHeight:T>Number(y)?y:T})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(r,n,i)},t.prototype.onResize=function(r,n,i,o){var l=this,s={x:this.originalPosition.x,y:this.originalPosition.y},a=-o.width,u=-o.height,g=["top","left","topLeft","bottomLeft","topRight"];g.includes(n)&&(n==="bottomLeft"?s.x+=a:(n==="topRight"||(s.x+=a),s.y+=u));var f=this.draggable.state;(s.x!==f.x||s.y!==f.y)&&nn.flushSync(function(){l.draggable.setState(s)}),this.updateOffsetFromParent();var v=this.offsetFromParent,y=this.getDraggablePosition().x+v.left,S=this.getDraggablePosition().y+v.top;this.resizingPosition={x:y,y:S},this.props.onResize&&this.props.onResize(r,n,i,o,{x:y,y:S})},t.prototype.onResizeStop=function(r,n,i,o){this.setState({resizing:!1});var l=this.getMaxSizesFromProps(),s=l.maxWidth,a=l.maxHeight;this.setState({maxWidth:s,maxHeight:a}),this.props.onResizeStop&&this.props.onResizeStop(r,n,i,o,this.resizingPosition)},t.prototype.updateSize=function(r){this.resizable&&this.resizable.updateSize({width:r.width,height:r.height})},t.prototype.updatePosition=function(r){this.draggable.setState(r)},t.prototype.updateOffsetFromParent=function(){var r=this.props.scale,n=this.getParent(),i=this.getSelfElement();if(!n||i===null)return{top:0,left:0};var o=n.getBoundingClientRect(),l=o.left,s=o.top,a=i.getBoundingClientRect(),u=this.getDraggablePosition(),g=n.scrollLeft,f=n.scrollTop;this.offsetFromParent={left:a.left-l+g-u.x*r,top:a.top-s+f-u.y*r}},t.prototype.render=function(){var r=this,n=this.props,i=n.disableDragging,o=n.style,l=n.dragHandleClassName,s=n.position,a=n.onMouseDown,u=n.onMouseUp,g=n.dragAxis,f=n.dragGrid,v=n.bounds,y=n.enableUserSelectHack,S=n.cancel,_=n.children;n.onResizeStart,n.onResize,n.onResizeStop,n.onDragStart,n.onDrag,n.onDragStop;var p=n.resizeHandleStyles,d=n.resizeHandleClasses,c=n.resizeHandleComponent,h=n.enableResizing,m=n.resizeGrid,w=n.resizeHandleWrapperClass,C=n.resizeHandleWrapperStyle,x=n.scale,b=n.allowAnyClick,E=Vk(n,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),R=this.props.default?Pe({},this.props.default):void 0;delete E.default;var O=i||l?{cursor:"auto"}:{cursor:"move"},T=Pe(Pe(Pe({},Gk),O),o),I=this.offsetFromParent,F=I.left,z=I.top,j;s&&(j={x:s.x-F,y:s.y-z});var H=this.state.resizing?void 0:j,k=this.state.resizing?"both":g;return D.createElement(Mk,{ref:function(A){A&&(r.draggable=A)},handle:l?".".concat(l):void 0,defaultPosition:R,onMouseDown:a,onMouseUp:u,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:k,disabled:i,grid:f,bounds:v?this.state.bounds:void 0,position:H,enableUserSelectHack:y,cancel:S,scale:x,allowAnyClick:b,nodeRef:this.resizableElement},D.createElement(Wk,Pe({},E,{ref:function(A){A&&(r.resizable=A,r.resizableElement.current=A.resizable)},defaultSize:R,size:this.props.size,enable:typeof h=="boolean"?Kk(h):h,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:T,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:m,handleWrapperClass:w,handleWrapperStyle:C,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:p,handleClasses:d,handleComponent:c,scale:this.props.scale}),_))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t}(D.PureComponent),Im={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={4567:function(l,s,a){var u=this&&this.__decorate||function(h,m,w,C){var x,b=arguments.length,E=b<3?m:C===null?C=Object.getOwnPropertyDescriptor(m,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(h,m,w,C);else for(var R=h.length-1;R>=0;R--)(x=h[R])&&(E=(b<3?x(E):b>3?x(m,w,E):x(m,w))||E);return b>3&&E&&Object.defineProperty(m,w,E),E},g=this&&this.__param||function(h,m){return function(w,C){m(w,C,h)}};Object.defineProperty(s,"__esModule",{value:!0}),s.AccessibilityManager=void 0;const f=a(9042),v=a(6114),y=a(9924),S=a(844),_=a(5596),p=a(4725),d=a(3656);let c=s.AccessibilityManager=class extends S.Disposable{constructor(h,m){super(),this._terminal=h,this._renderService=m,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let w=0;w<this._terminal.rows;w++)this._rowElements[w]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[w]);if(this._topBoundaryFocusListener=w=>this._handleBoundaryFocus(w,0),this._bottomBoundaryFocusListener=w=>this._handleBoundaryFocus(w,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new y.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(w=>this._handleResize(w.rows))),this.register(this._terminal.onRender(w=>this._refreshRows(w.start,w.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(w=>this._handleChar(w))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(w=>this._handleTab(w))),this.register(this._terminal.onKey(w=>this._handleKey(w.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new _.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,d.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,S.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(h){for(let m=0;m<h;m++)this._handleChar(" ")}_handleChar(h){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==h&&(this._charsToAnnounce+=h):this._charsToAnnounce+=h,h===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=f.tooMuchOutput)),v.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,v.isMac&&this._liveRegion.remove()}_handleKey(h){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(h)||this._charsToConsume.push(h)}_refreshRows(h,m){this._liveRegionDebouncer.refresh(h,m,this._terminal.rows)}_renderRows(h,m){const w=this._terminal.buffer,C=w.lines.length.toString();for(let x=h;x<=m;x++){const b=w.translateBufferLineToString(w.ydisp+x,!0),E=(w.ydisp+x+1).toString(),R=this._rowElements[x];R&&(b.length===0?R.innerText=" ":R.textContent=b,R.setAttribute("aria-posinset",E),R.setAttribute("aria-setsize",C))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(h,m){const w=h.target,C=this._rowElements[m===0?1:this._rowElements.length-2];if(w.getAttribute("aria-posinset")===(m===0?"1":`${this._terminal.buffer.lines.length}`)||h.relatedTarget!==C)return;let x,b;if(m===0?(x=w,b=this._rowElements.pop(),this._rowContainer.removeChild(b)):(x=this._rowElements.shift(),b=w,this._rowContainer.removeChild(x)),x.removeEventListener("focus",this._topBoundaryFocusListener),b.removeEventListener("focus",this._bottomBoundaryFocusListener),m===0){const E=this._createAccessibilityTreeNode();this._rowElements.unshift(E),this._rowContainer.insertAdjacentElement("afterbegin",E)}else{const E=this._createAccessibilityTreeNode();this._rowElements.push(E),this._rowContainer.appendChild(E)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(m===0?-1:1),this._rowElements[m===0?1:this._rowElements.length-2].focus(),h.preventDefault(),h.stopImmediatePropagation()}_handleResize(h){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let m=this._rowContainer.children.length;m<this._terminal.rows;m++)this._rowElements[m]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[m]);for(;this._rowElements.length>h;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const h=document.createElement("div");return h.setAttribute("role","listitem"),h.tabIndex=-1,this._refreshRowDimensions(h),h}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let h=0;h<this._terminal.rows;h++)this._refreshRowDimensions(this._rowElements[h])}}_refreshRowDimensions(h){h.style.height=`${this._renderService.dimensions.css.cell.height}px`}};s.AccessibilityManager=c=u([g(1,p.IRenderService)],c)},3614:(l,s)=>{function a(v){return v.replace(/\r?\n/g,"\r")}function u(v,y){return y?"\x1B[200~"+v+"\x1B[201~":v}function g(v,y,S,_){v=u(v=a(v),S.decPrivateModes.bracketedPasteMode&&_.rawOptions.ignoreBracketedPasteMode!==!0),S.triggerDataEvent(v,!0),y.value=""}function f(v,y,S){const _=S.getBoundingClientRect(),p=v.clientX-_.left-10,d=v.clientY-_.top-10;y.style.width="20px",y.style.height="20px",y.style.left=`${p}px`,y.style.top=`${d}px`,y.style.zIndex="1000",y.focus()}Object.defineProperty(s,"__esModule",{value:!0}),s.rightClickHandler=s.moveTextAreaUnderMouseCursor=s.paste=s.handlePasteEvent=s.copyHandler=s.bracketTextForPaste=s.prepareTextForTerminal=void 0,s.prepareTextForTerminal=a,s.bracketTextForPaste=u,s.copyHandler=function(v,y){v.clipboardData&&v.clipboardData.setData("text/plain",y.selectionText),v.preventDefault()},s.handlePasteEvent=function(v,y,S,_){v.stopPropagation(),v.clipboardData&&g(v.clipboardData.getData("text/plain"),y,S,_)},s.paste=g,s.moveTextAreaUnderMouseCursor=f,s.rightClickHandler=function(v,y,S,_,p){f(v,y,S),p&&_.rightClickSelect(v),y.value=_.selectionText,y.select()}},7239:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorContrastCache=void 0;const u=a(1505);s.ColorContrastCache=class{constructor(){this._color=new u.TwoKeyMap,this._css=new u.TwoKeyMap}setCss(g,f,v){this._css.set(g,f,v)}getCss(g,f){return this._css.get(g,f)}setColor(g,f,v){this._color.set(g,f,v)}getColor(g,f){return this._color.get(g,f)}clear(){this._color.clear(),this._css.clear()}}},3656:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addDisposableDomListener=void 0,s.addDisposableDomListener=function(a,u,g,f){a.addEventListener(u,g,f);let v=!1;return{dispose:()=>{v||(v=!0,a.removeEventListener(u,g,f))}}}},6465:function(l,s,a){var u=this&&this.__decorate||function(p,d,c,h){var m,w=arguments.length,C=w<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,c):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,d,c,h);else for(var x=p.length-1;x>=0;x--)(m=p[x])&&(C=(w<3?m(C):w>3?m(d,c,C):m(d,c))||C);return w>3&&C&&Object.defineProperty(d,c,C),C},g=this&&this.__param||function(p,d){return function(c,h){d(c,h,p)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Linkifier2=void 0;const f=a(3656),v=a(8460),y=a(844),S=a(2585);let _=s.Linkifier2=class extends y.Disposable{get currentLink(){return this._currentLink}constructor(p){super(),this._bufferService=p,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new v.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new v.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,y.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,y.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(p){return this._linkProviders.push(p),{dispose:()=>{const d=this._linkProviders.indexOf(p);d!==-1&&this._linkProviders.splice(d,1)}}}attachToDom(p,d,c){this._element=p,this._mouseService=d,this._renderService=c,this.register((0,f.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,f.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(p){if(this._lastMouseEvent=p,!this._element||!this._mouseService)return;const d=this._positionFromMouseEvent(p,this._element,this._mouseService);if(!d)return;this._isMouseOut=!1;const c=p.composedPath();for(let h=0;h<c.length;h++){const m=c[h];if(m.classList.contains("xterm"))break;if(m.classList.contains("xterm-hover"))return}this._lastBufferCell&&d.x===this._lastBufferCell.x&&d.y===this._lastBufferCell.y||(this._handleHover(d),this._lastBufferCell=d)}_handleHover(p){if(this._activeLine!==p.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(p,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,p)||(this._clearCurrentLink(),this._askForLink(p,!0))}_askForLink(p,d){var c,h;this._activeProviderReplies&&d||((c=this._activeProviderReplies)===null||c===void 0||c.forEach(w=>{w==null||w.forEach(C=>{C.link.dispose&&C.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=p.y);let m=!1;for(const[w,C]of this._linkProviders.entries())d?!((h=this._activeProviderReplies)===null||h===void 0)&&h.get(w)&&(m=this._checkLinkProviderResult(w,p,m)):C.provideLinks(p.y,x=>{var b,E;if(this._isMouseOut)return;const R=x==null?void 0:x.map(O=>({link:O}));(b=this._activeProviderReplies)===null||b===void 0||b.set(w,R),m=this._checkLinkProviderResult(w,p,m),((E=this._activeProviderReplies)===null||E===void 0?void 0:E.size)===this._linkProviders.length&&this._removeIntersectingLinks(p.y,this._activeProviderReplies)})}_removeIntersectingLinks(p,d){const c=new Set;for(let h=0;h<d.size;h++){const m=d.get(h);if(m)for(let w=0;w<m.length;w++){const C=m[w],x=C.link.range.start.y<p?0:C.link.range.start.x,b=C.link.range.end.y>p?this._bufferService.cols:C.link.range.end.x;for(let E=x;E<=b;E++){if(c.has(E)){m.splice(w--,1);break}c.add(E)}}}}_checkLinkProviderResult(p,d,c){var h;if(!this._activeProviderReplies)return c;const m=this._activeProviderReplies.get(p);let w=!1;for(let C=0;C<p;C++)this._activeProviderReplies.has(C)&&!this._activeProviderReplies.get(C)||(w=!0);if(!w&&m){const C=m.find(x=>this._linkAtPosition(x.link,d));C&&(c=!0,this._handleNewLink(C))}if(this._activeProviderReplies.size===this._linkProviders.length&&!c)for(let C=0;C<this._activeProviderReplies.size;C++){const x=(h=this._activeProviderReplies.get(C))===null||h===void 0?void 0:h.find(b=>this._linkAtPosition(b.link,d));if(x){c=!0,this._handleNewLink(x);break}}return c}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(p){if(!this._element||!this._mouseService||!this._currentLink)return;const d=this._positionFromMouseEvent(p,this._element,this._mouseService);d&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,d)&&this._currentLink.link.activate(p,this._currentLink.link.text)}_clearCurrentLink(p,d){this._element&&this._currentLink&&this._lastMouseEvent&&(!p||!d||this._currentLink.link.range.start.y>=p&&this._currentLink.link.range.end.y<=d)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,y.disposeArray)(this._linkCacheDisposables))}_handleNewLink(p){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const d=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);d&&this._linkAtPosition(p.link,d)&&(this._currentLink=p,this._currentLink.state={decorations:{underline:p.link.decorations===void 0||p.link.decorations.underline,pointerCursor:p.link.decorations===void 0||p.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,p.link,this._lastMouseEvent),p.link.decorations={},Object.defineProperties(p.link.decorations,{pointerCursor:{get:()=>{var c,h;return(h=(c=this._currentLink)===null||c===void 0?void 0:c.state)===null||h===void 0?void 0:h.decorations.pointerCursor},set:c=>{var h,m;!((h=this._currentLink)===null||h===void 0)&&h.state&&this._currentLink.state.decorations.pointerCursor!==c&&(this._currentLink.state.decorations.pointerCursor=c,this._currentLink.state.isHovered&&((m=this._element)===null||m===void 0||m.classList.toggle("xterm-cursor-pointer",c)))}},underline:{get:()=>{var c,h;return(h=(c=this._currentLink)===null||c===void 0?void 0:c.state)===null||h===void 0?void 0:h.decorations.underline},set:c=>{var h,m,w;!((h=this._currentLink)===null||h===void 0)&&h.state&&((w=(m=this._currentLink)===null||m===void 0?void 0:m.state)===null||w===void 0?void 0:w.decorations.underline)!==c&&(this._currentLink.state.decorations.underline=c,this._currentLink.state.isHovered&&this._fireUnderlineEvent(p.link,c))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(c=>{if(!this._currentLink)return;const h=c.start===0?0:c.start+1+this._bufferService.buffer.ydisp,m=this._bufferService.buffer.ydisp+1+c.end;if(this._currentLink.link.range.start.y>=h&&this._currentLink.link.range.end.y<=m&&(this._clearCurrentLink(h,m),this._lastMouseEvent&&this._element)){const w=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);w&&this._askForLink(w,!1)}})))}_linkHover(p,d,c){var h;!((h=this._currentLink)===null||h===void 0)&&h.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!0),this._currentLink.state.decorations.pointerCursor&&p.classList.add("xterm-cursor-pointer")),d.hover&&d.hover(c,d.text)}_fireUnderlineEvent(p,d){const c=p.range,h=this._bufferService.buffer.ydisp,m=this._createLinkUnderlineEvent(c.start.x-1,c.start.y-h-1,c.end.x,c.end.y-h-1,void 0);(d?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(m)}_linkLeave(p,d,c){var h;!((h=this._currentLink)===null||h===void 0)&&h.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!1),this._currentLink.state.decorations.pointerCursor&&p.classList.remove("xterm-cursor-pointer")),d.leave&&d.leave(c,d.text)}_linkAtPosition(p,d){const c=p.range.start.y*this._bufferService.cols+p.range.start.x,h=p.range.end.y*this._bufferService.cols+p.range.end.x,m=d.y*this._bufferService.cols+d.x;return c<=m&&m<=h}_positionFromMouseEvent(p,d,c){const h=c.getCoords(p,d,this._bufferService.cols,this._bufferService.rows);if(h)return{x:h[0],y:h[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(p,d,c,h,m){return{x1:p,y1:d,x2:c,y2:h,cols:this._bufferService.cols,fg:m}}};s.Linkifier2=_=u([g(0,S.IBufferService)],_)},9042:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.tooMuchOutput=s.promptLabel=void 0,s.promptLabel="Terminal input",s.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(l,s,a){var u=this&&this.__decorate||function(_,p,d,c){var h,m=arguments.length,w=m<3?p:c===null?c=Object.getOwnPropertyDescriptor(p,d):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(_,p,d,c);else for(var C=_.length-1;C>=0;C--)(h=_[C])&&(w=(m<3?h(w):m>3?h(p,d,w):h(p,d))||w);return m>3&&w&&Object.defineProperty(p,d,w),w},g=this&&this.__param||function(_,p){return function(d,c){p(d,c,_)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkProvider=void 0;const f=a(511),v=a(2585);let y=s.OscLinkProvider=class{constructor(_,p,d){this._bufferService=_,this._optionsService=p,this._oscLinkService=d}provideLinks(_,p){var d;const c=this._bufferService.buffer.lines.get(_-1);if(!c)return void p(void 0);const h=[],m=this._optionsService.rawOptions.linkHandler,w=new f.CellData,C=c.getTrimmedLength();let x=-1,b=-1,E=!1;for(let R=0;R<C;R++)if(b!==-1||c.hasContent(R)){if(c.loadCell(R,w),w.hasExtendedAttrs()&&w.extended.urlId){if(b===-1){b=R,x=w.extended.urlId;continue}E=w.extended.urlId!==x}else b!==-1&&(E=!0);if(E||b!==-1&&R===C-1){const O=(d=this._oscLinkService.getLinkData(x))===null||d===void 0?void 0:d.uri;if(O){const T={start:{x:b+1,y:_},end:{x:R+(E||R!==C-1?0:1),y:_}};let I=!1;if(!(m!=null&&m.allowNonHttpProtocols))try{const F=new URL(O);["http:","https:"].includes(F.protocol)||(I=!0)}catch{I=!0}I||h.push({text:O,range:T,activate:(F,z)=>m?m.activate(F,z,T):S(0,z),hover:(F,z)=>{var j;return(j=m==null?void 0:m.hover)===null||j===void 0?void 0:j.call(m,F,z,T)},leave:(F,z)=>{var j;return(j=m==null?void 0:m.leave)===null||j===void 0?void 0:j.call(m,F,z,T)}})}E=!1,w.hasExtendedAttrs()&&w.extended.urlId?(b=R,x=w.extended.urlId):(b=-1,x=-1)}}p(h)}};function S(_,p){if(confirm(`Do you want to navigate to ${p}?

WARNING: This link could potentially be dangerous`)){const d=window.open();if(d){try{d.opener=null}catch{}d.location.href=p}else console.warn("Opening link blocked as opener could not be cleared")}}s.OscLinkProvider=y=u([g(0,v.IBufferService),g(1,v.IOptionsService),g(2,v.IOscLinkService)],y)},6193:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RenderDebouncer=void 0,s.RenderDebouncer=class{constructor(a,u){this._parentWindow=a,this._renderCallback=u,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(a){return this._refreshCallbacks.push(a),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(a,u,g){this._rowCount=g,a=a!==void 0?a:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const a=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,u),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const a of this._refreshCallbacks)a(0);this._refreshCallbacks=[]}}},5596:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ScreenDprMonitor=void 0;const u=a(844);class g extends u.Disposable{constructor(v){super(),this._parentWindow=v,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,u.toDisposable)(()=>{this.clearListener()}))}setListener(v){this._listener&&this.clearListener(),this._listener=v,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var v;this._outerListener&&((v=this._resolutionMediaMatchList)===null||v===void 0||v.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}s.ScreenDprMonitor=g},3236:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Terminal=void 0;const u=a(3614),g=a(3656),f=a(6465),v=a(9042),y=a(3730),S=a(1680),_=a(3107),p=a(5744),d=a(2950),c=a(1296),h=a(428),m=a(4269),w=a(5114),C=a(8934),x=a(3230),b=a(9312),E=a(4725),R=a(6731),O=a(8055),T=a(8969),I=a(8460),F=a(844),z=a(6114),j=a(8437),H=a(2584),k=a(7399),A=a(5941),M=a(9074),B=a(2585),W=a(5435),K=a(4567),q=typeof window<"u"?window.document:null;class X extends T.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(P={}){super(P),this.browser=z,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new F.MutableDisposable),this._onCursorMove=this.register(new I.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new I.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new I.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new I.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new I.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new I.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new I.EventEmitter),this._onBlur=this.register(new I.EventEmitter),this._onA11yCharEmitter=this.register(new I.EventEmitter),this._onA11yTabEmitter=this.register(new I.EventEmitter),this._onWillOpen=this.register(new I.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(f.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(y.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(M.DecorationService),this._instantiationService.setService(B.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows(($,U)=>this.refresh($,U))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport($=>this._reportWindowsOptions($))),this.register(this._inputHandler.onColor($=>this._handleColorEvent($))),this.register((0,I.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,I.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,I.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,I.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize($=>this._afterResize($.cols,$.rows))),this.register((0,F.toDisposable)(()=>{var $,U;this._customKeyEventHandler=void 0,(U=($=this.element)===null||$===void 0?void 0:$.parentNode)===null||U===void 0||U.removeChild(this.element)}))}_handleColorEvent(P){if(this._themeService)for(const $ of P){let U,V="";switch($.index){case 256:U="foreground",V="10";break;case 257:U="background",V="11";break;case 258:U="cursor",V="12";break;default:U="ansi",V="4;"+$.index}switch($.type){case 0:const Q=O.color.toColorRGB(U==="ansi"?this._themeService.colors.ansi[$.index]:this._themeService.colors[U]);this.coreService.triggerDataEvent(`${H.C0.ESC}]${V};${(0,A.toRgbString)(Q)}${H.C1_ESCAPED.ST}`);break;case 1:if(U==="ansi")this._themeService.modifyColors(Y=>Y.ansi[$.index]=O.rgba.toColor(...$.color));else{const Y=U;this._themeService.modifyColors(re=>re[Y]=O.rgba.toColor(...$.color))}break;case 2:this._themeService.restoreColor($.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(P){P?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(K.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(P){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(H.C0.ESC+"[I"),this.updateCursorStyle(P),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var P;return(P=this.textarea)===null||P===void 0?void 0:P.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(H.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const P=this.buffer.ybase+this.buffer.y,$=this.buffer.lines.get(P);if(!$)return;const U=Math.min(this.buffer.x,this.cols-1),V=this._renderService.dimensions.css.cell.height,Q=$.getWidth(U),Y=this._renderService.dimensions.css.cell.width*Q,re=this.buffer.y*this._renderService.dimensions.css.cell.height,ke=U*this._renderService.dimensions.css.cell.width;this.textarea.style.left=ke+"px",this.textarea.style.top=re+"px",this.textarea.style.width=Y+"px",this.textarea.style.height=V+"px",this.textarea.style.lineHeight=V+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,g.addDisposableDomListener)(this.element,"copy",$=>{this.hasSelection()&&(0,u.copyHandler)($,this._selectionService)}));const P=$=>(0,u.handlePasteEvent)($,this.textarea,this.coreService,this.optionsService);this.register((0,g.addDisposableDomListener)(this.textarea,"paste",P)),this.register((0,g.addDisposableDomListener)(this.element,"paste",P)),z.isFirefox?this.register((0,g.addDisposableDomListener)(this.element,"mousedown",$=>{$.button===2&&(0,u.rightClickHandler)($,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,g.addDisposableDomListener)(this.element,"contextmenu",$=>{(0,u.rightClickHandler)($,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),z.isLinux&&this.register((0,g.addDisposableDomListener)(this.element,"auxclick",$=>{$.button===1&&(0,u.moveTextAreaUnderMouseCursor)($,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,g.addDisposableDomListener)(this.textarea,"keyup",P=>this._keyUp(P),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"keydown",P=>this._keyDown(P),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"keypress",P=>this._keyPress(P),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionupdate",P=>this._compositionHelper.compositionupdate(P))),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,g.addDisposableDomListener)(this.textarea,"input",P=>this._inputEvent(P),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(P){var $;if(!P)throw new Error("Terminal requires a parent element.");P.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=P.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),P.appendChild(this.element);const U=q.createDocumentFragment();this._viewportElement=q.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),U.appendChild(this._viewportElement),this._viewportScrollArea=q.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=q.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=q.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),U.appendChild(this.screenElement),this.textarea=q.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",v.promptLabel),z.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,($=this._document.defaultView)!==null&&$!==void 0?$:window),this._instantiationService.setService(E.ICoreBrowserService,this._coreBrowserService),this.register((0,g.addDisposableDomListener)(this.textarea,"focus",V=>this._handleTextAreaFocus(V))),this.register((0,g.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(h.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(R.ThemeService),this._instantiationService.setService(E.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(m.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(x.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(V=>this._onRender.fire(V))),this.onResize(V=>this._renderService.resize(V.cols,V.rows)),this._compositionView=q.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(d.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(U);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(C.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(S.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(V=>this.scrollLines(V.amount,V.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(b.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(V=>this.scrollLines(V.amount,V.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(V=>this._renderService.handleSelectionChanged(V.start,V.end,V.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(V=>{this.textarea.value=V,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(V=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,g.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(_.BufferDecorationRenderer,this.screenElement)),this.register((0,g.addDisposableDomListener)(this.element,"mousedown",V=>this._selectionService.handleMouseDown(V))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(K.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",V=>this._handleScreenReaderModeOptionChange(V))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(p.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",V=>{!this._overviewRulerRenderer&&V&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(p.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(c.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const P=this,$=this.element;function U(Y){const re=P._mouseService.getMouseReportCoords(Y,P.screenElement);if(!re)return!1;let ke,je;switch(Y.overrideType||Y.type){case"mousemove":je=32,Y.buttons===void 0?(ke=3,Y.button!==void 0&&(ke=Y.button<3?Y.button:3)):ke=1&Y.buttons?0:4&Y.buttons?1:2&Y.buttons?2:3;break;case"mouseup":je=0,ke=Y.button<3?Y.button:3;break;case"mousedown":je=1,ke=Y.button<3?Y.button:3;break;case"wheel":if(P.viewport.getLinesScrolled(Y)===0)return!1;je=Y.deltaY<0?0:1,ke=4;break;default:return!1}return!(je===void 0||ke===void 0||ke>4)&&P.coreMouseService.triggerMouseEvent({col:re.col,row:re.row,x:re.x,y:re.y,button:ke,action:je,ctrl:Y.ctrlKey,alt:Y.altKey,shift:Y.shiftKey})}const V={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Q={mouseup:Y=>(U(Y),Y.buttons||(this._document.removeEventListener("mouseup",V.mouseup),V.mousedrag&&this._document.removeEventListener("mousemove",V.mousedrag)),this.cancel(Y)),wheel:Y=>(U(Y),this.cancel(Y,!0)),mousedrag:Y=>{Y.buttons&&U(Y)},mousemove:Y=>{Y.buttons||U(Y)}};this.register(this.coreMouseService.onProtocolChange(Y=>{Y?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(Y)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&Y?V.mousemove||($.addEventListener("mousemove",Q.mousemove),V.mousemove=Q.mousemove):($.removeEventListener("mousemove",V.mousemove),V.mousemove=null),16&Y?V.wheel||($.addEventListener("wheel",Q.wheel,{passive:!1}),V.wheel=Q.wheel):($.removeEventListener("wheel",V.wheel),V.wheel=null),2&Y?V.mouseup||($.addEventListener("mouseup",Q.mouseup),V.mouseup=Q.mouseup):(this._document.removeEventListener("mouseup",V.mouseup),$.removeEventListener("mouseup",V.mouseup),V.mouseup=null),4&Y?V.mousedrag||(V.mousedrag=Q.mousedrag):(this._document.removeEventListener("mousemove",V.mousedrag),V.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,g.addDisposableDomListener)($,"mousedown",Y=>{if(Y.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(Y))return U(Y),V.mouseup&&this._document.addEventListener("mouseup",V.mouseup),V.mousedrag&&this._document.addEventListener("mousemove",V.mousedrag),this.cancel(Y)})),this.register((0,g.addDisposableDomListener)($,"wheel",Y=>{if(!V.wheel){if(!this.buffer.hasScrollback){const re=this.viewport.getLinesScrolled(Y);if(re===0)return;const ke=H.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(Y.deltaY<0?"A":"B");let je="";for(let yr=0;yr<Math.abs(re);yr++)je+=ke;return this.coreService.triggerDataEvent(je,!0),this.cancel(Y,!0)}return this.viewport.handleWheel(Y)?this.cancel(Y):void 0}},{passive:!1})),this.register((0,g.addDisposableDomListener)($,"touchstart",Y=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(Y),this.cancel(Y)},{passive:!0})),this.register((0,g.addDisposableDomListener)($,"touchmove",Y=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(Y)?void 0:this.cancel(Y)},{passive:!1}))}refresh(P,$){var U;(U=this._renderService)===null||U===void 0||U.refreshRows(P,$)}updateCursorStyle(P){var $;!(($=this._selectionService)===null||$===void 0)&&$.shouldColumnSelect(P)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(P,$,U=0){var V;U===1?(super.scrollLines(P,$,U),this.refresh(0,this.rows-1)):(V=this.viewport)===null||V===void 0||V.scrollLines(P)}paste(P){(0,u.paste)(P,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(P){this._customKeyEventHandler=P}registerLinkProvider(P){return this.linkifier2.registerLinkProvider(P)}registerCharacterJoiner(P){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const $=this._characterJoinerService.register(P);return this.refresh(0,this.rows-1),$}deregisterCharacterJoiner(P){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(P)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(P){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+P)}registerDecoration(P){return this._decorationService.registerDecoration(P)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(P,$,U){this._selectionService.setSelection(P,$,U)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var P;(P=this._selectionService)===null||P===void 0||P.clearSelection()}selectAll(){var P;(P=this._selectionService)===null||P===void 0||P.selectAll()}selectLines(P,$){var U;(U=this._selectionService)===null||U===void 0||U.selectLines(P,$)}_keyDown(P){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1)return!1;const $=this.browser.isMac&&this.options.macOptionIsMeta&&P.altKey;if(!$&&!this._compositionHelper.keydown(P))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;$||P.key!=="Dead"&&P.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const U=(0,k.evaluateKeyboardEvent)(P,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(P),U.type===3||U.type===2){const V=this.rows-1;return this.scrollLines(U.type===2?-V:V),this.cancel(P,!0)}return U.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,P)||(U.cancel&&this.cancel(P,!0),!U.key||!!(P.key&&!P.ctrlKey&&!P.altKey&&!P.metaKey&&P.key.length===1&&P.key.charCodeAt(0)>=65&&P.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(U.key!==H.C0.ETX&&U.key!==H.C0.CR||(this.textarea.value=""),this._onKey.fire({key:U.key,domEvent:P}),this._showCursor(),this.coreService.triggerDataEvent(U.key,!0),!this.optionsService.rawOptions.screenReaderMode||P.altKey||P.ctrlKey?this.cancel(P,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(P,$){const U=P.isMac&&!this.options.macOptionIsMeta&&$.altKey&&!$.ctrlKey&&!$.metaKey||P.isWindows&&$.altKey&&$.ctrlKey&&!$.metaKey||P.isWindows&&$.getModifierState("AltGraph");return $.type==="keypress"?U:U&&(!$.keyCode||$.keyCode>47)}_keyUp(P){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1||(function($){return $.keyCode===16||$.keyCode===17||$.keyCode===18}(P)||this.focus(),this.updateCursorStyle(P),this._keyPressHandled=!1)}_keyPress(P){let $;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1)return!1;if(this.cancel(P),P.charCode)$=P.charCode;else if(P.which===null||P.which===void 0)$=P.keyCode;else{if(P.which===0||P.charCode===0)return!1;$=P.which}return!(!$||(P.altKey||P.ctrlKey||P.metaKey)&&!this._isThirdLevelShift(this.browser,P)||($=String.fromCharCode($),this._onKey.fire({key:$,domEvent:P}),this._showCursor(),this.coreService.triggerDataEvent($,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(P){if(P.data&&P.inputType==="insertText"&&(!P.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const $=P.data;return this.coreService.triggerDataEvent($,!0),this.cancel(P),!0}return!1}resize(P,$){P!==this.cols||$!==this.rows?super.resize(P,$):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(P,$){var U,V;(U=this._charSizeService)===null||U===void 0||U.measure(),(V=this.viewport)===null||V===void 0||V.syncScrollArea(!0)}clear(){var P;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let $=1;$<this.rows;$++)this.buffer.lines.push(this.buffer.getBlankLine(j.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(P=this.viewport)===null||P===void 0||P.reset(),this.refresh(0,this.rows-1)}}reset(){var P,$;this.options.rows=this.rows,this.options.cols=this.cols;const U=this._customKeyEventHandler;this._setup(),super.reset(),(P=this._selectionService)===null||P===void 0||P.reset(),this._decorationService.reset(),($=this.viewport)===null||$===void 0||$.reset(),this._customKeyEventHandler=U,this.refresh(0,this.rows-1)}clearTextureAtlas(){var P;(P=this._renderService)===null||P===void 0||P.clearTextureAtlas()}_reportFocus(){var P;!((P=this.element)===null||P===void 0)&&P.classList.contains("focus")?this.coreService.triggerDataEvent(H.C0.ESC+"[I"):this.coreService.triggerDataEvent(H.C0.ESC+"[O")}_reportWindowsOptions(P){if(this._renderService)switch(P){case W.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const $=this._renderService.dimensions.css.canvas.width.toFixed(0),U=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${H.C0.ESC}[4;${U};${$}t`);break;case W.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const V=this._renderService.dimensions.css.cell.width.toFixed(0),Q=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${H.C0.ESC}[6;${Q};${V}t`)}}cancel(P,$){if(this.options.cancelEvents||$)return P.preventDefault(),P.stopPropagation(),!1}}s.Terminal=X},9924:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TimeBasedDebouncer=void 0,s.TimeBasedDebouncer=class{constructor(a,u=1e3){this._renderCallback=a,this._debounceThresholdMS=u,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(a,u,g){this._rowCount=g,a=a!==void 0?a:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u;const f=Date.now();if(f-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=f,this._innerRefresh();else if(!this._additionalRefreshRequested){const v=f-this._lastRefreshMs,y=this._debounceThresholdMS-v;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},y)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const a=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,u)}}},1680:function(l,s,a){var u=this&&this.__decorate||function(d,c,h,m){var w,C=arguments.length,x=C<3?c:m===null?m=Object.getOwnPropertyDescriptor(c,h):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,c,h,m);else for(var b=d.length-1;b>=0;b--)(w=d[b])&&(x=(C<3?w(x):C>3?w(c,h,x):w(c,h))||x);return C>3&&x&&Object.defineProperty(c,h,x),x},g=this&&this.__param||function(d,c){return function(h,m){c(h,m,d)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Viewport=void 0;const f=a(3656),v=a(4725),y=a(8460),S=a(844),_=a(2585);let p=s.Viewport=class extends S.Disposable{constructor(d,c,h,m,w,C,x,b){super(),this._viewportElement=d,this._scrollArea=c,this._bufferService=h,this._optionsService=m,this._charSizeService=w,this._renderService=C,this._coreBrowserService=x,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new y.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,f.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(E=>this._activeBuffer=E.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(E=>this._renderDimensions=E)),this._handleThemeChange(b.colors),this.register(b.onChangeColors(E=>this._handleThemeChange(E))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(d){this._viewportElement.style.backgroundColor=d.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(d){if(d)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const c=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==c&&(this._lastRecordedBufferHeight=c,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const d=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==d&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=d),this._refreshAnimationFrame=null}syncScrollArea(d=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(d);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(d)}_handleScroll(d){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const c=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:c,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const d=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(d*(this._smoothScrollState.target-this._smoothScrollState.origin)),d<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(d,c){const h=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(c<0&&this._viewportElement.scrollTop!==0||c>0&&h<this._lastRecordedBufferHeight)||(d.cancelable&&d.preventDefault(),!1)}handleWheel(d){const c=this._getPixelsScrolled(d);return c!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+c:this._smoothScrollState.target+=c,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=c,this._bubbleScroll(d,c))}scrollLines(d){if(d!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const c=d*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+c,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!1})}_getPixelsScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let c=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_LINE?c*=this._currentRowHeight:d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._currentRowHeight*this._bufferService.rows),c}getBufferElements(d,c){var h;let m,w="";const C=[],x=c??this._bufferService.buffer.lines.length,b=this._bufferService.buffer.lines;for(let E=d;E<x;E++){const R=b.get(E);if(!R)continue;const O=(h=b.get(E+1))===null||h===void 0?void 0:h.isWrapped;if(w+=R.translateToString(!O),!O||E===b.length-1){const T=document.createElement("div");T.textContent=w,C.push(T),w.length>0&&(m=T),w=""}}return{bufferElements:C,cursorElement:m}}getLinesScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let c=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(c/=this._currentRowHeight+0,this._wheelPartialScroll+=c,c=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._bufferService.rows),c}_applyScrollModifier(d,c){const h=this._optionsService.rawOptions.fastScrollModifier;return h==="alt"&&c.altKey||h==="ctrl"&&c.ctrlKey||h==="shift"&&c.shiftKey?d*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:d*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(d){this._lastTouchY=d.touches[0].pageY}handleTouchMove(d){const c=this._lastTouchY-d.touches[0].pageY;return this._lastTouchY=d.touches[0].pageY,c!==0&&(this._viewportElement.scrollTop+=c,this._bubbleScroll(d,c))}};s.Viewport=p=u([g(2,_.IBufferService),g(3,_.IOptionsService),g(4,v.ICharSizeService),g(5,v.IRenderService),g(6,v.ICoreBrowserService),g(7,v.IThemeService)],p)},3107:function(l,s,a){var u=this&&this.__decorate||function(p,d,c,h){var m,w=arguments.length,C=w<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,c):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,d,c,h);else for(var x=p.length-1;x>=0;x--)(m=p[x])&&(C=(w<3?m(C):w>3?m(d,c,C):m(d,c))||C);return w>3&&C&&Object.defineProperty(d,c,C),C},g=this&&this.__param||function(p,d){return function(c,h){d(c,h,p)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferDecorationRenderer=void 0;const f=a(3656),v=a(4725),y=a(844),S=a(2585);let _=s.BufferDecorationRenderer=class extends y.Disposable{constructor(p,d,c,h){super(),this._screenElement=p,this._bufferService=d,this._decorationService=c,this._renderService=h,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(m=>this._removeDecoration(m))),this.register((0,y.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const p of this._decorationService.decorations)this._renderDecoration(p);this._dimensionsChanged=!1}_renderDecoration(p){this._refreshStyle(p),this._dimensionsChanged&&this._refreshXPosition(p)}_createElement(p){var d,c;const h=document.createElement("div");h.classList.add("xterm-decoration"),h.classList.toggle("xterm-decoration-top-layer",((d=p==null?void 0:p.options)===null||d===void 0?void 0:d.layer)==="top"),h.style.width=`${Math.round((p.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,h.style.height=(p.options.height||1)*this._renderService.dimensions.css.cell.height+"px",h.style.top=(p.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",h.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const m=(c=p.options.x)!==null&&c!==void 0?c:0;return m&&m>this._bufferService.cols&&(h.style.display="none"),this._refreshXPosition(p,h),h}_refreshStyle(p){const d=p.marker.line-this._bufferService.buffers.active.ydisp;if(d<0||d>=this._bufferService.rows)p.element&&(p.element.style.display="none",p.onRenderEmitter.fire(p.element));else{let c=this._decorationElements.get(p);c||(c=this._createElement(p),p.element=c,this._decorationElements.set(p,c),this._container.appendChild(c),p.onDispose(()=>{this._decorationElements.delete(p),c.remove()})),c.style.top=d*this._renderService.dimensions.css.cell.height+"px",c.style.display=this._altBufferIsActive?"none":"block",p.onRenderEmitter.fire(c)}}_refreshXPosition(p,d=p.element){var c;if(!d)return;const h=(c=p.options.x)!==null&&c!==void 0?c:0;(p.options.anchor||"left")==="right"?d.style.right=h?h*this._renderService.dimensions.css.cell.width+"px":"":d.style.left=h?h*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(p){var d;(d=this._decorationElements.get(p))===null||d===void 0||d.remove(),this._decorationElements.delete(p),p.dispose()}};s.BufferDecorationRenderer=_=u([g(1,S.IBufferService),g(2,S.IDecorationService),g(3,v.IRenderService)],_)},5871:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorZoneStore=void 0,s.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(a){if(a.options.overviewRulerOptions){for(const u of this._zones)if(u.color===a.options.overviewRulerOptions.color&&u.position===a.options.overviewRulerOptions.position){if(this._lineIntersectsZone(u,a.marker.line))return;if(this._lineAdjacentToZone(u,a.marker.line,a.options.overviewRulerOptions.position))return void this._addLineToZone(u,a.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=a.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=a.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=a.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=a.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:a.options.overviewRulerOptions.color,position:a.options.overviewRulerOptions.position,startBufferLine:a.marker.line,endBufferLine:a.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(a){this._linePadding=a}_lineIntersectsZone(a,u){return u>=a.startBufferLine&&u<=a.endBufferLine}_lineAdjacentToZone(a,u,g){return u>=a.startBufferLine-this._linePadding[g||"full"]&&u<=a.endBufferLine+this._linePadding[g||"full"]}_addLineToZone(a,u){a.startBufferLine=Math.min(a.startBufferLine,u),a.endBufferLine=Math.max(a.endBufferLine,u)}}},5744:function(l,s,a){var u=this&&this.__decorate||function(m,w,C,x){var b,E=arguments.length,R=E<3?w:x===null?x=Object.getOwnPropertyDescriptor(w,C):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(m,w,C,x);else for(var O=m.length-1;O>=0;O--)(b=m[O])&&(R=(E<3?b(R):E>3?b(w,C,R):b(w,C))||R);return E>3&&R&&Object.defineProperty(w,C,R),R},g=this&&this.__param||function(m,w){return function(C,x){w(C,x,m)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OverviewRulerRenderer=void 0;const f=a(5871),v=a(3656),y=a(4725),S=a(844),_=a(2585),p={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0},c={full:0,left:0,center:0,right:0};let h=s.OverviewRulerRenderer=class extends S.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(m,w,C,x,b,E,R){var O;super(),this._viewportElement=m,this._screenElement=w,this._bufferService=C,this._decorationService=x,this._renderService=b,this._optionsService=E,this._coreBrowseService=R,this._colorZoneStore=new f.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(O=this._viewportElement.parentElement)===null||O===void 0||O.insertBefore(this._canvas,this._viewportElement);const T=this._canvas.getContext("2d");if(!T)throw new Error("Ctx cannot be null");this._ctx=T,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,S.toDisposable)(()=>{var I;(I=this._canvas)===null||I===void 0||I.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,v.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const m=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);d.full=this._canvas.width,d.left=m,d.center=w,d.right=m,this._refreshDrawHeightConstants(),c.full=0,c.left=0,c.center=d.left,c.right=d.left+d.center}_refreshDrawHeightConstants(){p.full=Math.round(2*this._coreBrowseService.dpr);const m=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(m,12),6)*this._coreBrowseService.dpr);p.left=w,p.center=w,p.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*p.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*p.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*p.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*p.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const m=this._colorZoneStore.zones;for(const w of m)w.position!=="full"&&this._renderColorZone(w);for(const w of m)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(m){this._ctx.fillStyle=m.color,this._ctx.fillRect(c[m.position||"full"],Math.round((this._canvas.height-1)*(m.startBufferLine/this._bufferService.buffers.active.lines.length)-p[m.position||"full"]/2),d[m.position||"full"],Math.round((this._canvas.height-1)*((m.endBufferLine-m.startBufferLine)/this._bufferService.buffers.active.lines.length)+p[m.position||"full"]))}_queueRefresh(m,w){this._shouldUpdateDimensions=m||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};s.OverviewRulerRenderer=h=u([g(2,_.IBufferService),g(3,_.IDecorationService),g(4,y.IRenderService),g(5,_.IOptionsService),g(6,y.ICoreBrowserService)],h)},2950:function(l,s,a){var u=this&&this.__decorate||function(_,p,d,c){var h,m=arguments.length,w=m<3?p:c===null?c=Object.getOwnPropertyDescriptor(p,d):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(_,p,d,c);else for(var C=_.length-1;C>=0;C--)(h=_[C])&&(w=(m<3?h(w):m>3?h(p,d,w):h(p,d))||w);return m>3&&w&&Object.defineProperty(p,d,w),w},g=this&&this.__param||function(_,p){return function(d,c){p(d,c,_)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CompositionHelper=void 0;const f=a(4725),v=a(2585),y=a(2584);let S=s.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(_,p,d,c,h,m){this._textarea=_,this._compositionView=p,this._bufferService=d,this._optionsService=c,this._coreService=h,this._renderService=m,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(_){this._compositionView.textContent=_.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(_){if(this._isComposing||this._isSendingComposition){if(_.keyCode===229||_.keyCode===16||_.keyCode===17||_.keyCode===18)return!1;this._finalizeComposition(!1)}return _.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(_){if(this._compositionView.classList.remove("active"),this._isComposing=!1,_){const p={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let d;this._isSendingComposition=!1,p.start+=this._dataAlreadySent.length,d=this._isComposing?this._textarea.value.substring(p.start,p.end):this._textarea.value.substring(p.start),d.length>0&&this._coreService.triggerDataEvent(d,!0)}},0)}else{this._isSendingComposition=!1;const p=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(p,!0)}}_handleAnyTextareaChanges(){const _=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const p=this._textarea.value,d=p.replace(_,"");this._dataAlreadySent=d,p.length>_.length?this._coreService.triggerDataEvent(d,!0):p.length<_.length?this._coreService.triggerDataEvent(`${y.C0.DEL}`,!0):p.length===_.length&&p!==_&&this._coreService.triggerDataEvent(p,!0)}},0)}updateCompositionElements(_){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const p=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),d=this._renderService.dimensions.css.cell.height,c=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,h=p*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=h+"px",this._compositionView.style.top=c+"px",this._compositionView.style.height=d+"px",this._compositionView.style.lineHeight=d+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const m=this._compositionView.getBoundingClientRect();this._textarea.style.left=h+"px",this._textarea.style.top=c+"px",this._textarea.style.width=Math.max(m.width,1)+"px",this._textarea.style.height=Math.max(m.height,1)+"px",this._textarea.style.lineHeight=m.height+"px"}_||setTimeout(()=>this.updateCompositionElements(!0),0)}}};s.CompositionHelper=S=u([g(2,v.IBufferService),g(3,v.IOptionsService),g(4,v.ICoreService),g(5,f.IRenderService)],S)},9806:(l,s)=>{function a(u,g,f){const v=f.getBoundingClientRect(),y=u.getComputedStyle(f),S=parseInt(y.getPropertyValue("padding-left")),_=parseInt(y.getPropertyValue("padding-top"));return[g.clientX-v.left-S,g.clientY-v.top-_]}Object.defineProperty(s,"__esModule",{value:!0}),s.getCoords=s.getCoordsRelativeToElement=void 0,s.getCoordsRelativeToElement=a,s.getCoords=function(u,g,f,v,y,S,_,p,d){if(!S)return;const c=a(u,g,f);return c?(c[0]=Math.ceil((c[0]+(d?_/2:0))/_),c[1]=Math.ceil(c[1]/p),c[0]=Math.min(Math.max(c[0],1),v+(d?1:0)),c[1]=Math.min(Math.max(c[1],1),y),c):void 0}},9504:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.moveToCellSequence=void 0;const u=a(2584);function g(p,d,c,h){const m=p-f(p,c),w=d-f(d,c),C=Math.abs(m-w)-function(x,b,E){let R=0;const O=x-f(x,E),T=b-f(b,E);for(let I=0;I<Math.abs(O-T);I++){const F=v(x,b)==="A"?-1:1,z=E.buffer.lines.get(O+F*I);z!=null&&z.isWrapped&&R++}return R}(p,d,c);return _(C,S(v(p,d),h))}function f(p,d){let c=0,h=d.buffer.lines.get(p),m=h==null?void 0:h.isWrapped;for(;m&&p>=0&&p<d.rows;)c++,h=d.buffer.lines.get(--p),m=h==null?void 0:h.isWrapped;return c}function v(p,d){return p>d?"A":"B"}function y(p,d,c,h,m,w){let C=p,x=d,b="";for(;C!==c||x!==h;)C+=m?1:-1,m&&C>w.cols-1?(b+=w.buffer.translateBufferLineToString(x,!1,p,C),C=0,p=0,x++):!m&&C<0&&(b+=w.buffer.translateBufferLineToString(x,!1,0,p+1),C=w.cols-1,p=C,x--);return b+w.buffer.translateBufferLineToString(x,!1,p,C)}function S(p,d){const c=d?"O":"[";return u.C0.ESC+c+p}function _(p,d){p=Math.floor(p);let c="";for(let h=0;h<p;h++)c+=d;return c}s.moveToCellSequence=function(p,d,c,h){const m=c.buffer.x,w=c.buffer.y;if(!c.buffer.hasScrollback)return function(b,E,R,O,T,I){return g(E,O,T,I).length===0?"":_(y(b,E,b,E-f(E,T),!1,T).length,S("D",I))}(m,w,0,d,c,h)+g(w,d,c,h)+function(b,E,R,O,T,I){let F;F=g(E,O,T,I).length>0?O-f(O,T):E;const z=O,j=function(H,k,A,M,B,W){let K;return K=g(A,M,B,W).length>0?M-f(M,B):k,H<A&&K<=M||H>=A&&K<M?"C":"D"}(b,E,R,O,T,I);return _(y(b,F,R,z,j==="C",T).length,S(j,I))}(m,w,p,d,c,h);let C;if(w===d)return C=m>p?"D":"C",_(Math.abs(m-p),S(C,h));C=w>d?"D":"C";const x=Math.abs(w-d);return _(function(b,E){return E.cols-b}(w>d?p:m,c)+(x-1)*c.cols+1+((w>d?m:p)-1),S(C,h))}},1296:function(l,s,a){var u=this&&this.__decorate||function(T,I,F,z){var j,H=arguments.length,k=H<3?I:z===null?z=Object.getOwnPropertyDescriptor(I,F):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(T,I,F,z);else for(var A=T.length-1;A>=0;A--)(j=T[A])&&(k=(H<3?j(k):H>3?j(I,F,k):j(I,F))||k);return H>3&&k&&Object.defineProperty(I,F,k),k},g=this&&this.__param||function(T,I){return function(F,z){I(F,z,T)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRenderer=void 0;const f=a(3787),v=a(2550),y=a(2223),S=a(6171),_=a(4725),p=a(8055),d=a(8460),c=a(844),h=a(2585),m="xterm-dom-renderer-owner-",w="xterm-rows",C="xterm-fg-",x="xterm-bg-",b="xterm-focus",E="xterm-selection";let R=1,O=s.DomRenderer=class extends c.Disposable{constructor(T,I,F,z,j,H,k,A,M,B){super(),this._element=T,this._screenElement=I,this._viewportElement=F,this._linkifier2=z,this._charSizeService=H,this._optionsService=k,this._bufferService=A,this._coreBrowserService=M,this._themeService=B,this._terminalClass=R++,this._rowElements=[],this.onRequestRedraw=this.register(new d.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(w),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(E),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,S.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(W=>this._injectCss(W))),this._injectCss(this._themeService.colors),this._rowFactory=j.createInstance(f.DomRendererRowFactory,document),this._element.classList.add(m+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(W=>this._handleLinkHover(W))),this.register(this._linkifier2.onHideLinkUnderline(W=>this._handleLinkLeave(W))),this.register((0,c.toDisposable)(()=>{this._element.classList.remove(m+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new v.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const T=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*T,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*T),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/T),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/T),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const F of this._rowElements)F.style.width=`${this.dimensions.css.canvas.width}px`,F.style.height=`${this.dimensions.css.cell.height}px`,F.style.lineHeight=`${this.dimensions.css.cell.height}px`,F.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const I=`${this._terminalSelector} .${w} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=I,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(T){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let I=`${this._terminalSelector} .${w} { color: ${T.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;I+=`${this._terminalSelector} .${w} .xterm-dim { color: ${p.color.multiplyOpacity(T.foreground,.5).css};}`,I+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,I+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",I+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${T.cursor.css};  color: ${T.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${T.cursor.css}; }}`,I+=`${this._terminalSelector} .${w}.${b} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w}.${b} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-block { background-color: ${T.cursor.css}; color: ${T.cursorAccent.css};}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${T.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${T.cursor.css} inset;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${T.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,I+=`${this._terminalSelector} .${E} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${E} div { position: absolute; background-color: ${T.selectionBackgroundOpaque.css};}${this._terminalSelector} .${E} div { position: absolute; background-color: ${T.selectionInactiveBackgroundOpaque.css};}`;for(const[F,z]of T.ansi.entries())I+=`${this._terminalSelector} .${C}${F} { color: ${z.css}; }${this._terminalSelector} .${C}${F}.xterm-dim { color: ${p.color.multiplyOpacity(z,.5).css}; }${this._terminalSelector} .${x}${F} { background-color: ${z.css}; }`;I+=`${this._terminalSelector} .${C}${y.INVERTED_DEFAULT_COLOR} { color: ${p.color.opaque(T.background).css}; }${this._terminalSelector} .${C}${y.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${p.color.multiplyOpacity(p.color.opaque(T.background),.5).css}; }${this._terminalSelector} .${x}${y.INVERTED_DEFAULT_COLOR} { background-color: ${T.foreground.css}; }`,this._themeStyleElement.textContent=I}_setDefaultSpacing(){const T=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${T}px`,this._rowFactory.defaultSpacing=T}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(T,I){for(let F=this._rowElements.length;F<=I;F++){const z=document.createElement("div");this._rowContainer.appendChild(z),this._rowElements.push(z)}for(;this._rowElements.length>I;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(T,I){this._refreshRowElements(T,I),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(b)}handleFocus(){this._rowContainer.classList.add(b),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(T,I,F){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(T,I,F),this.renderRows(0,this._bufferService.rows-1),!T||!I)return;const z=T[1]-this._bufferService.buffer.ydisp,j=I[1]-this._bufferService.buffer.ydisp,H=Math.max(z,0),k=Math.min(j,this._bufferService.rows-1);if(H>=this._bufferService.rows||k<0)return;const A=document.createDocumentFragment();if(F){const M=T[0]>I[0];A.appendChild(this._createSelectionElement(H,M?I[0]:T[0],M?T[0]:I[0],k-H+1))}else{const M=z===H?T[0]:0,B=H===j?I[0]:this._bufferService.cols;A.appendChild(this._createSelectionElement(H,M,B));const W=k-H-1;if(A.appendChild(this._createSelectionElement(H+1,0,this._bufferService.cols,W)),H!==k){const K=j===k?I[0]:this._bufferService.cols;A.appendChild(this._createSelectionElement(k,0,K))}}this._selectionContainer.appendChild(A)}_createSelectionElement(T,I,F,z=1){const j=document.createElement("div");return j.style.height=z*this.dimensions.css.cell.height+"px",j.style.top=T*this.dimensions.css.cell.height+"px",j.style.left=I*this.dimensions.css.cell.width+"px",j.style.width=this.dimensions.css.cell.width*(F-I)+"px",j}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const T of this._rowElements)T.replaceChildren()}renderRows(T,I){const F=this._bufferService.buffer,z=F.ybase+F.y,j=Math.min(F.x,this._bufferService.cols-1),H=this._optionsService.rawOptions.cursorBlink,k=this._optionsService.rawOptions.cursorStyle,A=this._optionsService.rawOptions.cursorInactiveStyle;for(let M=T;M<=I;M++){const B=M+F.ydisp,W=this._rowElements[M],K=F.lines.get(B);if(!W||!K)break;W.replaceChildren(...this._rowFactory.createRow(K,B,B===z,k,A,j,H,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${m}${this._terminalClass}`}_handleLinkHover(T){this._setCellUnderline(T.x1,T.x2,T.y1,T.y2,T.cols,!0)}_handleLinkLeave(T){this._setCellUnderline(T.x1,T.x2,T.y1,T.y2,T.cols,!1)}_setCellUnderline(T,I,F,z,j,H){F<0&&(T=0),z<0&&(I=0);const k=this._bufferService.rows-1;F=Math.max(Math.min(F,k),0),z=Math.max(Math.min(z,k),0),j=Math.min(j,this._bufferService.cols);const A=this._bufferService.buffer,M=A.ybase+A.y,B=Math.min(A.x,j-1),W=this._optionsService.rawOptions.cursorBlink,K=this._optionsService.rawOptions.cursorStyle,q=this._optionsService.rawOptions.cursorInactiveStyle;for(let X=F;X<=z;++X){const ee=X+A.ydisp,P=this._rowElements[X],$=A.lines.get(ee);if(!P||!$)break;P.replaceChildren(...this._rowFactory.createRow($,ee,ee===M,K,q,B,W,this.dimensions.css.cell.width,this._widthCache,H?X===F?T:0:-1,H?(X===z?I:j)-1:-1))}}};s.DomRenderer=O=u([g(4,h.IInstantiationService),g(5,_.ICharSizeService),g(6,h.IOptionsService),g(7,h.IBufferService),g(8,_.ICoreBrowserService),g(9,_.IThemeService)],O)},3787:function(l,s,a){var u=this&&this.__decorate||function(C,x,b,E){var R,O=arguments.length,T=O<3?x:E===null?E=Object.getOwnPropertyDescriptor(x,b):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(C,x,b,E);else for(var I=C.length-1;I>=0;I--)(R=C[I])&&(T=(O<3?R(T):O>3?R(x,b,T):R(x,b))||T);return O>3&&T&&Object.defineProperty(x,b,T),T},g=this&&this.__param||function(C,x){return function(b,E){x(b,E,C)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRendererRowFactory=void 0;const f=a(2223),v=a(643),y=a(511),S=a(2585),_=a(8055),p=a(4725),d=a(4269),c=a(6171),h=a(3734);let m=s.DomRendererRowFactory=class{constructor(C,x,b,E,R,O,T){this._document=C,this._characterJoinerService=x,this._optionsService=b,this._coreBrowserService=E,this._coreService=R,this._decorationService=O,this._themeService=T,this._workCell=new y.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(C,x,b){this._selectionStart=C,this._selectionEnd=x,this._columnSelectMode=b}createRow(C,x,b,E,R,O,T,I,F,z,j){const H=[],k=this._characterJoinerService.getJoinedCharacters(x),A=this._themeService.colors;let M,B=C.getNoBgTrimmedLength();b&&B<O+1&&(B=O+1);let W=0,K="",q=0,X=0,ee=0,P=!1,$=0,U=!1,V=0;const Q=[],Y=z!==-1&&j!==-1;for(let re=0;re<B;re++){C.loadCell(re,this._workCell);let ke=this._workCell.getWidth();if(ke===0)continue;let je=!1,yr=re,ne=this._workCell;if(k.length>0&&re===k[0][0]){je=!0;const _e=k.shift();ne=new d.JoinedCellData(this._workCell,C.translateToString(!0,_e[0],_e[1]),_e[1]-_e[0]),yr=_e[1]-1,ke=ne.getWidth()}const sn=this._isCellInSelection(re,x),wr=b&&re===O,ol=Y&&re>=z&&re<=j;let al=!1;this._decorationService.forEachDecorationAtCell(re,x,void 0,_e=>{al=!0});let Js=ne.getChars()||v.WHITESPACE_CELL_CHAR;if(Js===" "&&(ne.isUnderline()||ne.isOverline())&&(Js=" "),V=ke*I-F.get(Js,ne.isBold(),ne.isItalic()),M){if(W&&(sn&&U||!sn&&!U&&ne.bg===q)&&(sn&&U&&A.selectionForeground||ne.fg===X)&&ne.extended.ext===ee&&ol===P&&V===$&&!wr&&!je&&!al){K+=Js,W++;continue}W&&(M.textContent=K),M=this._document.createElement("span"),W=0,K=""}else M=this._document.createElement("span");if(q=ne.bg,X=ne.fg,ee=ne.extended.ext,P=ol,$=V,U=sn,je&&O>=re&&O<=yr&&(O=re),!this._coreService.isCursorHidden&&wr){if(Q.push("xterm-cursor"),this._coreBrowserService.isFocused)T&&Q.push("xterm-cursor-blink"),Q.push(E==="bar"?"xterm-cursor-bar":E==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(R)switch(R){case"outline":Q.push("xterm-cursor-outline");break;case"block":Q.push("xterm-cursor-block");break;case"bar":Q.push("xterm-cursor-bar");break;case"underline":Q.push("xterm-cursor-underline")}}if(ne.isBold()&&Q.push("xterm-bold"),ne.isItalic()&&Q.push("xterm-italic"),ne.isDim()&&Q.push("xterm-dim"),K=ne.isInvisible()?v.WHITESPACE_CELL_CHAR:ne.getChars()||v.WHITESPACE_CELL_CHAR,ne.isUnderline()&&(Q.push(`xterm-underline-${ne.extended.underlineStyle}`),K===" "&&(K=" "),!ne.isUnderlineColorDefault()))if(ne.isUnderlineColorRGB())M.style.textDecorationColor=`rgb(${h.AttributeData.toColorRGB(ne.getUnderlineColor()).join(",")})`;else{let _e=ne.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ne.isBold()&&_e<8&&(_e+=8),M.style.textDecorationColor=A.ansi[_e].css}ne.isOverline()&&(Q.push("xterm-overline"),K===" "&&(K=" ")),ne.isStrikethrough()&&Q.push("xterm-strikethrough"),ol&&(M.style.textDecoration="underline");let St=ne.getFgColor(),Ii=ne.getFgColorMode(),Wt=ne.getBgColor(),Bi=ne.getBgColorMode();const ll=!!ne.isInverse();if(ll){const _e=St;St=Wt,Wt=_e;const o_=Ii;Ii=Bi,Bi=o_}let Sr,cl,br,Ni=!1;switch(this._decorationService.forEachDecorationAtCell(re,x,void 0,_e=>{_e.options.layer!=="top"&&Ni||(_e.backgroundColorRGB&&(Bi=50331648,Wt=_e.backgroundColorRGB.rgba>>8&16777215,Sr=_e.backgroundColorRGB),_e.foregroundColorRGB&&(Ii=50331648,St=_e.foregroundColorRGB.rgba>>8&16777215,cl=_e.foregroundColorRGB),Ni=_e.options.layer==="top")}),!Ni&&sn&&(Sr=this._coreBrowserService.isFocused?A.selectionBackgroundOpaque:A.selectionInactiveBackgroundOpaque,Wt=Sr.rgba>>8&16777215,Bi=50331648,Ni=!0,A.selectionForeground&&(Ii=50331648,St=A.selectionForeground.rgba>>8&16777215,cl=A.selectionForeground)),Ni&&Q.push("xterm-decoration-top"),Bi){case 16777216:case 33554432:br=A.ansi[Wt],Q.push(`xterm-bg-${Wt}`);break;case 50331648:br=_.rgba.toColor(Wt>>16,Wt>>8&255,255&Wt),this._addStyle(M,`background-color:#${w((Wt>>>0).toString(16),"0",6)}`);break;default:ll?(br=A.foreground,Q.push(`xterm-bg-${f.INVERTED_DEFAULT_COLOR}`)):br=A.background}switch(Sr||ne.isDim()&&(Sr=_.color.multiplyOpacity(br,.5)),Ii){case 16777216:case 33554432:ne.isBold()&&St<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(St+=8),this._applyMinimumContrast(M,br,A.ansi[St],ne,Sr,void 0)||Q.push(`xterm-fg-${St}`);break;case 50331648:const _e=_.rgba.toColor(St>>16&255,St>>8&255,255&St);this._applyMinimumContrast(M,br,_e,ne,Sr,cl)||this._addStyle(M,`color:#${w(St.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(M,br,A.foreground,ne,Sr,void 0)||ll&&Q.push(`xterm-fg-${f.INVERTED_DEFAULT_COLOR}`)}Q.length&&(M.className=Q.join(" "),Q.length=0),wr||je||al?M.textContent=K:W++,V!==this.defaultSpacing&&(M.style.letterSpacing=`${V}px`),H.push(M),re=yr}return M&&W&&(M.textContent=K),H}_applyMinimumContrast(C,x,b,E,R,O){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,c.excludeFromContrastRatioDemands)(E.getCode()))return!1;const T=this._getContrastCache(E);let I;if(R||O||(I=T.getColor(x.rgba,b.rgba)),I===void 0){const F=this._optionsService.rawOptions.minimumContrastRatio/(E.isDim()?2:1);I=_.color.ensureContrastRatio(R||x,O||b,F),T.setColor((R||x).rgba,(O||b).rgba,I??null)}return!!I&&(this._addStyle(C,`color:${I.css}`),!0)}_getContrastCache(C){return C.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(C,x){C.setAttribute("style",`${C.getAttribute("style")||""}${x};`)}_isCellInSelection(C,x){const b=this._selectionStart,E=this._selectionEnd;return!(!b||!E)&&(this._columnSelectMode?b[0]<=E[0]?C>=b[0]&&x>=b[1]&&C<E[0]&&x<=E[1]:C<b[0]&&x>=b[1]&&C>=E[0]&&x<=E[1]:x>b[1]&&x<E[1]||b[1]===E[1]&&x===b[1]&&C>=b[0]&&C<E[0]||b[1]<E[1]&&x===E[1]&&C<E[0]||b[1]<E[1]&&x===b[1]&&C>=b[0])}};function w(C,x,b){for(;C.length<b;)C=x+C;return C}s.DomRendererRowFactory=m=u([g(1,p.ICharacterJoinerService),g(2,S.IOptionsService),g(3,p.ICoreBrowserService),g(4,S.ICoreService),g(5,S.IDecorationService),g(6,p.IThemeService)],m)},2550:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WidthCache=void 0,s.WidthCache=class{constructor(a){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=a.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const u=a.createElement("span"),g=a.createElement("span");g.style.fontWeight="bold";const f=a.createElement("span");f.style.fontStyle="italic";const v=a.createElement("span");v.style.fontWeight="bold",v.style.fontStyle="italic",this._measureElements=[u,g,f,v],this._container.appendChild(u),this._container.appendChild(g),this._container.appendChild(f),this._container.appendChild(v),a.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(a,u,g,f){a===this._font&&u===this._fontSize&&g===this._weight&&f===this._weightBold||(this._font=a,this._fontSize=u,this._weight=g,this._weightBold=f,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${g}`,this._measureElements[1].style.fontWeight=`${f}`,this._measureElements[2].style.fontWeight=`${g}`,this._measureElements[3].style.fontWeight=`${f}`,this.clear())}get(a,u,g){let f=0;if(!u&&!g&&a.length===1&&(f=a.charCodeAt(0))<256)return this._flat[f]!==-9999?this._flat[f]:this._flat[f]=this._measure(a,0);let v=a;u&&(v+="B"),g&&(v+="I");let y=this._holey.get(v);if(y===void 0){let S=0;u&&(S|=1),g&&(S|=2),y=this._measure(a,S),this._holey.set(v,y)}return y}_measure(a,u){const g=this._measureElements[u];return g.textContent=a.repeat(32),g.offsetWidth/32}}},2223:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TEXT_BASELINE=s.DIM_OPACITY=s.INVERTED_DEFAULT_COLOR=void 0;const u=a(6114);s.INVERTED_DEFAULT_COLOR=257,s.DIM_OPACITY=.5,s.TEXT_BASELINE=u.isFirefox||u.isLegacyEdge?"bottom":"ideographic"},6171:(l,s)=>{function a(u){return 57508<=u&&u<=57558}Object.defineProperty(s,"__esModule",{value:!0}),s.createRenderDimensions=s.excludeFromContrastRatioDemands=s.isRestrictedPowerlineGlyph=s.isPowerlineGlyph=s.throwIfFalsy=void 0,s.throwIfFalsy=function(u){if(!u)throw new Error("value must not be falsy");return u},s.isPowerlineGlyph=a,s.isRestrictedPowerlineGlyph=function(u){return 57520<=u&&u<=57527},s.excludeFromContrastRatioDemands=function(u){return a(u)||function(g){return 9472<=g&&g<=9631}(u)},s.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionModel=void 0,s.SelectionModel=class{constructor(a){this._bufferService=a,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?a%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)-1]:[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[a,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[Math.max(a,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const a=this.selectionStart,u=this.selectionEnd;return!(!a||!u)&&(a[1]>u[1]||a[1]===u[1]&&a[0]>u[0])}handleTrim(a){return this.selectionStart&&(this.selectionStart[1]-=a),this.selectionEnd&&(this.selectionEnd[1]-=a),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(l,s,a){var u=this&&this.__decorate||function(p,d,c,h){var m,w=arguments.length,C=w<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,c):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,d,c,h);else for(var x=p.length-1;x>=0;x--)(m=p[x])&&(C=(w<3?m(C):w>3?m(d,c,C):m(d,c))||C);return w>3&&C&&Object.defineProperty(d,c,C),C},g=this&&this.__param||function(p,d){return function(c,h){d(c,h,p)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharSizeService=void 0;const f=a(2585),v=a(8460),y=a(844);let S=s.CharSizeService=class extends y.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(p,d,c){super(),this._optionsService=c,this.width=0,this.height=0,this._onCharSizeChange=this.register(new v.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new _(p,d,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const p=this._measureStrategy.measure();p.width===this.width&&p.height===this.height||(this.width=p.width,this.height=p.height,this._onCharSizeChange.fire())}};s.CharSizeService=S=u([g(2,f.IOptionsService)],S);class _{constructor(d,c,h){this._document=d,this._parentElement=c,this._optionsService=h,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const d={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return d.width!==0&&d.height!==0&&(this._result.width=d.width/32,this._result.height=Math.ceil(d.height)),this._result}}},4269:function(l,s,a){var u=this&&this.__decorate||function(d,c,h,m){var w,C=arguments.length,x=C<3?c:m===null?m=Object.getOwnPropertyDescriptor(c,h):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,c,h,m);else for(var b=d.length-1;b>=0;b--)(w=d[b])&&(x=(C<3?w(x):C>3?w(c,h,x):w(c,h))||x);return C>3&&x&&Object.defineProperty(c,h,x),x},g=this&&this.__param||function(d,c){return function(h,m){c(h,m,d)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterJoinerService=s.JoinedCellData=void 0;const f=a(3734),v=a(643),y=a(511),S=a(2585);class _ extends f.AttributeData{constructor(c,h,m){super(),this.content=0,this.combinedData="",this.fg=c.fg,this.bg=c.bg,this.combinedData=h,this._width=m}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(c){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.JoinedCellData=_;let p=s.CharacterJoinerService=class Bm{constructor(c){this._bufferService=c,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new y.CellData}register(c){const h={id:this._nextCharacterJoinerId++,handler:c};return this._characterJoiners.push(h),h.id}deregister(c){for(let h=0;h<this._characterJoiners.length;h++)if(this._characterJoiners[h].id===c)return this._characterJoiners.splice(h,1),!0;return!1}getJoinedCharacters(c){if(this._characterJoiners.length===0)return[];const h=this._bufferService.buffer.lines.get(c);if(!h||h.length===0)return[];const m=[],w=h.translateToString(!0);let C=0,x=0,b=0,E=h.getFg(0),R=h.getBg(0);for(let O=0;O<h.getTrimmedLength();O++)if(h.loadCell(O,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==E||this._workCell.bg!==R){if(O-C>1){const T=this._getJoinedRanges(w,b,x,h,C);for(let I=0;I<T.length;I++)m.push(T[I])}C=O,b=x,E=this._workCell.fg,R=this._workCell.bg}x+=this._workCell.getChars().length||v.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-C>1){const O=this._getJoinedRanges(w,b,x,h,C);for(let T=0;T<O.length;T++)m.push(O[T])}return m}_getJoinedRanges(c,h,m,w,C){const x=c.substring(h,m);let b=[];try{b=this._characterJoiners[0].handler(x)}catch(E){console.error(E)}for(let E=1;E<this._characterJoiners.length;E++)try{const R=this._characterJoiners[E].handler(x);for(let O=0;O<R.length;O++)Bm._mergeRanges(b,R[O])}catch(R){console.error(R)}return this._stringRangesToCellRanges(b,w,C),b}_stringRangesToCellRanges(c,h,m){let w=0,C=!1,x=0,b=c[w];if(b){for(let E=m;E<this._bufferService.cols;E++){const R=h.getWidth(E),O=h.getString(E).length||v.WHITESPACE_CELL_CHAR.length;if(R!==0){if(!C&&b[0]<=x&&(b[0]=E,C=!0),b[1]<=x){if(b[1]=E,b=c[++w],!b)break;b[0]<=x?(b[0]=E,C=!0):C=!1}x+=O}}b&&(b[1]=this._bufferService.cols)}}static _mergeRanges(c,h){let m=!1;for(let w=0;w<c.length;w++){const C=c[w];if(m){if(h[1]<=C[0])return c[w-1][1]=h[1],c;if(h[1]<=C[1])return c[w-1][1]=Math.max(h[1],C[1]),c.splice(w,1),c;c.splice(w,1),w--}else{if(h[1]<=C[0])return c.splice(w,0,h),c;if(h[1]<=C[1])return C[0]=Math.min(h[0],C[0]),c;h[0]<C[1]&&(C[0]=Math.min(h[0],C[0]),m=!0)}}return m?c[c.length-1][1]=h[1]:c.push(h),c}};s.CharacterJoinerService=p=u([g(0,S.IBufferService)],p)},5114:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreBrowserService=void 0,s.CoreBrowserService=class{constructor(a,u){this._textarea=a,this.window=u,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(l,s,a){var u=this&&this.__decorate||function(S,_,p,d){var c,h=arguments.length,m=h<3?_:d===null?d=Object.getOwnPropertyDescriptor(_,p):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(S,_,p,d);else for(var w=S.length-1;w>=0;w--)(c=S[w])&&(m=(h<3?c(m):h>3?c(_,p,m):c(_,p))||m);return h>3&&m&&Object.defineProperty(_,p,m),m},g=this&&this.__param||function(S,_){return function(p,d){_(p,d,S)}};Object.defineProperty(s,"__esModule",{value:!0}),s.MouseService=void 0;const f=a(4725),v=a(9806);let y=s.MouseService=class{constructor(S,_){this._renderService=S,this._charSizeService=_}getCoords(S,_,p,d,c){return(0,v.getCoords)(window,S,_,p,d,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,c)}getMouseReportCoords(S,_){const p=(0,v.getCoordsRelativeToElement)(window,S,_);if(this._charSizeService.hasValidSize)return p[0]=Math.min(Math.max(p[0],0),this._renderService.dimensions.css.canvas.width-1),p[1]=Math.min(Math.max(p[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(p[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(p[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(p[0]),y:Math.floor(p[1])}}};s.MouseService=y=u([g(0,f.IRenderService),g(1,f.ICharSizeService)],y)},3230:function(l,s,a){var u=this&&this.__decorate||function(m,w,C,x){var b,E=arguments.length,R=E<3?w:x===null?x=Object.getOwnPropertyDescriptor(w,C):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(m,w,C,x);else for(var O=m.length-1;O>=0;O--)(b=m[O])&&(R=(E<3?b(R):E>3?b(w,C,R):b(w,C))||R);return E>3&&R&&Object.defineProperty(w,C,R),R},g=this&&this.__param||function(m,w){return function(C,x){w(C,x,m)}};Object.defineProperty(s,"__esModule",{value:!0}),s.RenderService=void 0;const f=a(3656),v=a(6193),y=a(5596),S=a(4725),_=a(8460),p=a(844),d=a(7226),c=a(2585);let h=s.RenderService=class extends p.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(m,w,C,x,b,E,R,O){if(super(),this._rowCount=m,this._charSizeService=x,this._renderer=this.register(new p.MutableDisposable),this._pausedResizeTask=new d.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new _.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new _.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new _.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new _.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new v.RenderDebouncer(R.window,(T,I)=>this._renderRows(T,I)),this.register(this._renderDebouncer),this._screenDprMonitor=new y.ScreenDprMonitor(R.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(E.onResize(()=>this._fullRefresh())),this.register(E.buffers.onBufferActivate(()=>{var T;return(T=this._renderer.value)===null||T===void 0?void 0:T.clear()})),this.register(C.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(b.onDecorationRegistered(()=>this._fullRefresh())),this.register(b.onDecorationRemoved(()=>this._fullRefresh())),this.register(C.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(E.cols,E.rows),this._fullRefresh()})),this.register(C.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(E.buffer.y,E.buffer.y,!0))),this.register((0,f.addDisposableDomListener)(R.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(O.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in R.window){const T=new R.window.IntersectionObserver(I=>this._handleIntersectionChange(I[I.length-1]),{threshold:0});T.observe(w),this.register({dispose:()=>T.disconnect()})}}_handleIntersectionChange(m){this._isPaused=m.isIntersecting===void 0?m.intersectionRatio===0:!m.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(m,w,C=!1){this._isPaused?this._needsFullRefresh=!0:(C||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(m,w,this._rowCount))}_renderRows(m,w){this._renderer.value&&(m=Math.min(m,this._rowCount-1),w=Math.min(w,this._rowCount-1),this._renderer.value.renderRows(m,w),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:m,end:w}),this._onRender.fire({start:m,end:w}),this._isNextRenderRedrawOnly=!0)}resize(m,w){this._rowCount=w,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(m){this._renderer.value=m,this._renderer.value.onRequestRedraw(w=>this.refreshRows(w.start,w.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(m){return this._renderDebouncer.addRefreshCallback(m)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var m,w;this._renderer.value&&((w=(m=this._renderer.value).clearTextureAtlas)===null||w===void 0||w.call(m),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(m,w){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(m,w)):this._renderer.value.handleResize(m,w),this._fullRefresh())}handleCharSizeChanged(){var m;(m=this._renderer.value)===null||m===void 0||m.handleCharSizeChanged()}handleBlur(){var m;(m=this._renderer.value)===null||m===void 0||m.handleBlur()}handleFocus(){var m;(m=this._renderer.value)===null||m===void 0||m.handleFocus()}handleSelectionChanged(m,w,C){var x;this._selectionState.start=m,this._selectionState.end=w,this._selectionState.columnSelectMode=C,(x=this._renderer.value)===null||x===void 0||x.handleSelectionChanged(m,w,C)}handleCursorMove(){var m;(m=this._renderer.value)===null||m===void 0||m.handleCursorMove()}clear(){var m;(m=this._renderer.value)===null||m===void 0||m.clear()}};s.RenderService=h=u([g(2,c.IOptionsService),g(3,S.ICharSizeService),g(4,c.IDecorationService),g(5,c.IBufferService),g(6,S.ICoreBrowserService),g(7,S.IThemeService)],h)},9312:function(l,s,a){var u=this&&this.__decorate||function(b,E,R,O){var T,I=arguments.length,F=I<3?E:O===null?O=Object.getOwnPropertyDescriptor(E,R):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(b,E,R,O);else for(var z=b.length-1;z>=0;z--)(T=b[z])&&(F=(I<3?T(F):I>3?T(E,R,F):T(E,R))||F);return I>3&&F&&Object.defineProperty(E,R,F),F},g=this&&this.__param||function(b,E){return function(R,O){E(R,O,b)}};Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionService=void 0;const f=a(9806),v=a(9504),y=a(456),S=a(4725),_=a(8460),p=a(844),d=a(6114),c=a(4841),h=a(511),m=a(2585),w=" ",C=new RegExp(w,"g");let x=s.SelectionService=class extends p.Disposable{constructor(b,E,R,O,T,I,F,z,j){super(),this._element=b,this._screenElement=E,this._linkifier=R,this._bufferService=O,this._coreService=T,this._mouseService=I,this._optionsService=F,this._renderService=z,this._coreBrowserService=j,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new h.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new _.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new _.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new _.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new _.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=H=>this._handleMouseMove(H),this._mouseUpListener=H=>this._handleMouseUp(H),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(H=>this._handleTrim(H)),this.register(this._bufferService.buffers.onBufferActivate(H=>this._handleBufferActivate(H))),this.enable(),this._model=new y.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,p.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const b=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!(!b||!E||b[0]===E[0]&&b[1]===E[1])}get selectionText(){const b=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;if(!b||!E)return"";const R=this._bufferService.buffer,O=[];if(this._activeSelectionMode===3){if(b[0]===E[0])return"";const T=b[0]<E[0]?b[0]:E[0],I=b[0]<E[0]?E[0]:b[0];for(let F=b[1];F<=E[1];F++){const z=R.translateBufferLineToString(F,!0,T,I);O.push(z)}}else{const T=b[1]===E[1]?E[0]:void 0;O.push(R.translateBufferLineToString(b[1],!0,b[0],T));for(let I=b[1]+1;I<=E[1]-1;I++){const F=R.lines.get(I),z=R.translateBufferLineToString(I,!0);F!=null&&F.isWrapped?O[O.length-1]+=z:O.push(z)}if(b[1]!==E[1]){const I=R.lines.get(E[1]),F=R.translateBufferLineToString(E[1],!0,0,E[0]);I&&I.isWrapped?O[O.length-1]+=F:O.push(F)}}return O.map(T=>T.replace(C," ")).join(d.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(b){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),d.isLinux&&b&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(b){const E=this._getMouseBufferCoords(b),R=this._model.finalSelectionStart,O=this._model.finalSelectionEnd;return!!(R&&O&&E)&&this._areCoordsInSelection(E,R,O)}isCellInSelection(b,E){const R=this._model.finalSelectionStart,O=this._model.finalSelectionEnd;return!(!R||!O)&&this._areCoordsInSelection([b,E],R,O)}_areCoordsInSelection(b,E,R){return b[1]>E[1]&&b[1]<R[1]||E[1]===R[1]&&b[1]===E[1]&&b[0]>=E[0]&&b[0]<R[0]||E[1]<R[1]&&b[1]===R[1]&&b[0]<R[0]||E[1]<R[1]&&b[1]===E[1]&&b[0]>=E[0]}_selectWordAtCursor(b,E){var R,O;const T=(O=(R=this._linkifier.currentLink)===null||R===void 0?void 0:R.link)===null||O===void 0?void 0:O.range;if(T)return this._model.selectionStart=[T.start.x-1,T.start.y-1],this._model.selectionStartLength=(0,c.getRangeLength)(T,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const I=this._getMouseBufferCoords(b);return!!I&&(this._selectWordAt(I,E),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(b,E){this._model.clearSelection(),b=Math.max(b,0),E=Math.min(E,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,b],this._model.selectionEnd=[this._bufferService.cols,E],this.refresh(),this._onSelectionChange.fire()}_handleTrim(b){this._model.handleTrim(b)&&this.refresh()}_getMouseBufferCoords(b){const E=this._mouseService.getCoords(b,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(E)return E[0]--,E[1]--,E[1]+=this._bufferService.buffer.ydisp,E}_getMouseEventScrollAmount(b){let E=(0,f.getCoordsRelativeToElement)(this._coreBrowserService.window,b,this._screenElement)[1];const R=this._renderService.dimensions.css.canvas.height;return E>=0&&E<=R?0:(E>R&&(E-=R),E=Math.min(Math.max(E,-50),50),E/=50,E/Math.abs(E)+Math.round(14*E))}shouldForceSelection(b){return d.isMac?b.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:b.shiftKey}handleMouseDown(b){if(this._mouseDownTimeStamp=b.timeStamp,(b.button!==2||!this.hasSelection)&&b.button===0){if(!this._enabled){if(!this.shouldForceSelection(b))return;b.stopPropagation()}b.preventDefault(),this._dragScrollAmount=0,this._enabled&&b.shiftKey?this._handleIncrementalClick(b):b.detail===1?this._handleSingleClick(b):b.detail===2?this._handleDoubleClick(b):b.detail===3&&this._handleTripleClick(b),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(b){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(b))}_handleSingleClick(b){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(b)?3:0,this._model.selectionStart=this._getMouseBufferCoords(b),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const E=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);E&&E.length!==this._model.selectionStart[0]&&E.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(b){this._selectWordAtCursor(b,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(b){const E=this._getMouseBufferCoords(b);E&&(this._activeSelectionMode=2,this._selectLineAt(E[1]))}shouldColumnSelect(b){return b.altKey&&!(d.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(b){if(b.stopImmediatePropagation(),!this._model.selectionStart)return;const E=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(b),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(b),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const R=this._bufferService.buffer;if(this._model.selectionEnd[1]<R.lines.length){const O=R.lines.get(this._model.selectionEnd[1]);O&&O.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}E&&E[0]===this._model.selectionEnd[0]&&E[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const b=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(b.ydisp+this._bufferService.rows,b.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=b.ydisp),this.refresh()}}_handleMouseUp(b){const E=b.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&E<500&&b.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const R=this._mouseService.getCoords(b,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(R&&R[0]!==void 0&&R[1]!==void 0){const O=(0,v.moveToCellSequence)(R[0]-1,R[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(O,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const b=this._model.finalSelectionStart,E=this._model.finalSelectionEnd,R=!(!b||!E||b[0]===E[0]&&b[1]===E[1]);R?b&&E&&(this._oldSelectionStart&&this._oldSelectionEnd&&b[0]===this._oldSelectionStart[0]&&b[1]===this._oldSelectionStart[1]&&E[0]===this._oldSelectionEnd[0]&&E[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(b,E,R)):this._oldHasSelection&&this._fireOnSelectionChange(b,E,R)}_fireOnSelectionChange(b,E,R){this._oldSelectionStart=b,this._oldSelectionEnd=E,this._oldHasSelection=R,this._onSelectionChange.fire()}_handleBufferActivate(b){this.clearSelection(),this._trimListener.dispose(),this._trimListener=b.activeBuffer.lines.onTrim(E=>this._handleTrim(E))}_convertViewportColToCharacterIndex(b,E){let R=E;for(let O=0;E>=O;O++){const T=b.loadCell(O,this._workCell).getChars().length;this._workCell.getWidth()===0?R--:T>1&&E!==O&&(R+=T-1)}return R}setSelection(b,E,R){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[b,E],this._model.selectionStartLength=R,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(b){this._isClickInSelection(b)||(this._selectWordAtCursor(b,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(b,E,R=!0,O=!0){if(b[0]>=this._bufferService.cols)return;const T=this._bufferService.buffer,I=T.lines.get(b[1]);if(!I)return;const F=T.translateBufferLineToString(b[1],!1);let z=this._convertViewportColToCharacterIndex(I,b[0]),j=z;const H=b[0]-z;let k=0,A=0,M=0,B=0;if(F.charAt(z)===" "){for(;z>0&&F.charAt(z-1)===" ";)z--;for(;j<F.length&&F.charAt(j+1)===" ";)j++}else{let q=b[0],X=b[0];I.getWidth(q)===0&&(k++,q--),I.getWidth(X)===2&&(A++,X++);const ee=I.getString(X).length;for(ee>1&&(B+=ee-1,j+=ee-1);q>0&&z>0&&!this._isCharWordSeparator(I.loadCell(q-1,this._workCell));){I.loadCell(q-1,this._workCell);const P=this._workCell.getChars().length;this._workCell.getWidth()===0?(k++,q--):P>1&&(M+=P-1,z-=P-1),z--,q--}for(;X<I.length&&j+1<F.length&&!this._isCharWordSeparator(I.loadCell(X+1,this._workCell));){I.loadCell(X+1,this._workCell);const P=this._workCell.getChars().length;this._workCell.getWidth()===2?(A++,X++):P>1&&(B+=P-1,j+=P-1),j++,X++}}j++;let W=z+H-k+M,K=Math.min(this._bufferService.cols,j-z+k+A-M-B);if(E||F.slice(z,j).trim()!==""){if(R&&W===0&&I.getCodePoint(0)!==32){const q=T.lines.get(b[1]-1);if(q&&I.isWrapped&&q.getCodePoint(this._bufferService.cols-1)!==32){const X=this._getWordAt([this._bufferService.cols-1,b[1]-1],!1,!0,!1);if(X){const ee=this._bufferService.cols-X.start;W-=ee,K+=ee}}}if(O&&W+K===this._bufferService.cols&&I.getCodePoint(this._bufferService.cols-1)!==32){const q=T.lines.get(b[1]+1);if(q!=null&&q.isWrapped&&q.getCodePoint(0)!==32){const X=this._getWordAt([0,b[1]+1],!1,!1,!0);X&&(K+=X.length)}}return{start:W,length:K}}}_selectWordAt(b,E){const R=this._getWordAt(b,E);if(R){for(;R.start<0;)R.start+=this._bufferService.cols,b[1]--;this._model.selectionStart=[R.start,b[1]],this._model.selectionStartLength=R.length}}_selectToWordAt(b){const E=this._getWordAt(b,!0);if(E){let R=b[1];for(;E.start<0;)E.start+=this._bufferService.cols,R--;if(!this._model.areSelectionValuesReversed())for(;E.start+E.length>this._bufferService.cols;)E.length-=this._bufferService.cols,R++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?E.start:E.start+E.length,R]}}_isCharWordSeparator(b){return b.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(b.getChars())>=0}_selectLineAt(b){const E=this._bufferService.buffer.getWrappedRangeForLine(b),R={start:{x:0,y:E.first},end:{x:this._bufferService.cols-1,y:E.last}};this._model.selectionStart=[0,E.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,c.getRangeLength)(R,this._bufferService.cols)}};s.SelectionService=x=u([g(3,m.IBufferService),g(4,m.ICoreService),g(5,S.IMouseService),g(6,m.IOptionsService),g(7,S.IRenderService),g(8,S.ICoreBrowserService)],x)},4725:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IThemeService=s.ICharacterJoinerService=s.ISelectionService=s.IRenderService=s.IMouseService=s.ICoreBrowserService=s.ICharSizeService=void 0;const u=a(8343);s.ICharSizeService=(0,u.createDecorator)("CharSizeService"),s.ICoreBrowserService=(0,u.createDecorator)("CoreBrowserService"),s.IMouseService=(0,u.createDecorator)("MouseService"),s.IRenderService=(0,u.createDecorator)("RenderService"),s.ISelectionService=(0,u.createDecorator)("SelectionService"),s.ICharacterJoinerService=(0,u.createDecorator)("CharacterJoinerService"),s.IThemeService=(0,u.createDecorator)("ThemeService")},6731:function(l,s,a){var u=this&&this.__decorate||function(x,b,E,R){var O,T=arguments.length,I=T<3?b:R===null?R=Object.getOwnPropertyDescriptor(b,E):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(x,b,E,R);else for(var F=x.length-1;F>=0;F--)(O=x[F])&&(I=(T<3?O(I):T>3?O(b,E,I):O(b,E))||I);return T>3&&I&&Object.defineProperty(b,E,I),I},g=this&&this.__param||function(x,b){return function(E,R){b(E,R,x)}};Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeService=s.DEFAULT_ANSI_COLORS=void 0;const f=a(7239),v=a(8055),y=a(8460),S=a(844),_=a(2585),p=v.css.toColor("#ffffff"),d=v.css.toColor("#000000"),c=v.css.toColor("#ffffff"),h=v.css.toColor("#000000"),m={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};s.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const x=[v.css.toColor("#2e3436"),v.css.toColor("#cc0000"),v.css.toColor("#4e9a06"),v.css.toColor("#c4a000"),v.css.toColor("#3465a4"),v.css.toColor("#75507b"),v.css.toColor("#06989a"),v.css.toColor("#d3d7cf"),v.css.toColor("#555753"),v.css.toColor("#ef2929"),v.css.toColor("#8ae234"),v.css.toColor("#fce94f"),v.css.toColor("#729fcf"),v.css.toColor("#ad7fa8"),v.css.toColor("#34e2e2"),v.css.toColor("#eeeeec")],b=[0,95,135,175,215,255];for(let E=0;E<216;E++){const R=b[E/36%6|0],O=b[E/6%6|0],T=b[E%6];x.push({css:v.channels.toCss(R,O,T),rgba:v.channels.toRgba(R,O,T)})}for(let E=0;E<24;E++){const R=8+10*E;x.push({css:v.channels.toCss(R,R,R),rgba:v.channels.toRgba(R,R,R)})}return x})());let w=s.ThemeService=class extends S.Disposable{get colors(){return this._colors}constructor(x){super(),this._optionsService=x,this._contrastCache=new f.ColorContrastCache,this._halfContrastCache=new f.ColorContrastCache,this._onChangeColors=this.register(new y.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:p,background:d,cursor:c,cursorAccent:h,selectionForeground:void 0,selectionBackgroundTransparent:m,selectionBackgroundOpaque:v.color.blend(d,m),selectionInactiveBackgroundTransparent:m,selectionInactiveBackgroundOpaque:v.color.blend(d,m),ansi:s.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(x={}){const b=this._colors;if(b.foreground=C(x.foreground,p),b.background=C(x.background,d),b.cursor=C(x.cursor,c),b.cursorAccent=C(x.cursorAccent,h),b.selectionBackgroundTransparent=C(x.selectionBackground,m),b.selectionBackgroundOpaque=v.color.blend(b.background,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundTransparent=C(x.selectionInactiveBackground,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundOpaque=v.color.blend(b.background,b.selectionInactiveBackgroundTransparent),b.selectionForeground=x.selectionForeground?C(x.selectionForeground,v.NULL_COLOR):void 0,b.selectionForeground===v.NULL_COLOR&&(b.selectionForeground=void 0),v.color.isOpaque(b.selectionBackgroundTransparent)&&(b.selectionBackgroundTransparent=v.color.opacity(b.selectionBackgroundTransparent,.3)),v.color.isOpaque(b.selectionInactiveBackgroundTransparent)&&(b.selectionInactiveBackgroundTransparent=v.color.opacity(b.selectionInactiveBackgroundTransparent,.3)),b.ansi=s.DEFAULT_ANSI_COLORS.slice(),b.ansi[0]=C(x.black,s.DEFAULT_ANSI_COLORS[0]),b.ansi[1]=C(x.red,s.DEFAULT_ANSI_COLORS[1]),b.ansi[2]=C(x.green,s.DEFAULT_ANSI_COLORS[2]),b.ansi[3]=C(x.yellow,s.DEFAULT_ANSI_COLORS[3]),b.ansi[4]=C(x.blue,s.DEFAULT_ANSI_COLORS[4]),b.ansi[5]=C(x.magenta,s.DEFAULT_ANSI_COLORS[5]),b.ansi[6]=C(x.cyan,s.DEFAULT_ANSI_COLORS[6]),b.ansi[7]=C(x.white,s.DEFAULT_ANSI_COLORS[7]),b.ansi[8]=C(x.brightBlack,s.DEFAULT_ANSI_COLORS[8]),b.ansi[9]=C(x.brightRed,s.DEFAULT_ANSI_COLORS[9]),b.ansi[10]=C(x.brightGreen,s.DEFAULT_ANSI_COLORS[10]),b.ansi[11]=C(x.brightYellow,s.DEFAULT_ANSI_COLORS[11]),b.ansi[12]=C(x.brightBlue,s.DEFAULT_ANSI_COLORS[12]),b.ansi[13]=C(x.brightMagenta,s.DEFAULT_ANSI_COLORS[13]),b.ansi[14]=C(x.brightCyan,s.DEFAULT_ANSI_COLORS[14]),b.ansi[15]=C(x.brightWhite,s.DEFAULT_ANSI_COLORS[15]),x.extendedAnsi){const E=Math.min(b.ansi.length-16,x.extendedAnsi.length);for(let R=0;R<E;R++)b.ansi[R+16]=C(x.extendedAnsi[R],s.DEFAULT_ANSI_COLORS[R+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(x){this._restoreColor(x),this._onChangeColors.fire(this.colors)}_restoreColor(x){if(x!==void 0)switch(x){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[x]=this._restoreColors.ansi[x]}else for(let b=0;b<this._restoreColors.ansi.length;++b)this._colors.ansi[b]=this._restoreColors.ansi[b]}modifyColors(x){x(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function C(x,b){if(x!==void 0)try{return v.css.toColor(x)}catch{}return b}s.ThemeService=w=u([g(0,_.IOptionsService)],w)},6349:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CircularList=void 0;const u=a(8460),g=a(844);class f extends g.Disposable{constructor(y){super(),this._maxLength=y,this.onDeleteEmitter=this.register(new u.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new u.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new u.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(y){if(this._maxLength===y)return;const S=new Array(y);for(let _=0;_<Math.min(y,this.length);_++)S[_]=this._array[this._getCyclicIndex(_)];this._array=S,this._maxLength=y,this._startIndex=0}get length(){return this._length}set length(y){if(y>this._length)for(let S=this._length;S<y;S++)this._array[S]=void 0;this._length=y}get(y){return this._array[this._getCyclicIndex(y)]}set(y,S){this._array[this._getCyclicIndex(y)]=S}push(y){this._array[this._getCyclicIndex(this._length)]=y,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(y,S,..._){if(S){for(let p=y;p<this._length-S;p++)this._array[this._getCyclicIndex(p)]=this._array[this._getCyclicIndex(p+S)];this._length-=S,this.onDeleteEmitter.fire({index:y,amount:S})}for(let p=this._length-1;p>=y;p--)this._array[this._getCyclicIndex(p+_.length)]=this._array[this._getCyclicIndex(p)];for(let p=0;p<_.length;p++)this._array[this._getCyclicIndex(y+p)]=_[p];if(_.length&&this.onInsertEmitter.fire({index:y,amount:_.length}),this._length+_.length>this._maxLength){const p=this._length+_.length-this._maxLength;this._startIndex+=p,this._length=this._maxLength,this.onTrimEmitter.fire(p)}else this._length+=_.length}trimStart(y){y>this._length&&(y=this._length),this._startIndex+=y,this._length-=y,this.onTrimEmitter.fire(y)}shiftElements(y,S,_){if(!(S<=0)){if(y<0||y>=this._length)throw new Error("start argument out of range");if(y+_<0)throw new Error("Cannot shift elements in list beyond index 0");if(_>0){for(let d=S-1;d>=0;d--)this.set(y+d+_,this.get(y+d));const p=y+S+_-this._length;if(p>0)for(this._length+=p;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let p=0;p<S;p++)this.set(y+p+_,this.get(y+p))}}_getCyclicIndex(y){return(this._startIndex+y)%this._maxLength}}s.CircularList=f},1439:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.clone=void 0,s.clone=function a(u,g=5){if(typeof u!="object")return u;const f=Array.isArray(u)?[]:{};for(const v in u)f[v]=g<=1?u[v]:u[v]&&a(u[v],g-1);return f}},8055:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.contrastRatio=s.toPaddedHex=s.rgba=s.rgb=s.css=s.color=s.channels=s.NULL_COLOR=void 0;const u=a(6114);let g=0,f=0,v=0,y=0;var S,_,p,d,c;function h(w){const C=w.toString(16);return C.length<2?"0"+C:C}function m(w,C){return w<C?(C+.05)/(w+.05):(w+.05)/(C+.05)}s.NULL_COLOR={css:"#00000000",rgba:0},function(w){w.toCss=function(C,x,b,E){return E!==void 0?`#${h(C)}${h(x)}${h(b)}${h(E)}`:`#${h(C)}${h(x)}${h(b)}`},w.toRgba=function(C,x,b,E=255){return(C<<24|x<<16|b<<8|E)>>>0}}(S||(s.channels=S={})),function(w){function C(x,b){return y=Math.round(255*b),[g,f,v]=c.toChannels(x.rgba),{css:S.toCss(g,f,v,y),rgba:S.toRgba(g,f,v,y)}}w.blend=function(x,b){if(y=(255&b.rgba)/255,y===1)return{css:b.css,rgba:b.rgba};const E=b.rgba>>24&255,R=b.rgba>>16&255,O=b.rgba>>8&255,T=x.rgba>>24&255,I=x.rgba>>16&255,F=x.rgba>>8&255;return g=T+Math.round((E-T)*y),f=I+Math.round((R-I)*y),v=F+Math.round((O-F)*y),{css:S.toCss(g,f,v),rgba:S.toRgba(g,f,v)}},w.isOpaque=function(x){return(255&x.rgba)==255},w.ensureContrastRatio=function(x,b,E){const R=c.ensureContrastRatio(x.rgba,b.rgba,E);if(R)return c.toColor(R>>24&255,R>>16&255,R>>8&255)},w.opaque=function(x){const b=(255|x.rgba)>>>0;return[g,f,v]=c.toChannels(b),{css:S.toCss(g,f,v),rgba:b}},w.opacity=C,w.multiplyOpacity=function(x,b){return y=255&x.rgba,C(x,y*b/255)},w.toColorRGB=function(x){return[x.rgba>>24&255,x.rgba>>16&255,x.rgba>>8&255]}}(_||(s.color=_={})),function(w){let C,x;if(!u.isNode){const b=document.createElement("canvas");b.width=1,b.height=1;const E=b.getContext("2d",{willReadFrequently:!0});E&&(C=E,C.globalCompositeOperation="copy",x=C.createLinearGradient(0,0,1,1))}w.toColor=function(b){if(b.match(/#[\da-f]{3,8}/i))switch(b.length){case 4:return g=parseInt(b.slice(1,2).repeat(2),16),f=parseInt(b.slice(2,3).repeat(2),16),v=parseInt(b.slice(3,4).repeat(2),16),c.toColor(g,f,v);case 5:return g=parseInt(b.slice(1,2).repeat(2),16),f=parseInt(b.slice(2,3).repeat(2),16),v=parseInt(b.slice(3,4).repeat(2),16),y=parseInt(b.slice(4,5).repeat(2),16),c.toColor(g,f,v,y);case 7:return{css:b,rgba:(parseInt(b.slice(1),16)<<8|255)>>>0};case 9:return{css:b,rgba:parseInt(b.slice(1),16)>>>0}}const E=b.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return g=parseInt(E[1]),f=parseInt(E[2]),v=parseInt(E[3]),y=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),c.toColor(g,f,v,y);if(!C||!x)throw new Error("css.toColor: Unsupported css format");if(C.fillStyle=x,C.fillStyle=b,typeof C.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(C.fillRect(0,0,1,1),[g,f,v,y]=C.getImageData(0,0,1,1).data,y!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:S.toRgba(g,f,v,y),css:b}}}(p||(s.css=p={})),function(w){function C(x,b,E){const R=x/255,O=b/255,T=E/255;return .2126*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))+.7152*(O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4))+.0722*(T<=.03928?T/12.92:Math.pow((T+.055)/1.055,2.4))}w.relativeLuminance=function(x){return C(x>>16&255,x>>8&255,255&x)},w.relativeLuminance2=C}(d||(s.rgb=d={})),function(w){function C(b,E,R){const O=b>>24&255,T=b>>16&255,I=b>>8&255;let F=E>>24&255,z=E>>16&255,j=E>>8&255,H=m(d.relativeLuminance2(F,z,j),d.relativeLuminance2(O,T,I));for(;H<R&&(F>0||z>0||j>0);)F-=Math.max(0,Math.ceil(.1*F)),z-=Math.max(0,Math.ceil(.1*z)),j-=Math.max(0,Math.ceil(.1*j)),H=m(d.relativeLuminance2(F,z,j),d.relativeLuminance2(O,T,I));return(F<<24|z<<16|j<<8|255)>>>0}function x(b,E,R){const O=b>>24&255,T=b>>16&255,I=b>>8&255;let F=E>>24&255,z=E>>16&255,j=E>>8&255,H=m(d.relativeLuminance2(F,z,j),d.relativeLuminance2(O,T,I));for(;H<R&&(F<255||z<255||j<255);)F=Math.min(255,F+Math.ceil(.1*(255-F))),z=Math.min(255,z+Math.ceil(.1*(255-z))),j=Math.min(255,j+Math.ceil(.1*(255-j))),H=m(d.relativeLuminance2(F,z,j),d.relativeLuminance2(O,T,I));return(F<<24|z<<16|j<<8|255)>>>0}w.ensureContrastRatio=function(b,E,R){const O=d.relativeLuminance(b>>8),T=d.relativeLuminance(E>>8);if(m(O,T)<R){if(T<O){const z=C(b,E,R),j=m(O,d.relativeLuminance(z>>8));if(j<R){const H=x(b,E,R);return j>m(O,d.relativeLuminance(H>>8))?z:H}return z}const I=x(b,E,R),F=m(O,d.relativeLuminance(I>>8));if(F<R){const z=C(b,E,R);return F>m(O,d.relativeLuminance(z>>8))?I:z}return I}},w.reduceLuminance=C,w.increaseLuminance=x,w.toChannels=function(b){return[b>>24&255,b>>16&255,b>>8&255,255&b]},w.toColor=function(b,E,R,O){return{css:S.toCss(b,E,R,O),rgba:S.toRgba(b,E,R,O)}}}(c||(s.rgba=c={})),s.toPaddedHex=h,s.contrastRatio=m},8969:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreTerminal=void 0;const u=a(844),g=a(2585),f=a(4348),v=a(7866),y=a(744),S=a(7302),_=a(6975),p=a(8460),d=a(1753),c=a(1480),h=a(7994),m=a(9282),w=a(5435),C=a(5981),x=a(2660);let b=!1;class E extends u.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new p.EventEmitter),this._onScroll.event(O=>{var T;(T=this._onScrollApi)===null||T===void 0||T.fire(O.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(O){for(const T in O)this.optionsService.options[T]=O[T]}constructor(O){super(),this._windowsWrappingHeuristics=this.register(new u.MutableDisposable),this._onBinary=this.register(new p.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new p.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new p.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new p.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new p.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new p.EventEmitter),this._instantiationService=new f.InstantiationService,this.optionsService=this.register(new S.OptionsService(O)),this._instantiationService.setService(g.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(y.BufferService)),this._instantiationService.setService(g.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(v.LogService)),this._instantiationService.setService(g.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(_.CoreService)),this._instantiationService.setService(g.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(d.CoreMouseService)),this._instantiationService.setService(g.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(c.UnicodeService)),this._instantiationService.setService(g.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(h.CharsetService),this._instantiationService.setService(g.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(x.OscLinkService),this._instantiationService.setService(g.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,p.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,p.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,p.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,p.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(T=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(T=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new C.WriteBuffer((T,I)=>this._inputHandler.parse(T,I))),this.register((0,p.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(O,T){this._writeBuffer.write(O,T)}writeSync(O,T){this._logService.logLevel<=g.LogLevelEnum.WARN&&!b&&(this._logService.warn("writeSync is unreliable and will be removed soon."),b=!0),this._writeBuffer.writeSync(O,T)}resize(O,T){isNaN(O)||isNaN(T)||(O=Math.max(O,y.MINIMUM_COLS),T=Math.max(T,y.MINIMUM_ROWS),this._bufferService.resize(O,T))}scroll(O,T=!1){this._bufferService.scroll(O,T)}scrollLines(O,T,I){this._bufferService.scrollLines(O,T,I)}scrollPages(O){this.scrollLines(O*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(O){const T=O-this._bufferService.buffer.ydisp;T!==0&&this.scrollLines(T)}registerEscHandler(O,T){return this._inputHandler.registerEscHandler(O,T)}registerDcsHandler(O,T){return this._inputHandler.registerDcsHandler(O,T)}registerCsiHandler(O,T){return this._inputHandler.registerCsiHandler(O,T)}registerOscHandler(O,T){return this._inputHandler.registerOscHandler(O,T)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let O=!1;const T=this.optionsService.rawOptions.windowsPty;T&&T.buildNumber!==void 0&&T.buildNumber!==void 0?O=T.backend==="conpty"&&T.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(O=!0),O?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const O=[];O.push(this.onLineFeed(m.updateWindowsModeWrappedState.bind(null,this._bufferService))),O.push(this.registerCsiHandler({final:"H"},()=>((0,m.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,u.toDisposable)(()=>{for(const T of O)T.dispose()})}}}s.CoreTerminal=E},8460:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.forwardEvent=s.EventEmitter=void 0,s.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let u=0;u<this._listeners.length;u++)if(this._listeners[u]===a)return void this._listeners.splice(u,1)}}})),this._event}fire(a,u){const g=[];for(let f=0;f<this._listeners.length;f++)g.push(this._listeners[f]);for(let f=0;f<g.length;f++)g[f].call(void 0,a,u)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},s.forwardEvent=function(a,u){return a(g=>u.fire(g))}},5435:function(l,s,a){var u=this&&this.__decorate||function(H,k,A,M){var B,W=arguments.length,K=W<3?k:M===null?M=Object.getOwnPropertyDescriptor(k,A):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(H,k,A,M);else for(var q=H.length-1;q>=0;q--)(B=H[q])&&(K=(W<3?B(K):W>3?B(k,A,K):B(k,A))||K);return W>3&&K&&Object.defineProperty(k,A,K),K},g=this&&this.__param||function(H,k){return function(A,M){k(A,M,H)}};Object.defineProperty(s,"__esModule",{value:!0}),s.InputHandler=s.WindowsOptionsReportType=void 0;const f=a(2584),v=a(7116),y=a(2015),S=a(844),_=a(482),p=a(8437),d=a(8460),c=a(643),h=a(511),m=a(3734),w=a(2585),C=a(6242),x=a(6351),b=a(5941),E={"(":0,")":1,"*":2,"+":3,"-":1,".":2},R=131072;function O(H,k){if(H>24)return k.setWinLines||!1;switch(H){case 1:return!!k.restoreWin;case 2:return!!k.minimizeWin;case 3:return!!k.setWinPosition;case 4:return!!k.setWinSizePixels;case 5:return!!k.raiseWin;case 6:return!!k.lowerWin;case 7:return!!k.refreshWin;case 8:return!!k.setWinSizeChars;case 9:return!!k.maximizeWin;case 10:return!!k.fullscreenWin;case 11:return!!k.getWinState;case 13:return!!k.getWinPosition;case 14:return!!k.getWinSizePixels;case 15:return!!k.getScreenSizePixels;case 16:return!!k.getCellSizePixels;case 18:return!!k.getWinSizeChars;case 19:return!!k.getScreenSizeChars;case 20:return!!k.getIconTitle;case 21:return!!k.getWinTitle;case 22:return!!k.pushTitle;case 23:return!!k.popTitle;case 24:return!!k.setWinLines}return!1}var T;(function(H){H[H.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",H[H.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(T||(s.WindowsOptionsReportType=T={}));let I=0;class F extends S.Disposable{getAttrData(){return this._curAttrData}constructor(k,A,M,B,W,K,q,X,ee=new y.EscapeSequenceParser){super(),this._bufferService=k,this._charsetService=A,this._coreService=M,this._logService=B,this._optionsService=W,this._oscLinkService=K,this._coreMouseService=q,this._unicodeService=X,this._parser=ee,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new _.StringToUtf32,this._utf8Decoder=new _.Utf8ToUtf32,this._workCell=new h.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=p.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=p.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new d.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new d.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new d.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new d.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new d.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new d.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new d.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new d.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new d.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new d.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new d.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new z(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(P=>this._activeBuffer=P.activeBuffer)),this._parser.setCsiHandlerFallback((P,$)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(P),params:$.toArray()})}),this._parser.setEscHandlerFallback(P=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(P)})}),this._parser.setExecuteHandlerFallback(P=>{this._logService.debug("Unknown EXECUTE code: ",{code:P})}),this._parser.setOscHandlerFallback((P,$,U)=>{this._logService.debug("Unknown OSC code: ",{identifier:P,action:$,data:U})}),this._parser.setDcsHandlerFallback((P,$,U)=>{$==="HOOK"&&(U=U.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(P),action:$,payload:U})}),this._parser.setPrintHandler((P,$,U)=>this.print(P,$,U)),this._parser.registerCsiHandler({final:"@"},P=>this.insertChars(P)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},P=>this.scrollLeft(P)),this._parser.registerCsiHandler({final:"A"},P=>this.cursorUp(P)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},P=>this.scrollRight(P)),this._parser.registerCsiHandler({final:"B"},P=>this.cursorDown(P)),this._parser.registerCsiHandler({final:"C"},P=>this.cursorForward(P)),this._parser.registerCsiHandler({final:"D"},P=>this.cursorBackward(P)),this._parser.registerCsiHandler({final:"E"},P=>this.cursorNextLine(P)),this._parser.registerCsiHandler({final:"F"},P=>this.cursorPrecedingLine(P)),this._parser.registerCsiHandler({final:"G"},P=>this.cursorCharAbsolute(P)),this._parser.registerCsiHandler({final:"H"},P=>this.cursorPosition(P)),this._parser.registerCsiHandler({final:"I"},P=>this.cursorForwardTab(P)),this._parser.registerCsiHandler({final:"J"},P=>this.eraseInDisplay(P,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},P=>this.eraseInDisplay(P,!0)),this._parser.registerCsiHandler({final:"K"},P=>this.eraseInLine(P,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},P=>this.eraseInLine(P,!0)),this._parser.registerCsiHandler({final:"L"},P=>this.insertLines(P)),this._parser.registerCsiHandler({final:"M"},P=>this.deleteLines(P)),this._parser.registerCsiHandler({final:"P"},P=>this.deleteChars(P)),this._parser.registerCsiHandler({final:"S"},P=>this.scrollUp(P)),this._parser.registerCsiHandler({final:"T"},P=>this.scrollDown(P)),this._parser.registerCsiHandler({final:"X"},P=>this.eraseChars(P)),this._parser.registerCsiHandler({final:"Z"},P=>this.cursorBackwardTab(P)),this._parser.registerCsiHandler({final:"`"},P=>this.charPosAbsolute(P)),this._parser.registerCsiHandler({final:"a"},P=>this.hPositionRelative(P)),this._parser.registerCsiHandler({final:"b"},P=>this.repeatPrecedingCharacter(P)),this._parser.registerCsiHandler({final:"c"},P=>this.sendDeviceAttributesPrimary(P)),this._parser.registerCsiHandler({prefix:">",final:"c"},P=>this.sendDeviceAttributesSecondary(P)),this._parser.registerCsiHandler({final:"d"},P=>this.linePosAbsolute(P)),this._parser.registerCsiHandler({final:"e"},P=>this.vPositionRelative(P)),this._parser.registerCsiHandler({final:"f"},P=>this.hVPosition(P)),this._parser.registerCsiHandler({final:"g"},P=>this.tabClear(P)),this._parser.registerCsiHandler({final:"h"},P=>this.setMode(P)),this._parser.registerCsiHandler({prefix:"?",final:"h"},P=>this.setModePrivate(P)),this._parser.registerCsiHandler({final:"l"},P=>this.resetMode(P)),this._parser.registerCsiHandler({prefix:"?",final:"l"},P=>this.resetModePrivate(P)),this._parser.registerCsiHandler({final:"m"},P=>this.charAttributes(P)),this._parser.registerCsiHandler({final:"n"},P=>this.deviceStatus(P)),this._parser.registerCsiHandler({prefix:"?",final:"n"},P=>this.deviceStatusPrivate(P)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},P=>this.softReset(P)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},P=>this.setCursorStyle(P)),this._parser.registerCsiHandler({final:"r"},P=>this.setScrollRegion(P)),this._parser.registerCsiHandler({final:"s"},P=>this.saveCursor(P)),this._parser.registerCsiHandler({final:"t"},P=>this.windowOptions(P)),this._parser.registerCsiHandler({final:"u"},P=>this.restoreCursor(P)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},P=>this.insertColumns(P)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},P=>this.deleteColumns(P)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},P=>this.selectProtected(P)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},P=>this.requestMode(P,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},P=>this.requestMode(P,!1)),this._parser.setExecuteHandler(f.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(f.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(f.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(f.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(f.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(f.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(f.C1.IND,()=>this.index()),this._parser.setExecuteHandler(f.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(f.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new C.OscHandler(P=>(this.setTitle(P),this.setIconName(P),!0))),this._parser.registerOscHandler(1,new C.OscHandler(P=>this.setIconName(P))),this._parser.registerOscHandler(2,new C.OscHandler(P=>this.setTitle(P))),this._parser.registerOscHandler(4,new C.OscHandler(P=>this.setOrReportIndexedColor(P))),this._parser.registerOscHandler(8,new C.OscHandler(P=>this.setHyperlink(P))),this._parser.registerOscHandler(10,new C.OscHandler(P=>this.setOrReportFgColor(P))),this._parser.registerOscHandler(11,new C.OscHandler(P=>this.setOrReportBgColor(P))),this._parser.registerOscHandler(12,new C.OscHandler(P=>this.setOrReportCursorColor(P))),this._parser.registerOscHandler(104,new C.OscHandler(P=>this.restoreIndexedColor(P))),this._parser.registerOscHandler(110,new C.OscHandler(P=>this.restoreFgColor(P))),this._parser.registerOscHandler(111,new C.OscHandler(P=>this.restoreBgColor(P))),this._parser.registerOscHandler(112,new C.OscHandler(P=>this.restoreCursorColor(P))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const P in v.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:P},()=>this.selectCharset("("+P)),this._parser.registerEscHandler({intermediates:")",final:P},()=>this.selectCharset(")"+P)),this._parser.registerEscHandler({intermediates:"*",final:P},()=>this.selectCharset("*"+P)),this._parser.registerEscHandler({intermediates:"+",final:P},()=>this.selectCharset("+"+P)),this._parser.registerEscHandler({intermediates:"-",final:P},()=>this.selectCharset("-"+P)),this._parser.registerEscHandler({intermediates:".",final:P},()=>this.selectCharset("."+P)),this._parser.registerEscHandler({intermediates:"/",final:P},()=>this.selectCharset("/"+P));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(P=>(this._logService.error("Parsing error: ",P),P)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new x.DcsHandler((P,$)=>this.requestStatusString(P,$)))}_preserveStack(k,A,M,B){this._parseStack.paused=!0,this._parseStack.cursorStartX=k,this._parseStack.cursorStartY=A,this._parseStack.decodedLength=M,this._parseStack.position=B}_logSlowResolvingAsync(k){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([k,new Promise((A,M)=>setTimeout(()=>M("#SLOW_TIMEOUT"),5e3))]).catch(A=>{if(A!=="#SLOW_TIMEOUT")throw A;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(k,A){let M,B=this._activeBuffer.x,W=this._activeBuffer.y,K=0;const q=this._parseStack.paused;if(q){if(M=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,A))return this._logSlowResolvingAsync(M),M;B=this._parseStack.cursorStartX,W=this._parseStack.cursorStartY,this._parseStack.paused=!1,k.length>R&&(K=this._parseStack.position+R)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof k=="string"?` "${k}"`:` "${Array.prototype.map.call(k,X=>String.fromCharCode(X)).join("")}"`),typeof k=="string"?k.split("").map(X=>X.charCodeAt(0)):k),this._parseBuffer.length<k.length&&this._parseBuffer.length<R&&(this._parseBuffer=new Uint32Array(Math.min(k.length,R))),q||this._dirtyRowTracker.clearRange(),k.length>R)for(let X=K;X<k.length;X+=R){const ee=X+R<k.length?X+R:k.length,P=typeof k=="string"?this._stringDecoder.decode(k.substring(X,ee),this._parseBuffer):this._utf8Decoder.decode(k.subarray(X,ee),this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,P))return this._preserveStack(B,W,P,X),this._logSlowResolvingAsync(M),M}else if(!q){const X=typeof k=="string"?this._stringDecoder.decode(k,this._parseBuffer):this._utf8Decoder.decode(k,this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,X))return this._preserveStack(B,W,X,0),this._logSlowResolvingAsync(M),M}this._activeBuffer.x===B&&this._activeBuffer.y===W||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(k,A,M){let B,W;const K=this._charsetService.charset,q=this._optionsService.rawOptions.screenReaderMode,X=this._bufferService.cols,ee=this._coreService.decPrivateModes.wraparound,P=this._coreService.modes.insertMode,$=this._curAttrData;let U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&M-A>0&&U.getWidth(this._activeBuffer.x-1)===2&&U.setCellFromCodePoint(this._activeBuffer.x-1,0,1,$.fg,$.bg,$.extended);for(let V=A;V<M;++V){if(B=k[V],W=this._unicodeService.wcwidth(B),B<127&&K){const Q=K[String.fromCharCode(B)];Q&&(B=Q.charCodeAt(0))}if(q&&this._onA11yChar.fire((0,_.stringFromCodePoint)(B)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),W||!this._activeBuffer.x){if(this._activeBuffer.x+W-1>=X){if(ee){for(;this._activeBuffer.x<X;)U.setCellFromCodePoint(this._activeBuffer.x++,0,1,$.fg,$.bg,$.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=X-1,W===2)continue}if(P&&(U.insertCells(this._activeBuffer.x,W,this._activeBuffer.getNullCell($),$),U.getWidth(X-1)===2&&U.setCellFromCodePoint(X-1,c.NULL_CELL_CODE,c.NULL_CELL_WIDTH,$.fg,$.bg,$.extended)),U.setCellFromCodePoint(this._activeBuffer.x++,B,W,$.fg,$.bg,$.extended),W>0)for(;--W;)U.setCellFromCodePoint(this._activeBuffer.x++,0,0,$.fg,$.bg,$.extended)}else U.getWidth(this._activeBuffer.x-1)?U.addCodepointToCell(this._activeBuffer.x-1,B):U.addCodepointToCell(this._activeBuffer.x-2,B)}M-A>0&&(U.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<X&&M-A>0&&U.getWidth(this._activeBuffer.x)===0&&!U.hasContent(this._activeBuffer.x)&&U.setCellFromCodePoint(this._activeBuffer.x,0,1,$.fg,$.bg,$.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(k,A){return k.final!=="t"||k.prefix||k.intermediates?this._parser.registerCsiHandler(k,A):this._parser.registerCsiHandler(k,M=>!O(M.params[0],this._optionsService.rawOptions.windowOptions)||A(M))}registerDcsHandler(k,A){return this._parser.registerDcsHandler(k,new x.DcsHandler(A))}registerEscHandler(k,A){return this._parser.registerEscHandler(k,A)}registerOscHandler(k,A){return this._parser.registerOscHandler(k,new C.OscHandler(A))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var k;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||k===void 0)&&k.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);A.hasWidth(this._activeBuffer.x)&&!A.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const k=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-k),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(k=this._bufferService.cols-1){this._activeBuffer.x=Math.min(k,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(k,A){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=k,this._activeBuffer.y=this._activeBuffer.scrollTop+A):(this._activeBuffer.x=k,this._activeBuffer.y=A),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(k,A){this._restrictCursor(),this._setCursor(this._activeBuffer.x+k,this._activeBuffer.y+A)}cursorUp(k){const A=this._activeBuffer.y-this._activeBuffer.scrollTop;return A>=0?this._moveCursor(0,-Math.min(A,k.params[0]||1)):this._moveCursor(0,-(k.params[0]||1)),!0}cursorDown(k){const A=this._activeBuffer.scrollBottom-this._activeBuffer.y;return A>=0?this._moveCursor(0,Math.min(A,k.params[0]||1)):this._moveCursor(0,k.params[0]||1),!0}cursorForward(k){return this._moveCursor(k.params[0]||1,0),!0}cursorBackward(k){return this._moveCursor(-(k.params[0]||1),0),!0}cursorNextLine(k){return this.cursorDown(k),this._activeBuffer.x=0,!0}cursorPrecedingLine(k){return this.cursorUp(k),this._activeBuffer.x=0,!0}cursorCharAbsolute(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(k){return this._setCursor(k.length>=2?(k.params[1]||1)-1:0,(k.params[0]||1)-1),!0}charPosAbsolute(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(k){return this._moveCursor(k.params[0]||1,0),!0}linePosAbsolute(k){return this._setCursor(this._activeBuffer.x,(k.params[0]||1)-1),!0}vPositionRelative(k){return this._moveCursor(0,k.params[0]||1),!0}hVPosition(k){return this.cursorPosition(k),!0}tabClear(k){const A=k.params[0];return A===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:A===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let A=k.params[0]||1;for(;A--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let A=k.params[0]||1;for(;A--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(k){const A=k.params[0];return A===1&&(this._curAttrData.bg|=536870912),A!==2&&A!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(k,A,M,B=!1,W=!1){const K=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);K.replaceCells(A,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),W),B&&(K.isWrapped=!1)}_resetBufferLine(k,A=!1){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);M&&(M.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),A),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+k),M.isWrapped=!1)}eraseInDisplay(k,A=!1){let M;switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,A);M<this._bufferService.rows;M++)this._resetBufferLine(M,A);this._dirtyRowTracker.markDirty(M);break;case 1:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M,0,this._activeBuffer.x+1,!0,A),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(M+1).isWrapped=!1);M--;)this._resetBufferLine(M,A);this._dirtyRowTracker.markDirty(0);break;case 2:for(M=this._bufferService.rows,this._dirtyRowTracker.markDirty(M-1);M--;)this._resetBufferLine(M,A);this._dirtyRowTracker.markDirty(0);break;case 3:const B=this._activeBuffer.lines.length-this._bufferService.rows;B>0&&(this._activeBuffer.lines.trimStart(B),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-B,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-B,0),this._onScroll.fire(0))}return!0}eraseInLine(k,A=!1){switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,A);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,A);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,A)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(k){this._restrictCursor();let A=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y,B=this._bufferService.rows-1-this._activeBuffer.scrollBottom,W=this._bufferService.rows-1+this._activeBuffer.ybase-B+1;for(;A--;)this._activeBuffer.lines.splice(W-1,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(k){this._restrictCursor();let A=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y;let B;for(B=this._bufferService.rows-1-this._activeBuffer.scrollBottom,B=this._bufferService.rows-1+this._activeBuffer.ybase-B;A--;)this._activeBuffer.lines.splice(M,1),this._activeBuffer.lines.splice(B,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(k){this._restrictCursor();const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return A&&(A.insertCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(k){this._restrictCursor();const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return A&&(A.deleteCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(k){let A=k.params[0]||1;for(;A--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(k){let A=k.params[0]||1;for(;A--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(p.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=k.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);B.deleteCells(0,A,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),B.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=k.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);B.insertCells(0,A,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),B.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=k.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);B.insertCells(this._activeBuffer.x,A,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),B.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=k.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);B.deleteCells(this._activeBuffer.x,A,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),B.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(k){this._restrictCursor();const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return A&&(A.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(k.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(k){if(!this._parser.precedingCodepoint)return!0;const A=k.params[0]||1,M=new Uint32Array(A);for(let B=0;B<A;++B)M[B]=this._parser.precedingCodepoint;return this.print(M,0,M.length),!0}sendDeviceAttributesPrimary(k){return k.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(f.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(f.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(k){return k.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(f.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(f.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(k.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(f.C0.ESC+"[>83;40003;0c")),!0}_is(k){return(this._optionsService.rawOptions.termName+"").indexOf(k)===0}setMode(k){for(let A=0;A<k.length;A++)switch(k.params[A]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(k){for(let A=0;A<k.length;A++)switch(k.params[A]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),this._charsetService.setgCharset(1,v.DEFAULT_CHARSET),this._charsetService.setgCharset(2,v.DEFAULT_CHARSET),this._charsetService.setgCharset(3,v.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(k){for(let A=0;A<k.length;A++)switch(k.params[A]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(k){for(let A=0;A<k.length;A++)switch(k.params[A]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),k.params[A]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(k,A){const M=this._coreService.decPrivateModes,{activeProtocol:B,activeEncoding:W}=this._coreMouseService,K=this._coreService,{buffers:q,cols:X}=this._bufferService,{active:ee,alt:P}=q,$=this._optionsService.rawOptions,U=re=>re?1:2,V=k.params[0];return Q=V,Y=A?V===2?4:V===4?U(K.modes.insertMode):V===12?3:V===20?U($.convertEol):0:V===1?U(M.applicationCursorKeys):V===3?$.windowOptions.setWinLines?X===80?2:X===132?1:0:0:V===6?U(M.origin):V===7?U(M.wraparound):V===8?3:V===9?U(B==="X10"):V===12?U($.cursorBlink):V===25?U(!K.isCursorHidden):V===45?U(M.reverseWraparound):V===66?U(M.applicationKeypad):V===67?4:V===1e3?U(B==="VT200"):V===1002?U(B==="DRAG"):V===1003?U(B==="ANY"):V===1004?U(M.sendFocus):V===1005?4:V===1006?U(W==="SGR"):V===1015?4:V===1016?U(W==="SGR_PIXELS"):V===1048?1:V===47||V===1047||V===1049?U(ee===P):V===2004?U(M.bracketedPasteMode):0,K.triggerDataEvent(`${f.C0.ESC}[${A?"":"?"}${Q};${Y}$y`),!0;var Q,Y}_updateAttrColor(k,A,M,B,W){return A===2?(k|=50331648,k&=-16777216,k|=m.AttributeData.fromColorRGB([M,B,W])):A===5&&(k&=-50331904,k|=33554432|255&M),k}_extractColor(k,A,M){const B=[0,0,-1,0,0,0];let W=0,K=0;do{if(B[K+W]=k.params[A+K],k.hasSubParams(A+K)){const q=k.getSubParams(A+K);let X=0;do B[1]===5&&(W=1),B[K+X+1+W]=q[X];while(++X<q.length&&X+K+1+W<B.length);break}if(B[1]===5&&K+W>=2||B[1]===2&&K+W>=5)break;B[1]&&(W=1)}while(++K+A<k.length&&K+W<B.length);for(let q=2;q<B.length;++q)B[q]===-1&&(B[q]=0);switch(B[0]){case 38:M.fg=this._updateAttrColor(M.fg,B[1],B[3],B[4],B[5]);break;case 48:M.bg=this._updateAttrColor(M.bg,B[1],B[3],B[4],B[5]);break;case 58:M.extended=M.extended.clone(),M.extended.underlineColor=this._updateAttrColor(M.extended.underlineColor,B[1],B[3],B[4],B[5])}return K}_processUnderline(k,A){A.extended=A.extended.clone(),(!~k||k>5)&&(k=1),A.extended.underlineStyle=k,A.fg|=268435456,k===0&&(A.fg&=-268435457),A.updateExtended()}_processSGR0(k){k.fg=p.DEFAULT_ATTR_DATA.fg,k.bg=p.DEFAULT_ATTR_DATA.bg,k.extended=k.extended.clone(),k.extended.underlineStyle=0,k.extended.underlineColor&=-67108864,k.updateExtended()}charAttributes(k){if(k.length===1&&k.params[0]===0)return this._processSGR0(this._curAttrData),!0;const A=k.length;let M;const B=this._curAttrData;for(let W=0;W<A;W++)M=k.params[W],M>=30&&M<=37?(B.fg&=-50331904,B.fg|=16777216|M-30):M>=40&&M<=47?(B.bg&=-50331904,B.bg|=16777216|M-40):M>=90&&M<=97?(B.fg&=-50331904,B.fg|=16777224|M-90):M>=100&&M<=107?(B.bg&=-50331904,B.bg|=16777224|M-100):M===0?this._processSGR0(B):M===1?B.fg|=134217728:M===3?B.bg|=67108864:M===4?(B.fg|=268435456,this._processUnderline(k.hasSubParams(W)?k.getSubParams(W)[0]:1,B)):M===5?B.fg|=536870912:M===7?B.fg|=67108864:M===8?B.fg|=1073741824:M===9?B.fg|=2147483648:M===2?B.bg|=134217728:M===21?this._processUnderline(2,B):M===22?(B.fg&=-134217729,B.bg&=-134217729):M===23?B.bg&=-67108865:M===24?(B.fg&=-268435457,this._processUnderline(0,B)):M===25?B.fg&=-536870913:M===27?B.fg&=-67108865:M===28?B.fg&=-1073741825:M===29?B.fg&=2147483647:M===39?(B.fg&=-67108864,B.fg|=16777215&p.DEFAULT_ATTR_DATA.fg):M===49?(B.bg&=-67108864,B.bg|=16777215&p.DEFAULT_ATTR_DATA.bg):M===38||M===48||M===58?W+=this._extractColor(k,W,B):M===53?B.bg|=1073741824:M===55?B.bg&=-1073741825:M===59?(B.extended=B.extended.clone(),B.extended.underlineColor=-1,B.updateExtended()):M===100?(B.fg&=-67108864,B.fg|=16777215&p.DEFAULT_ATTR_DATA.fg,B.bg&=-67108864,B.bg|=16777215&p.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",M);return!0}deviceStatus(k){switch(k.params[0]){case 5:this._coreService.triggerDataEvent(`${f.C0.ESC}[0n`);break;case 6:const A=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[${A};${M}R`)}return!0}deviceStatusPrivate(k){if(k.params[0]===6){const A=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[?${A};${M}R`)}return!0}softReset(k){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=p.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(k){const A=k.params[0]||1;switch(A){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const M=A%2==1;return this._optionsService.options.cursorBlink=M,!0}setScrollRegion(k){const A=k.params[0]||1;let M;return(k.length<2||(M=k.params[1])>this._bufferService.rows||M===0)&&(M=this._bufferService.rows),M>A&&(this._activeBuffer.scrollTop=A-1,this._activeBuffer.scrollBottom=M-1,this._setCursor(0,0)),!0}windowOptions(k){if(!O(k.params[0],this._optionsService.rawOptions.windowOptions))return!0;const A=k.length>1?k.params[1]:0;switch(k.params[0]){case 14:A!==2&&this._onRequestWindowsOptionsReport.fire(T.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(T.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${f.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:A!==0&&A!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),A!==0&&A!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:A!==0&&A!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),A!==0&&A!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(k){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(k){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(k){return this._windowTitle=k,this._onTitleChange.fire(k),!0}setIconName(k){return this._iconName=k,!0}setOrReportIndexedColor(k){const A=[],M=k.split(";");for(;M.length>1;){const B=M.shift(),W=M.shift();if(/^\d+$/.exec(B)){const K=parseInt(B);if(j(K))if(W==="?")A.push({type:0,index:K});else{const q=(0,b.parseColor)(W);q&&A.push({type:1,index:K,color:q})}}}return A.length&&this._onColor.fire(A),!0}setHyperlink(k){const A=k.split(";");return!(A.length<2)&&(A[1]?this._createHyperlink(A[0],A[1]):!A[0]&&this._finishHyperlink())}_createHyperlink(k,A){this._getCurrentLinkId()&&this._finishHyperlink();const M=k.split(":");let B;const W=M.findIndex(K=>K.startsWith("id="));return W!==-1&&(B=M[W].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:B,uri:A}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(k,A){const M=k.split(";");for(let B=0;B<M.length&&!(A>=this._specialColors.length);++B,++A)if(M[B]==="?")this._onColor.fire([{type:0,index:this._specialColors[A]}]);else{const W=(0,b.parseColor)(M[B]);W&&this._onColor.fire([{type:1,index:this._specialColors[A],color:W}])}return!0}setOrReportFgColor(k){return this._setOrReportSpecialColor(k,0)}setOrReportBgColor(k){return this._setOrReportSpecialColor(k,1)}setOrReportCursorColor(k){return this._setOrReportSpecialColor(k,2)}restoreIndexedColor(k){if(!k)return this._onColor.fire([{type:2}]),!0;const A=[],M=k.split(";");for(let B=0;B<M.length;++B)if(/^\d+$/.exec(M[B])){const W=parseInt(M[B]);j(W)&&A.push({type:2,index:W})}return A.length&&this._onColor.fire(A),!0}restoreFgColor(k){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(k){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(k){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),!0}selectCharset(k){return k.length!==2?(this.selectDefaultCharset(),!0):(k[0]==="/"||this._charsetService.setgCharset(E[k[0]],v.CHARSETS[k[1]]||v.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const k=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,k,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=p.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=p.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(k){return this._charsetService.setgLevel(k),!0}screenAlignmentPattern(){const k=new h.CellData;k.content=4194373,k.fg=this._curAttrData.fg,k.bg=this._curAttrData.bg,this._setCursor(0,0);for(let A=0;A<this._bufferService.rows;++A){const M=this._activeBuffer.ybase+this._activeBuffer.y+A,B=this._activeBuffer.lines.get(M);B&&(B.fill(k),B.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(k,A){const M=this._bufferService.buffer,B=this._optionsService.rawOptions;return(W=>(this._coreService.triggerDataEvent(`${f.C0.ESC}${W}${f.C0.ESC}\\`),!0))(k==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:k==='"p'?'P1$r61;1"p':k==="r"?`P1$r${M.scrollTop+1};${M.scrollBottom+1}r`:k==="m"?"P1$r0m":k===" q"?`P1$r${{block:2,underline:4,bar:6}[B.cursorStyle]-(B.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(k,A){this._dirtyRowTracker.markRangeDirty(k,A)}}s.InputHandler=F;let z=class{constructor(H){this._bufferService=H,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(H){H<this.start?this.start=H:H>this.end&&(this.end=H)}markRangeDirty(H,k){H>k&&(I=H,H=k,k=I),H<this.start&&(this.start=H),k>this.end&&(this.end=k)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function j(H){return 0<=H&&H<256}z=u([g(0,w.IBufferService)],z)},844:(l,s)=>{function a(u){for(const g of u)g.dispose();u.length=0}Object.defineProperty(s,"__esModule",{value:!0}),s.getDisposeArrayDisposable=s.disposeArray=s.toDisposable=s.MutableDisposable=s.Disposable=void 0,s.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const u of this._disposables)u.dispose();this._disposables.length=0}register(u){return this._disposables.push(u),u}unregister(u){const g=this._disposables.indexOf(u);g!==-1&&this._disposables.splice(g,1)}},s.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(u){var g;this._isDisposed||u===this._value||((g=this._value)===null||g===void 0||g.dispose(),this._value=u)}clear(){this.value=void 0}dispose(){var u;this._isDisposed=!0,(u=this._value)===null||u===void 0||u.dispose(),this._value=void 0}},s.toDisposable=function(u){return{dispose:u}},s.disposeArray=a,s.getDisposeArrayDisposable=function(u){return{dispose:()=>a(u)}}},1505:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FourKeyMap=s.TwoKeyMap=void 0;class a{constructor(){this._data={}}set(g,f,v){this._data[g]||(this._data[g]={}),this._data[g][f]=v}get(g,f){return this._data[g]?this._data[g][f]:void 0}clear(){this._data={}}}s.TwoKeyMap=a,s.FourKeyMap=class{constructor(){this._data=new a}set(u,g,f,v,y){this._data.get(u,g)||this._data.set(u,g,new a),this._data.get(u,g).set(f,v,y)}get(u,g,f,v){var y;return(y=this._data.get(u,g))===null||y===void 0?void 0:y.get(f,v)}clear(){this._data.clear()}}},6114:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isChromeOS=s.isLinux=s.isWindows=s.isIphone=s.isIpad=s.isMac=s.getSafariVersion=s.isSafari=s.isLegacyEdge=s.isFirefox=s.isNode=void 0,s.isNode=typeof navigator>"u";const a=s.isNode?"node":navigator.userAgent,u=s.isNode?"node":navigator.platform;s.isFirefox=a.includes("Firefox"),s.isLegacyEdge=a.includes("Edge"),s.isSafari=/^((?!chrome|android).)*safari/i.test(a),s.getSafariVersion=function(){if(!s.isSafari)return 0;const g=a.match(/Version\/(\d+)/);return g===null||g.length<2?0:parseInt(g[1])},s.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),s.isIpad=u==="iPad",s.isIphone=u==="iPhone",s.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),s.isLinux=u.indexOf("Linux")>=0,s.isChromeOS=/\bCrOS\b/.test(a)},6106:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SortedList=void 0;let a=0;s.SortedList=class{constructor(u){this._getKey=u,this._array=[]}clear(){this._array.length=0}insert(u){this._array.length!==0?(a=this._search(this._getKey(u)),this._array.splice(a,0,u)):this._array.push(u)}delete(u){if(this._array.length===0)return!1;const g=this._getKey(u);if(g===void 0||(a=this._search(g),a===-1)||this._getKey(this._array[a])!==g)return!1;do if(this._array[a]===u)return this._array.splice(a,1),!0;while(++a<this._array.length&&this._getKey(this._array[a])===g);return!1}*getKeyIterator(u){if(this._array.length!==0&&(a=this._search(u),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===u))do yield this._array[a];while(++a<this._array.length&&this._getKey(this._array[a])===u)}forEachByKey(u,g){if(this._array.length!==0&&(a=this._search(u),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===u))do g(this._array[a]);while(++a<this._array.length&&this._getKey(this._array[a])===u)}values(){return[...this._array].values()}_search(u){let g=0,f=this._array.length-1;for(;f>=g;){let v=g+f>>1;const y=this._getKey(this._array[v]);if(y>u)f=v-1;else{if(!(y<u)){for(;v>0&&this._getKey(this._array[v-1])===u;)v--;return v}g=v+1}}return g}}},7226:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DebouncedIdleTask=s.IdleTaskQueue=s.PriorityTaskQueue=void 0;const u=a(6114);class g{constructor(){this._tasks=[],this._i=0}enqueue(y){this._tasks.push(y),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(y){this._idleCallback=void 0;let S=0,_=0,p=y.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(S=Date.now(),this._tasks[this._i]()||this._i++,S=Math.max(1,Date.now()-S),_=Math.max(S,_),d=y.timeRemaining(),1.5*_>d)return p-S<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(p-S))}ms`),void this._start();p=d}this.clear()}}class f extends g{_requestCallback(y){return setTimeout(()=>y(this._createDeadline(16)))}_cancelCallback(y){clearTimeout(y)}_createDeadline(y){const S=Date.now()+y;return{timeRemaining:()=>Math.max(0,S-Date.now())}}}s.PriorityTaskQueue=f,s.IdleTaskQueue=!u.isNode&&"requestIdleCallback"in window?class extends g{_requestCallback(v){return requestIdleCallback(v)}_cancelCallback(v){cancelIdleCallback(v)}}:f,s.DebouncedIdleTask=class{constructor(){this._queue=new s.IdleTaskQueue}set(v){this._queue.clear(),this._queue.enqueue(v)}flush(){this._queue.flush()}}},9282:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateWindowsModeWrappedState=void 0;const u=a(643);s.updateWindowsModeWrappedState=function(g){const f=g.buffer.lines.get(g.buffer.ybase+g.buffer.y-1),v=f==null?void 0:f.get(g.cols-1),y=g.buffer.lines.get(g.buffer.ybase+g.buffer.y);y&&v&&(y.isWrapped=v[u.CHAR_DATA_CODE_INDEX]!==u.NULL_CELL_CODE&&v[u.CHAR_DATA_CODE_INDEX]!==u.WHITESPACE_CELL_CODE)}},3734:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ExtendedAttrs=s.AttributeData=void 0;class a{constructor(){this.fg=0,this.bg=0,this.extended=new u}static toColorRGB(f){return[f>>>16&255,f>>>8&255,255&f]}static fromColorRGB(f){return(255&f[0])<<16|(255&f[1])<<8|255&f[2]}clone(){const f=new a;return f.fg=this.fg,f.bg=this.bg,f.extended=this.extended.clone(),f}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}s.AttributeData=a;class u{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(f){this._ext=f}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(f){this._ext&=-469762049,this._ext|=f<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(f){this._ext&=-67108864,this._ext|=67108863&f}get urlId(){return this._urlId}set urlId(f){this._urlId=f}constructor(f=0,v=0){this._ext=0,this._urlId=0,this._ext=f,this._urlId=v}clone(){return new u(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}s.ExtendedAttrs=u},9092:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Buffer=s.MAX_BUFFER_SIZE=void 0;const u=a(6349),g=a(7226),f=a(3734),v=a(8437),y=a(4634),S=a(511),_=a(643),p=a(4863),d=a(7116);s.MAX_BUFFER_SIZE=4294967295,s.Buffer=class{constructor(c,h,m){this._hasScrollback=c,this._optionsService=h,this._bufferService=m,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=v.DEFAULT_ATTR_DATA.clone(),this.savedCharset=d.DEFAULT_CHARSET,this.markers=[],this._nullCell=S.CellData.fromCharData([0,_.NULL_CELL_CHAR,_.NULL_CELL_WIDTH,_.NULL_CELL_CODE]),this._whitespaceCell=S.CellData.fromCharData([0,_.WHITESPACE_CELL_CHAR,_.WHITESPACE_CELL_WIDTH,_.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new g.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(c){return c?(this._nullCell.fg=c.fg,this._nullCell.bg=c.bg,this._nullCell.extended=c.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new f.ExtendedAttrs),this._nullCell}getWhitespaceCell(c){return c?(this._whitespaceCell.fg=c.fg,this._whitespaceCell.bg=c.bg,this._whitespaceCell.extended=c.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new f.ExtendedAttrs),this._whitespaceCell}getBlankLine(c,h){return new v.BufferLine(this._bufferService.cols,this.getNullCell(c),h)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const c=this.ybase+this.y-this.ydisp;return c>=0&&c<this._rows}_getCorrectBufferLength(c){if(!this._hasScrollback)return c;const h=c+this._optionsService.rawOptions.scrollback;return h>s.MAX_BUFFER_SIZE?s.MAX_BUFFER_SIZE:h}fillViewportRows(c){if(this.lines.length===0){c===void 0&&(c=v.DEFAULT_ATTR_DATA);let h=this._rows;for(;h--;)this.lines.push(this.getBlankLine(c))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(c,h){const m=this.getNullCell(v.DEFAULT_ATTR_DATA);let w=0;const C=this._getCorrectBufferLength(h);if(C>this.lines.maxLength&&(this.lines.maxLength=C),this.lines.length>0){if(this._cols<c)for(let b=0;b<this.lines.length;b++)w+=+this.lines.get(b).resize(c,m);let x=0;if(this._rows<h)for(let b=this._rows;b<h;b++)this.lines.length<h+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new v.BufferLine(c,m)):this.ybase>0&&this.lines.length<=this.ybase+this.y+x+1?(this.ybase--,x++,this.ydisp>0&&this.ydisp--):this.lines.push(new v.BufferLine(c,m)));else for(let b=this._rows;b>h;b--)this.lines.length>h+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(C<this.lines.maxLength){const b=this.lines.length-C;b>0&&(this.lines.trimStart(b),this.ybase=Math.max(this.ybase-b,0),this.ydisp=Math.max(this.ydisp-b,0),this.savedY=Math.max(this.savedY-b,0)),this.lines.maxLength=C}this.x=Math.min(this.x,c-1),this.y=Math.min(this.y,h-1),x&&(this.y+=x),this.savedX=Math.min(this.savedX,c-1),this.scrollTop=0}if(this.scrollBottom=h-1,this._isReflowEnabled&&(this._reflow(c,h),this._cols>c))for(let x=0;x<this.lines.length;x++)w+=+this.lines.get(x).resize(c,m);this._cols=c,this._rows=h,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let c=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,c=!1);let h=0;for(;this._memoryCleanupPosition<this.lines.length;)if(h+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),h>100)return!0;return c}get _isReflowEnabled(){const c=this._optionsService.rawOptions.windowsPty;return c&&c.buildNumber?this._hasScrollback&&c.backend==="conpty"&&c.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(c,h){this._cols!==c&&(c>this._cols?this._reflowLarger(c,h):this._reflowSmaller(c,h))}_reflowLarger(c,h){const m=(0,y.reflowLargerGetLinesToRemove)(this.lines,this._cols,c,this.ybase+this.y,this.getNullCell(v.DEFAULT_ATTR_DATA));if(m.length>0){const w=(0,y.reflowLargerCreateNewLayout)(this.lines,m);(0,y.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(c,h,w.countRemoved)}}_reflowLargerAdjustViewport(c,h,m){const w=this.getNullCell(v.DEFAULT_ATTR_DATA);let C=m;for(;C-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<h&&this.lines.push(new v.BufferLine(c,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-m,0)}_reflowSmaller(c,h){const m=this.getNullCell(v.DEFAULT_ATTR_DATA),w=[];let C=0;for(let x=this.lines.length-1;x>=0;x--){let b=this.lines.get(x);if(!b||!b.isWrapped&&b.getTrimmedLength()<=c)continue;const E=[b];for(;b.isWrapped&&x>0;)b=this.lines.get(--x),E.unshift(b);const R=this.ybase+this.y;if(R>=x&&R<x+E.length)continue;const O=E[E.length-1].getTrimmedLength(),T=(0,y.reflowSmallerGetNewLineLengths)(E,this._cols,c),I=T.length-E.length;let F;F=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+I):Math.max(0,this.lines.length-this.lines.maxLength+I);const z=[];for(let B=0;B<I;B++){const W=this.getBlankLine(v.DEFAULT_ATTR_DATA,!0);z.push(W)}z.length>0&&(w.push({start:x+E.length+C,newLines:z}),C+=z.length),E.push(...z);let j=T.length-1,H=T[j];H===0&&(j--,H=T[j]);let k=E.length-I-1,A=O;for(;k>=0;){const B=Math.min(A,H);if(E[j]===void 0)break;if(E[j].copyCellsFrom(E[k],A-B,H-B,B,!0),H-=B,H===0&&(j--,H=T[j]),A-=B,A===0){k--;const W=Math.max(k,0);A=(0,y.getWrappedLineTrimmedLength)(E,W,this._cols)}}for(let B=0;B<E.length;B++)T[B]<c&&E[B].setCell(T[B],m);let M=I-F;for(;M-- >0;)this.ybase===0?this.y<h-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+C)-h&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+I,this.ybase+h-1)}if(w.length>0){const x=[],b=[];for(let j=0;j<this.lines.length;j++)b.push(this.lines.get(j));const E=this.lines.length;let R=E-1,O=0,T=w[O];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+C);let I=0;for(let j=Math.min(this.lines.maxLength-1,E+C-1);j>=0;j--)if(T&&T.start>R+I){for(let H=T.newLines.length-1;H>=0;H--)this.lines.set(j--,T.newLines[H]);j++,x.push({index:R+1,amount:T.newLines.length}),I+=T.newLines.length,T=w[++O]}else this.lines.set(j,b[R--]);let F=0;for(let j=x.length-1;j>=0;j--)x[j].index+=F,this.lines.onInsertEmitter.fire(x[j]),F+=x[j].amount;const z=Math.max(0,E+C-this.lines.maxLength);z>0&&this.lines.onTrimEmitter.fire(z)}}translateBufferLineToString(c,h,m=0,w){const C=this.lines.get(c);return C?C.translateToString(h,m,w):""}getWrappedRangeForLine(c){let h=c,m=c;for(;h>0&&this.lines.get(h).isWrapped;)h--;for(;m+1<this.lines.length&&this.lines.get(m+1).isWrapped;)m++;return{first:h,last:m}}setupTabStops(c){for(c!=null?this.tabs[c]||(c=this.prevStop(c)):(this.tabs={},c=0);c<this._cols;c+=this._optionsService.rawOptions.tabStopWidth)this.tabs[c]=!0}prevStop(c){for(c==null&&(c=this.x);!this.tabs[--c]&&c>0;);return c>=this._cols?this._cols-1:c<0?0:c}nextStop(c){for(c==null&&(c=this.x);!this.tabs[++c]&&c<this._cols;);return c>=this._cols?this._cols-1:c<0?0:c}clearMarkers(c){this._isClearing=!0;for(let h=0;h<this.markers.length;h++)this.markers[h].line===c&&(this.markers[h].dispose(),this.markers.splice(h--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let c=0;c<this.markers.length;c++)this.markers[c].dispose(),this.markers.splice(c--,1);this._isClearing=!1}addMarker(c){const h=new p.Marker(c);return this.markers.push(h),h.register(this.lines.onTrim(m=>{h.line-=m,h.line<0&&h.dispose()})),h.register(this.lines.onInsert(m=>{h.line>=m.index&&(h.line+=m.amount)})),h.register(this.lines.onDelete(m=>{h.line>=m.index&&h.line<m.index+m.amount&&h.dispose(),h.line>m.index&&(h.line-=m.amount)})),h.register(h.onDispose(()=>this._removeMarker(h))),h}_removeMarker(c){this._isClearing||this.markers.splice(this.markers.indexOf(c),1)}}},8437:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLine=s.DEFAULT_ATTR_DATA=void 0;const u=a(3734),g=a(511),f=a(643),v=a(482);s.DEFAULT_ATTR_DATA=Object.freeze(new u.AttributeData);let y=0;class S{constructor(p,d,c=!1){this.isWrapped=c,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*p);const h=d||g.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]);for(let m=0;m<p;++m)this.setCell(m,h);this.length=p}get(p){const d=this._data[3*p+0],c=2097151&d;return[this._data[3*p+1],2097152&d?this._combined[p]:c?(0,v.stringFromCodePoint)(c):"",d>>22,2097152&d?this._combined[p].charCodeAt(this._combined[p].length-1):c]}set(p,d){this._data[3*p+1]=d[f.CHAR_DATA_ATTR_INDEX],d[f.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[p]=d[1],this._data[3*p+0]=2097152|p|d[f.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*p+0]=d[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[f.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(p){return this._data[3*p+0]>>22}hasWidth(p){return 12582912&this._data[3*p+0]}getFg(p){return this._data[3*p+1]}getBg(p){return this._data[3*p+2]}hasContent(p){return 4194303&this._data[3*p+0]}getCodePoint(p){const d=this._data[3*p+0];return 2097152&d?this._combined[p].charCodeAt(this._combined[p].length-1):2097151&d}isCombined(p){return 2097152&this._data[3*p+0]}getString(p){const d=this._data[3*p+0];return 2097152&d?this._combined[p]:2097151&d?(0,v.stringFromCodePoint)(2097151&d):""}isProtected(p){return 536870912&this._data[3*p+2]}loadCell(p,d){return y=3*p,d.content=this._data[y+0],d.fg=this._data[y+1],d.bg=this._data[y+2],2097152&d.content&&(d.combinedData=this._combined[p]),268435456&d.bg&&(d.extended=this._extendedAttrs[p]),d}setCell(p,d){2097152&d.content&&(this._combined[p]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[p]=d.extended),this._data[3*p+0]=d.content,this._data[3*p+1]=d.fg,this._data[3*p+2]=d.bg}setCellFromCodePoint(p,d,c,h,m,w){268435456&m&&(this._extendedAttrs[p]=w),this._data[3*p+0]=d|c<<22,this._data[3*p+1]=h,this._data[3*p+2]=m}addCodepointToCell(p,d){let c=this._data[3*p+0];2097152&c?this._combined[p]+=(0,v.stringFromCodePoint)(d):(2097151&c?(this._combined[p]=(0,v.stringFromCodePoint)(2097151&c)+(0,v.stringFromCodePoint)(d),c&=-2097152,c|=2097152):c=d|4194304,this._data[3*p+0]=c)}insertCells(p,d,c,h){if((p%=this.length)&&this.getWidth(p-1)===2&&this.setCellFromCodePoint(p-1,0,1,(h==null?void 0:h.fg)||0,(h==null?void 0:h.bg)||0,(h==null?void 0:h.extended)||new u.ExtendedAttrs),d<this.length-p){const m=new g.CellData;for(let w=this.length-p-d-1;w>=0;--w)this.setCell(p+d+w,this.loadCell(p+w,m));for(let w=0;w<d;++w)this.setCell(p+w,c)}else for(let m=p;m<this.length;++m)this.setCell(m,c);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(h==null?void 0:h.fg)||0,(h==null?void 0:h.bg)||0,(h==null?void 0:h.extended)||new u.ExtendedAttrs)}deleteCells(p,d,c,h){if(p%=this.length,d<this.length-p){const m=new g.CellData;for(let w=0;w<this.length-p-d;++w)this.setCell(p+w,this.loadCell(p+d+w,m));for(let w=this.length-d;w<this.length;++w)this.setCell(w,c)}else for(let m=p;m<this.length;++m)this.setCell(m,c);p&&this.getWidth(p-1)===2&&this.setCellFromCodePoint(p-1,0,1,(h==null?void 0:h.fg)||0,(h==null?void 0:h.bg)||0,(h==null?void 0:h.extended)||new u.ExtendedAttrs),this.getWidth(p)!==0||this.hasContent(p)||this.setCellFromCodePoint(p,0,1,(h==null?void 0:h.fg)||0,(h==null?void 0:h.bg)||0,(h==null?void 0:h.extended)||new u.ExtendedAttrs)}replaceCells(p,d,c,h,m=!1){if(m)for(p&&this.getWidth(p-1)===2&&!this.isProtected(p-1)&&this.setCellFromCodePoint(p-1,0,1,(h==null?void 0:h.fg)||0,(h==null?void 0:h.bg)||0,(h==null?void 0:h.extended)||new u.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&!this.isProtected(d)&&this.setCellFromCodePoint(d,0,1,(h==null?void 0:h.fg)||0,(h==null?void 0:h.bg)||0,(h==null?void 0:h.extended)||new u.ExtendedAttrs);p<d&&p<this.length;)this.isProtected(p)||this.setCell(p,c),p++;else for(p&&this.getWidth(p-1)===2&&this.setCellFromCodePoint(p-1,0,1,(h==null?void 0:h.fg)||0,(h==null?void 0:h.bg)||0,(h==null?void 0:h.extended)||new u.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d,0,1,(h==null?void 0:h.fg)||0,(h==null?void 0:h.bg)||0,(h==null?void 0:h.extended)||new u.ExtendedAttrs);p<d&&p<this.length;)this.setCell(p++,c)}resize(p,d){if(p===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const c=3*p;if(p>this.length){if(this._data.buffer.byteLength>=4*c)this._data=new Uint32Array(this._data.buffer,0,c);else{const h=new Uint32Array(c);h.set(this._data),this._data=h}for(let h=this.length;h<p;++h)this.setCell(h,d)}else{this._data=this._data.subarray(0,c);const h=Object.keys(this._combined);for(let w=0;w<h.length;w++){const C=parseInt(h[w],10);C>=p&&delete this._combined[C]}const m=Object.keys(this._extendedAttrs);for(let w=0;w<m.length;w++){const C=parseInt(m[w],10);C>=p&&delete this._extendedAttrs[C]}}return this.length=p,4*c*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const p=new Uint32Array(this._data.length);return p.set(this._data),this._data=p,1}return 0}fill(p,d=!1){if(d)for(let c=0;c<this.length;++c)this.isProtected(c)||this.setCell(c,p);else{this._combined={},this._extendedAttrs={};for(let c=0;c<this.length;++c)this.setCell(c,p)}}copyFrom(p){this.length!==p.length?this._data=new Uint32Array(p._data):this._data.set(p._data),this.length=p.length,this._combined={};for(const d in p._combined)this._combined[d]=p._combined[d];this._extendedAttrs={};for(const d in p._extendedAttrs)this._extendedAttrs[d]=p._extendedAttrs[d];this.isWrapped=p.isWrapped}clone(){const p=new S(0);p._data=new Uint32Array(this._data),p.length=this.length;for(const d in this._combined)p._combined[d]=this._combined[d];for(const d in this._extendedAttrs)p._extendedAttrs[d]=this._extendedAttrs[d];return p.isWrapped=this.isWrapped,p}getTrimmedLength(){for(let p=this.length-1;p>=0;--p)if(4194303&this._data[3*p+0])return p+(this._data[3*p+0]>>22);return 0}getNoBgTrimmedLength(){for(let p=this.length-1;p>=0;--p)if(4194303&this._data[3*p+0]||50331648&this._data[3*p+2])return p+(this._data[3*p+0]>>22);return 0}copyCellsFrom(p,d,c,h,m){const w=p._data;if(m)for(let x=h-1;x>=0;x--){for(let b=0;b<3;b++)this._data[3*(c+x)+b]=w[3*(d+x)+b];268435456&w[3*(d+x)+2]&&(this._extendedAttrs[c+x]=p._extendedAttrs[d+x])}else for(let x=0;x<h;x++){for(let b=0;b<3;b++)this._data[3*(c+x)+b]=w[3*(d+x)+b];268435456&w[3*(d+x)+2]&&(this._extendedAttrs[c+x]=p._extendedAttrs[d+x])}const C=Object.keys(p._combined);for(let x=0;x<C.length;x++){const b=parseInt(C[x],10);b>=d&&(this._combined[b-d+c]=p._combined[b])}}translateToString(p=!1,d=0,c=this.length){p&&(c=Math.min(c,this.getTrimmedLength()));let h="";for(;d<c;){const m=this._data[3*d+0],w=2097151&m;h+=2097152&m?this._combined[d]:w?(0,v.stringFromCodePoint)(w):f.WHITESPACE_CELL_CHAR,d+=m>>22||1}return h}}s.BufferLine=S},4841:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getRangeLength=void 0,s.getRangeLength=function(a,u){if(a.start.y>a.end.y)throw new Error(`Buffer range end (${a.end.x}, ${a.end.y}) cannot be before start (${a.start.x}, ${a.start.y})`);return u*(a.end.y-a.start.y)+(a.end.x-a.start.x+1)}},4634:(l,s)=>{function a(u,g,f){if(g===u.length-1)return u[g].getTrimmedLength();const v=!u[g].hasContent(f-1)&&u[g].getWidth(f-1)===1,y=u[g+1].getWidth(0)===2;return v&&y?f-1:f}Object.defineProperty(s,"__esModule",{value:!0}),s.getWrappedLineTrimmedLength=s.reflowSmallerGetNewLineLengths=s.reflowLargerApplyNewLayout=s.reflowLargerCreateNewLayout=s.reflowLargerGetLinesToRemove=void 0,s.reflowLargerGetLinesToRemove=function(u,g,f,v,y){const S=[];for(let _=0;_<u.length-1;_++){let p=_,d=u.get(++p);if(!d.isWrapped)continue;const c=[u.get(_)];for(;p<u.length&&d.isWrapped;)c.push(d),d=u.get(++p);if(v>=_&&v<p){_+=c.length-1;continue}let h=0,m=a(c,h,g),w=1,C=0;for(;w<c.length;){const b=a(c,w,g),E=b-C,R=f-m,O=Math.min(E,R);c[h].copyCellsFrom(c[w],C,m,O,!1),m+=O,m===f&&(h++,m=0),C+=O,C===b&&(w++,C=0),m===0&&h!==0&&c[h-1].getWidth(f-1)===2&&(c[h].copyCellsFrom(c[h-1],f-1,m++,1,!1),c[h-1].setCell(f-1,y))}c[h].replaceCells(m,f,y);let x=0;for(let b=c.length-1;b>0&&(b>h||c[b].getTrimmedLength()===0);b--)x++;x>0&&(S.push(_+c.length-x),S.push(x)),_+=c.length-1}return S},s.reflowLargerCreateNewLayout=function(u,g){const f=[];let v=0,y=g[v],S=0;for(let _=0;_<u.length;_++)if(y===_){const p=g[++v];u.onDeleteEmitter.fire({index:_-S,amount:p}),_+=p-1,S+=p,y=g[++v]}else f.push(_);return{layout:f,countRemoved:S}},s.reflowLargerApplyNewLayout=function(u,g){const f=[];for(let v=0;v<g.length;v++)f.push(u.get(g[v]));for(let v=0;v<f.length;v++)u.set(v,f[v]);u.length=g.length},s.reflowSmallerGetNewLineLengths=function(u,g,f){const v=[],y=u.map((d,c)=>a(u,c,g)).reduce((d,c)=>d+c);let S=0,_=0,p=0;for(;p<y;){if(y-p<f){v.push(y-p);break}S+=f;const d=a(u,_,g);S>d&&(S-=d,_++);const c=u[_].getWidth(S-1)===2;c&&S--;const h=c?f-1:f;v.push(h),p+=h}return v},s.getWrappedLineTrimmedLength=a},5295:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferSet=void 0;const u=a(8460),g=a(844),f=a(9092);class v extends g.Disposable{constructor(S,_){super(),this._optionsService=S,this._bufferService=_,this._onBufferActivate=this.register(new u.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new f.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new f.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(S){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(S),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(S,_){this._normal.resize(S,_),this._alt.resize(S,_),this.setupTabStops(S)}setupTabStops(S){this._normal.setupTabStops(S),this._alt.setupTabStops(S)}}s.BufferSet=v},511:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CellData=void 0;const u=a(482),g=a(643),f=a(3734);class v extends f.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new f.ExtendedAttrs,this.combinedData=""}static fromCharData(S){const _=new v;return _.setFromCharData(S),_}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,u.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(S){this.fg=S[g.CHAR_DATA_ATTR_INDEX],this.bg=0;let _=!1;if(S[g.CHAR_DATA_CHAR_INDEX].length>2)_=!0;else if(S[g.CHAR_DATA_CHAR_INDEX].length===2){const p=S[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=p&&p<=56319){const d=S[g.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(p-55296)+d-56320+65536|S[g.CHAR_DATA_WIDTH_INDEX]<<22:_=!0}else _=!0}else this.content=S[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|S[g.CHAR_DATA_WIDTH_INDEX]<<22;_&&(this.combinedData=S[g.CHAR_DATA_CHAR_INDEX],this.content=2097152|S[g.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.CellData=v},643:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WHITESPACE_CELL_CODE=s.WHITESPACE_CELL_WIDTH=s.WHITESPACE_CELL_CHAR=s.NULL_CELL_CODE=s.NULL_CELL_WIDTH=s.NULL_CELL_CHAR=s.CHAR_DATA_CODE_INDEX=s.CHAR_DATA_WIDTH_INDEX=s.CHAR_DATA_CHAR_INDEX=s.CHAR_DATA_ATTR_INDEX=s.DEFAULT_EXT=s.DEFAULT_ATTR=s.DEFAULT_COLOR=void 0,s.DEFAULT_COLOR=0,s.DEFAULT_ATTR=256|s.DEFAULT_COLOR<<9,s.DEFAULT_EXT=0,s.CHAR_DATA_ATTR_INDEX=0,s.CHAR_DATA_CHAR_INDEX=1,s.CHAR_DATA_WIDTH_INDEX=2,s.CHAR_DATA_CODE_INDEX=3,s.NULL_CELL_CHAR="",s.NULL_CELL_WIDTH=1,s.NULL_CELL_CODE=0,s.WHITESPACE_CELL_CHAR=" ",s.WHITESPACE_CELL_WIDTH=1,s.WHITESPACE_CELL_CODE=32},4863:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Marker=void 0;const u=a(8460),g=a(844);class f{get id(){return this._id}constructor(y){this.line=y,this.isDisposed=!1,this._disposables=[],this._id=f._nextId++,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,g.disposeArray)(this._disposables),this._disposables.length=0)}register(y){return this._disposables.push(y),y}}s.Marker=f,f._nextId=1},7116:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_CHARSET=s.CHARSETS=void 0,s.CHARSETS={},s.DEFAULT_CHARSET=s.CHARSETS.B,s.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},s.CHARSETS.A={"#":"£"},s.CHARSETS.B=void 0,s.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},s.CHARSETS.C=s.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},s.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},s.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},s.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},s.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},s.CHARSETS.E=s.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},s.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},s.CHARSETS.H=s.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},s.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(l,s)=>{var a,u,g;Object.defineProperty(s,"__esModule",{value:!0}),s.C1_ESCAPED=s.C1=s.C0=void 0,function(f){f.NUL="\0",f.SOH="",f.STX="",f.ETX="",f.EOT="",f.ENQ="",f.ACK="",f.BEL="\x07",f.BS="\b",f.HT="	",f.LF=`
`,f.VT="\v",f.FF="\f",f.CR="\r",f.SO="",f.SI="",f.DLE="",f.DC1="",f.DC2="",f.DC3="",f.DC4="",f.NAK="",f.SYN="",f.ETB="",f.CAN="",f.EM="",f.SUB="",f.ESC="\x1B",f.FS="",f.GS="",f.RS="",f.US="",f.SP=" ",f.DEL=""}(a||(s.C0=a={})),function(f){f.PAD="",f.HOP="",f.BPH="",f.NBH="",f.IND="",f.NEL="",f.SSA="",f.ESA="",f.HTS="",f.HTJ="",f.VTS="",f.PLD="",f.PLU="",f.RI="",f.SS2="",f.SS3="",f.DCS="",f.PU1="",f.PU2="",f.STS="",f.CCH="",f.MW="",f.SPA="",f.EPA="",f.SOS="",f.SGCI="",f.SCI="",f.CSI="",f.ST="",f.OSC="",f.PM="",f.APC=""}(u||(s.C1=u={})),function(f){f.ST=`${a.ESC}\\`}(g||(s.C1_ESCAPED=g={}))},7399:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.evaluateKeyboardEvent=void 0;const u=a(2584),g={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};s.evaluateKeyboardEvent=function(f,v,y,S){const _={type:0,cancel:!1,key:void 0},p=(f.shiftKey?1:0)|(f.altKey?2:0)|(f.ctrlKey?4:0)|(f.metaKey?8:0);switch(f.keyCode){case 0:f.key==="UIKeyInputUpArrow"?_.key=v?u.C0.ESC+"OA":u.C0.ESC+"[A":f.key==="UIKeyInputLeftArrow"?_.key=v?u.C0.ESC+"OD":u.C0.ESC+"[D":f.key==="UIKeyInputRightArrow"?_.key=v?u.C0.ESC+"OC":u.C0.ESC+"[C":f.key==="UIKeyInputDownArrow"&&(_.key=v?u.C0.ESC+"OB":u.C0.ESC+"[B");break;case 8:if(f.altKey){_.key=u.C0.ESC+u.C0.DEL;break}_.key=u.C0.DEL;break;case 9:if(f.shiftKey){_.key=u.C0.ESC+"[Z";break}_.key=u.C0.HT,_.cancel=!0;break;case 13:_.key=f.altKey?u.C0.ESC+u.C0.CR:u.C0.CR,_.cancel=!0;break;case 27:_.key=u.C0.ESC,f.altKey&&(_.key=u.C0.ESC+u.C0.ESC),_.cancel=!0;break;case 37:if(f.metaKey)break;p?(_.key=u.C0.ESC+"[1;"+(p+1)+"D",_.key===u.C0.ESC+"[1;3D"&&(_.key=u.C0.ESC+(y?"b":"[1;5D"))):_.key=v?u.C0.ESC+"OD":u.C0.ESC+"[D";break;case 39:if(f.metaKey)break;p?(_.key=u.C0.ESC+"[1;"+(p+1)+"C",_.key===u.C0.ESC+"[1;3C"&&(_.key=u.C0.ESC+(y?"f":"[1;5C"))):_.key=v?u.C0.ESC+"OC":u.C0.ESC+"[C";break;case 38:if(f.metaKey)break;p?(_.key=u.C0.ESC+"[1;"+(p+1)+"A",y||_.key!==u.C0.ESC+"[1;3A"||(_.key=u.C0.ESC+"[1;5A")):_.key=v?u.C0.ESC+"OA":u.C0.ESC+"[A";break;case 40:if(f.metaKey)break;p?(_.key=u.C0.ESC+"[1;"+(p+1)+"B",y||_.key!==u.C0.ESC+"[1;3B"||(_.key=u.C0.ESC+"[1;5B")):_.key=v?u.C0.ESC+"OB":u.C0.ESC+"[B";break;case 45:f.shiftKey||f.ctrlKey||(_.key=u.C0.ESC+"[2~");break;case 46:_.key=p?u.C0.ESC+"[3;"+(p+1)+"~":u.C0.ESC+"[3~";break;case 36:_.key=p?u.C0.ESC+"[1;"+(p+1)+"H":v?u.C0.ESC+"OH":u.C0.ESC+"[H";break;case 35:_.key=p?u.C0.ESC+"[1;"+(p+1)+"F":v?u.C0.ESC+"OF":u.C0.ESC+"[F";break;case 33:f.shiftKey?_.type=2:f.ctrlKey?_.key=u.C0.ESC+"[5;"+(p+1)+"~":_.key=u.C0.ESC+"[5~";break;case 34:f.shiftKey?_.type=3:f.ctrlKey?_.key=u.C0.ESC+"[6;"+(p+1)+"~":_.key=u.C0.ESC+"[6~";break;case 112:_.key=p?u.C0.ESC+"[1;"+(p+1)+"P":u.C0.ESC+"OP";break;case 113:_.key=p?u.C0.ESC+"[1;"+(p+1)+"Q":u.C0.ESC+"OQ";break;case 114:_.key=p?u.C0.ESC+"[1;"+(p+1)+"R":u.C0.ESC+"OR";break;case 115:_.key=p?u.C0.ESC+"[1;"+(p+1)+"S":u.C0.ESC+"OS";break;case 116:_.key=p?u.C0.ESC+"[15;"+(p+1)+"~":u.C0.ESC+"[15~";break;case 117:_.key=p?u.C0.ESC+"[17;"+(p+1)+"~":u.C0.ESC+"[17~";break;case 118:_.key=p?u.C0.ESC+"[18;"+(p+1)+"~":u.C0.ESC+"[18~";break;case 119:_.key=p?u.C0.ESC+"[19;"+(p+1)+"~":u.C0.ESC+"[19~";break;case 120:_.key=p?u.C0.ESC+"[20;"+(p+1)+"~":u.C0.ESC+"[20~";break;case 121:_.key=p?u.C0.ESC+"[21;"+(p+1)+"~":u.C0.ESC+"[21~";break;case 122:_.key=p?u.C0.ESC+"[23;"+(p+1)+"~":u.C0.ESC+"[23~";break;case 123:_.key=p?u.C0.ESC+"[24;"+(p+1)+"~":u.C0.ESC+"[24~";break;default:if(!f.ctrlKey||f.shiftKey||f.altKey||f.metaKey)if(y&&!S||!f.altKey||f.metaKey)!y||f.altKey||f.ctrlKey||f.shiftKey||!f.metaKey?f.key&&!f.ctrlKey&&!f.altKey&&!f.metaKey&&f.keyCode>=48&&f.key.length===1?_.key=f.key:f.key&&f.ctrlKey&&(f.key==="_"&&(_.key=u.C0.US),f.key==="@"&&(_.key=u.C0.NUL)):f.keyCode===65&&(_.type=1);else{const d=g[f.keyCode],c=d==null?void 0:d[f.shiftKey?1:0];if(c)_.key=u.C0.ESC+c;else if(f.keyCode>=65&&f.keyCode<=90){const h=f.ctrlKey?f.keyCode-64:f.keyCode+32;let m=String.fromCharCode(h);f.shiftKey&&(m=m.toUpperCase()),_.key=u.C0.ESC+m}else if(f.keyCode===32)_.key=u.C0.ESC+(f.ctrlKey?u.C0.NUL:" ");else if(f.key==="Dead"&&f.code.startsWith("Key")){let h=f.code.slice(3,4);f.shiftKey||(h=h.toLowerCase()),_.key=u.C0.ESC+h,_.cancel=!0}}else f.keyCode>=65&&f.keyCode<=90?_.key=String.fromCharCode(f.keyCode-64):f.keyCode===32?_.key=u.C0.NUL:f.keyCode>=51&&f.keyCode<=55?_.key=String.fromCharCode(f.keyCode-51+27):f.keyCode===56?_.key=u.C0.DEL:f.keyCode===219?_.key=u.C0.ESC:f.keyCode===220?_.key=u.C0.FS:f.keyCode===221&&(_.key=u.C0.GS)}return _}},482:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Utf8ToUtf32=s.StringToUtf32=s.utf32ToString=s.stringFromCodePoint=void 0,s.stringFromCodePoint=function(a){return a>65535?(a-=65536,String.fromCharCode(55296+(a>>10))+String.fromCharCode(a%1024+56320)):String.fromCharCode(a)},s.utf32ToString=function(a,u=0,g=a.length){let f="";for(let v=u;v<g;++v){let y=a[v];y>65535?(y-=65536,f+=String.fromCharCode(55296+(y>>10))+String.fromCharCode(y%1024+56320)):f+=String.fromCharCode(y)}return f},s.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(a,u){const g=a.length;if(!g)return 0;let f=0,v=0;if(this._interim){const y=a.charCodeAt(v++);56320<=y&&y<=57343?u[f++]=1024*(this._interim-55296)+y-56320+65536:(u[f++]=this._interim,u[f++]=y),this._interim=0}for(let y=v;y<g;++y){const S=a.charCodeAt(y);if(55296<=S&&S<=56319){if(++y>=g)return this._interim=S,f;const _=a.charCodeAt(y);56320<=_&&_<=57343?u[f++]=1024*(S-55296)+_-56320+65536:(u[f++]=S,u[f++]=_)}else S!==65279&&(u[f++]=S)}return f}},s.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(a,u){const g=a.length;if(!g)return 0;let f,v,y,S,_=0,p=0,d=0;if(this.interim[0]){let m=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let C,x=0;for(;(C=63&this.interim[++x])&&x<4;)w<<=6,w|=C;const b=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=b-x;for(;d<E;){if(d>=g)return 0;if(C=a[d++],(192&C)!=128){d--,m=!0;break}this.interim[x++]=C,w<<=6,w|=63&C}m||(b===2?w<128?d--:u[_++]=w:b===3?w<2048||w>=55296&&w<=57343||w===65279||(u[_++]=w):w<65536||w>1114111||(u[_++]=w)),this.interim.fill(0)}const c=g-4;let h=d;for(;h<g;){for(;!(!(h<c)||128&(f=a[h])||128&(v=a[h+1])||128&(y=a[h+2])||128&(S=a[h+3]));)u[_++]=f,u[_++]=v,u[_++]=y,u[_++]=S,h+=4;if(f=a[h++],f<128)u[_++]=f;else if((224&f)==192){if(h>=g)return this.interim[0]=f,_;if(v=a[h++],(192&v)!=128){h--;continue}if(p=(31&f)<<6|63&v,p<128){h--;continue}u[_++]=p}else if((240&f)==224){if(h>=g)return this.interim[0]=f,_;if(v=a[h++],(192&v)!=128){h--;continue}if(h>=g)return this.interim[0]=f,this.interim[1]=v,_;if(y=a[h++],(192&y)!=128){h--;continue}if(p=(15&f)<<12|(63&v)<<6|63&y,p<2048||p>=55296&&p<=57343||p===65279)continue;u[_++]=p}else if((248&f)==240){if(h>=g)return this.interim[0]=f,_;if(v=a[h++],(192&v)!=128){h--;continue}if(h>=g)return this.interim[0]=f,this.interim[1]=v,_;if(y=a[h++],(192&y)!=128){h--;continue}if(h>=g)return this.interim[0]=f,this.interim[1]=v,this.interim[2]=y,_;if(S=a[h++],(192&S)!=128){h--;continue}if(p=(7&f)<<18|(63&v)<<12|(63&y)<<6|63&S,p<65536||p>1114111)continue;u[_++]=p}}return _}}},225:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeV6=void 0;const a=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],u=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let g;s.UnicodeV6=class{constructor(){if(this.version="6",!g){g=new Uint8Array(65536),g.fill(1),g[0]=0,g.fill(0,1,32),g.fill(0,127,160),g.fill(2,4352,4448),g[9001]=2,g[9002]=2,g.fill(2,11904,42192),g[12351]=1,g.fill(2,44032,55204),g.fill(2,63744,64256),g.fill(2,65040,65050),g.fill(2,65072,65136),g.fill(2,65280,65377),g.fill(2,65504,65511);for(let f=0;f<a.length;++f)g.fill(0,a[f][0],a[f][1]+1)}}wcwidth(f){return f<32?0:f<127?1:f<65536?g[f]:function(v,y){let S,_=0,p=y.length-1;if(v<y[0][0]||v>y[p][1])return!1;for(;p>=_;)if(S=_+p>>1,v>y[S][1])_=S+1;else{if(!(v<y[S][0]))return!0;p=S-1}return!1}(f,u)?0:f>=131072&&f<=196605||f>=196608&&f<=262141?2:1}}},5981:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WriteBuffer=void 0;const u=a(8460),g=a(844);class f extends g.Disposable{constructor(y){super(),this._action=y,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(y,S){if(S!==void 0&&this._syncCalls>S)return void(this._syncCalls=0);if(this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let _;for(this._isSyncWriting=!0;_=this._writeBuffer.shift();){this._action(_);const p=this._callbacks.shift();p&&p()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(y,S){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(S),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(S)}_innerWrite(y=0,S=!0){const _=y||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const p=this._writeBuffer[this._bufferOffset],d=this._action(p,S);if(d){const h=m=>Date.now()-_>=12?setTimeout(()=>this._innerWrite(0,m)):this._innerWrite(_,m);return void d.catch(m=>(queueMicrotask(()=>{throw m}),Promise.resolve(!1))).then(h)}const c=this._callbacks[this._bufferOffset];if(c&&c(),this._bufferOffset++,this._pendingData-=p.length,Date.now()-_>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}s.WriteBuffer=f},5941:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.toRgbString=s.parseColor=void 0;const a=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,u=/^[\da-f]+$/;function g(f,v){const y=f.toString(16),S=y.length<2?"0"+y:y;switch(v){case 4:return y[0];case 8:return S;case 12:return(S+S).slice(0,3);default:return S+S}}s.parseColor=function(f){if(!f)return;let v=f.toLowerCase();if(v.indexOf("rgb:")===0){v=v.slice(4);const y=a.exec(v);if(y){const S=y[1]?15:y[4]?255:y[7]?4095:65535;return[Math.round(parseInt(y[1]||y[4]||y[7]||y[10],16)/S*255),Math.round(parseInt(y[2]||y[5]||y[8]||y[11],16)/S*255),Math.round(parseInt(y[3]||y[6]||y[9]||y[12],16)/S*255)]}}else if(v.indexOf("#")===0&&(v=v.slice(1),u.exec(v)&&[3,6,9,12].includes(v.length))){const y=v.length/3,S=[0,0,0];for(let _=0;_<3;++_){const p=parseInt(v.slice(y*_,y*_+y),16);S[_]=y===1?p<<4:y===2?p:y===3?p>>4:p>>8}return S}},s.toRgbString=function(f,v=16){const[y,S,_]=f;return`rgb:${g(y,v)}/${g(S,v)}/${g(_,v)}`}},5770:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PAYLOAD_LIMIT=void 0,s.PAYLOAD_LIMIT=1e7},6351:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DcsHandler=s.DcsParser=void 0;const u=a(482),g=a(8742),f=a(5770),v=[];s.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=v,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=v}registerHandler(S,_){this._handlers[S]===void 0&&(this._handlers[S]=[]);const p=this._handlers[S];return p.push(_),{dispose:()=>{const d=p.indexOf(_);d!==-1&&p.splice(d,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}reset(){if(this._active.length)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].unhook(!1);this._stack.paused=!1,this._active=v,this._ident=0}hook(S,_){if(this.reset(),this._ident=S,this._active=this._handlers[S]||v,this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].hook(_);else this._handlerFb(this._ident,"HOOK",_)}put(S,_,p){if(this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].put(S,_,p);else this._handlerFb(this._ident,"PUT",(0,u.utf32ToString)(S,_,p))}unhook(S,_=!0){if(this._active.length){let p=!1,d=this._active.length-1,c=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,p=_,c=this._stack.fallThrough,this._stack.paused=!1),!c&&p===!1){for(;d>=0&&(p=this._active[d].unhook(S),p!==!0);d--)if(p instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,p;d--}for(;d>=0;d--)if(p=this._active[d].unhook(!1),p instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,p}else this._handlerFb(this._ident,"UNHOOK",S);this._active=v,this._ident=0}};const y=new g.Params;y.addParam(0),s.DcsHandler=class{constructor(S){this._handler=S,this._data="",this._params=y,this._hitLimit=!1}hook(S){this._params=S.length>1||S.params[0]?S.clone():y,this._data="",this._hitLimit=!1}put(S,_,p){this._hitLimit||(this._data+=(0,u.utf32ToString)(S,_,p),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(S){let _=!1;if(this._hitLimit)_=!1;else if(S&&(_=this._handler(this._data,this._params),_ instanceof Promise))return _.then(p=>(this._params=y,this._data="",this._hitLimit=!1,p));return this._params=y,this._data="",this._hitLimit=!1,_}}},2015:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.EscapeSequenceParser=s.VT500_TRANSITION_TABLE=s.TransitionTable=void 0;const u=a(844),g=a(8742),f=a(6242),v=a(6351);class y{constructor(d){this.table=new Uint8Array(d)}setDefault(d,c){this.table.fill(d<<4|c)}add(d,c,h,m){this.table[c<<8|d]=h<<4|m}addMany(d,c,h,m){for(let w=0;w<d.length;w++)this.table[c<<8|d[w]]=h<<4|m}}s.TransitionTable=y;const S=160;s.VT500_TRANSITION_TABLE=function(){const p=new y(4095),d=Array.apply(null,Array(256)).map((x,b)=>b),c=(x,b)=>d.slice(x,b),h=c(32,127),m=c(0,24);m.push(25),m.push.apply(m,c(28,32));const w=c(0,14);let C;for(C in p.setDefault(1,0),p.addMany(h,0,2,0),w)p.addMany([24,26,153,154],C,3,0),p.addMany(c(128,144),C,3,0),p.addMany(c(144,152),C,3,0),p.add(156,C,0,0),p.add(27,C,11,1),p.add(157,C,4,8),p.addMany([152,158,159],C,0,7),p.add(155,C,11,3),p.add(144,C,11,9);return p.addMany(m,0,3,0),p.addMany(m,1,3,1),p.add(127,1,0,1),p.addMany(m,8,0,8),p.addMany(m,3,3,3),p.add(127,3,0,3),p.addMany(m,4,3,4),p.add(127,4,0,4),p.addMany(m,6,3,6),p.addMany(m,5,3,5),p.add(127,5,0,5),p.addMany(m,2,3,2),p.add(127,2,0,2),p.add(93,1,4,8),p.addMany(h,8,5,8),p.add(127,8,5,8),p.addMany([156,27,24,26,7],8,6,0),p.addMany(c(28,32),8,0,8),p.addMany([88,94,95],1,0,7),p.addMany(h,7,0,7),p.addMany(m,7,0,7),p.add(156,7,0,0),p.add(127,7,0,7),p.add(91,1,11,3),p.addMany(c(64,127),3,7,0),p.addMany(c(48,60),3,8,4),p.addMany([60,61,62,63],3,9,4),p.addMany(c(48,60),4,8,4),p.addMany(c(64,127),4,7,0),p.addMany([60,61,62,63],4,0,6),p.addMany(c(32,64),6,0,6),p.add(127,6,0,6),p.addMany(c(64,127),6,0,0),p.addMany(c(32,48),3,9,5),p.addMany(c(32,48),5,9,5),p.addMany(c(48,64),5,0,6),p.addMany(c(64,127),5,7,0),p.addMany(c(32,48),4,9,5),p.addMany(c(32,48),1,9,2),p.addMany(c(32,48),2,9,2),p.addMany(c(48,127),2,10,0),p.addMany(c(48,80),1,10,0),p.addMany(c(81,88),1,10,0),p.addMany([89,90,92],1,10,0),p.addMany(c(96,127),1,10,0),p.add(80,1,11,9),p.addMany(m,9,0,9),p.add(127,9,0,9),p.addMany(c(28,32),9,0,9),p.addMany(c(32,48),9,9,12),p.addMany(c(48,60),9,8,10),p.addMany([60,61,62,63],9,9,10),p.addMany(m,11,0,11),p.addMany(c(32,128),11,0,11),p.addMany(c(28,32),11,0,11),p.addMany(m,10,0,10),p.add(127,10,0,10),p.addMany(c(28,32),10,0,10),p.addMany(c(48,60),10,8,10),p.addMany([60,61,62,63],10,0,11),p.addMany(c(32,48),10,9,12),p.addMany(m,12,0,12),p.add(127,12,0,12),p.addMany(c(28,32),12,0,12),p.addMany(c(32,48),12,9,12),p.addMany(c(48,64),12,0,11),p.addMany(c(64,127),12,12,13),p.addMany(c(64,127),10,12,13),p.addMany(c(64,127),9,12,13),p.addMany(m,13,13,13),p.addMany(h,13,13,13),p.add(127,13,0,13),p.addMany([27,156,24,26],13,14,0),p.add(S,0,2,0),p.add(S,8,5,8),p.add(S,6,0,6),p.add(S,11,0,11),p.add(S,13,13,13),p}();class _ extends u.Disposable{constructor(d=s.VT500_TRANSITION_TABLE){super(),this._transitions=d,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new g.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(c,h,m)=>{},this._executeHandlerFb=c=>{},this._csiHandlerFb=(c,h)=>{},this._escHandlerFb=c=>{},this._errorHandlerFb=c=>c,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,u.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new f.OscParser),this._dcsParser=this.register(new v.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(d,c=[64,126]){let h=0;if(d.prefix){if(d.prefix.length>1)throw new Error("only one byte as prefix supported");if(h=d.prefix.charCodeAt(0),h&&60>h||h>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(d.intermediates){if(d.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<d.intermediates.length;++w){const C=d.intermediates.charCodeAt(w);if(32>C||C>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");h<<=8,h|=C}}if(d.final.length!==1)throw new Error("final must be a single byte");const m=d.final.charCodeAt(0);if(c[0]>m||m>c[1])throw new Error(`final must be in range ${c[0]} .. ${c[1]}`);return h<<=8,h|=m,h}identToString(d){const c=[];for(;d;)c.push(String.fromCharCode(255&d)),d>>=8;return c.reverse().join("")}setPrintHandler(d){this._printHandler=d}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(d,c){const h=this._identifier(d,[48,126]);this._escHandlers[h]===void 0&&(this._escHandlers[h]=[]);const m=this._escHandlers[h];return m.push(c),{dispose:()=>{const w=m.indexOf(c);w!==-1&&m.splice(w,1)}}}clearEscHandler(d){this._escHandlers[this._identifier(d,[48,126])]&&delete this._escHandlers[this._identifier(d,[48,126])]}setEscHandlerFallback(d){this._escHandlerFb=d}setExecuteHandler(d,c){this._executeHandlers[d.charCodeAt(0)]=c}clearExecuteHandler(d){this._executeHandlers[d.charCodeAt(0)]&&delete this._executeHandlers[d.charCodeAt(0)]}setExecuteHandlerFallback(d){this._executeHandlerFb=d}registerCsiHandler(d,c){const h=this._identifier(d);this._csiHandlers[h]===void 0&&(this._csiHandlers[h]=[]);const m=this._csiHandlers[h];return m.push(c),{dispose:()=>{const w=m.indexOf(c);w!==-1&&m.splice(w,1)}}}clearCsiHandler(d){this._csiHandlers[this._identifier(d)]&&delete this._csiHandlers[this._identifier(d)]}setCsiHandlerFallback(d){this._csiHandlerFb=d}registerDcsHandler(d,c){return this._dcsParser.registerHandler(this._identifier(d),c)}clearDcsHandler(d){this._dcsParser.clearHandler(this._identifier(d))}setDcsHandlerFallback(d){this._dcsParser.setHandlerFallback(d)}registerOscHandler(d,c){return this._oscParser.registerHandler(d,c)}clearOscHandler(d){this._oscParser.clearHandler(d)}setOscHandlerFallback(d){this._oscParser.setHandlerFallback(d)}setErrorHandler(d){this._errorHandler=d}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(d,c,h,m,w){this._parseStack.state=d,this._parseStack.handlers=c,this._parseStack.handlerPos=h,this._parseStack.transition=m,this._parseStack.chunkPos=w}parse(d,c,h){let m,w=0,C=0,x=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,x=this._parseStack.chunkPos+1;else{if(h===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const b=this._parseStack.handlers;let E=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(h===!1&&E>-1){for(;E>=0&&(m=b[E](this._params),m!==!0);E--)if(m instanceof Promise)return this._parseStack.handlerPos=E,m}this._parseStack.handlers=[];break;case 4:if(h===!1&&E>-1){for(;E>=0&&(m=b[E](),m!==!0);E--)if(m instanceof Promise)return this._parseStack.handlerPos=E,m}this._parseStack.handlers=[];break;case 6:if(w=d[this._parseStack.chunkPos],m=this._dcsParser.unhook(w!==24&&w!==26,h),m)return m;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=d[this._parseStack.chunkPos],m=this._oscParser.end(w!==24&&w!==26,h),m)return m;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,x=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let b=x;b<c;++b){switch(w=d[b],C=this._transitions.table[this.currentState<<8|(w<160?w:S)],C>>4){case 2:for(let I=b+1;;++I){if(I>=c||(w=d[I])<32||w>126&&w<S){this._printHandler(d,b,I),b=I-1;break}if(++I>=c||(w=d[I])<32||w>126&&w<S){this._printHandler(d,b,I),b=I-1;break}if(++I>=c||(w=d[I])<32||w>126&&w<S){this._printHandler(d,b,I),b=I-1;break}if(++I>=c||(w=d[I])<32||w>126&&w<S){this._printHandler(d,b,I),b=I-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:b,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const E=this._csiHandlers[this._collect<<8|w];let R=E?E.length-1:-1;for(;R>=0&&(m=E[R](this._params),m!==!0);R--)if(m instanceof Promise)return this._preserveStack(3,E,R,C,b),m;R<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingCodepoint=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++b<c&&(w=d[b])>47&&w<60);b--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const O=this._escHandlers[this._collect<<8|w];let T=O?O.length-1:-1;for(;T>=0&&(m=O[T](),m!==!0);T--)if(m instanceof Promise)return this._preserveStack(4,O,T,C,b),m;T<0&&this._escHandlerFb(this._collect<<8|w),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let I=b+1;;++I)if(I>=c||(w=d[I])===24||w===26||w===27||w>127&&w<S){this._dcsParser.put(d,b,I),b=I-1;break}break;case 14:if(m=this._dcsParser.unhook(w!==24&&w!==26),m)return this._preserveStack(6,[],0,C,b),m;w===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let I=b+1;;I++)if(I>=c||(w=d[I])<32||w>127&&w<S){this._oscParser.put(d,b,I),b=I-1;break}break;case 6:if(m=this._oscParser.end(w!==24&&w!==26),m)return this._preserveStack(5,[],0,C,b),m;w===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&C}}}s.EscapeSequenceParser=_},6242:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OscHandler=s.OscParser=void 0;const u=a(5770),g=a(482),f=[];s.OscParser=class{constructor(){this._state=0,this._active=f,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(v,y){this._handlers[v]===void 0&&(this._handlers[v]=[]);const S=this._handlers[v];return S.push(y),{dispose:()=>{const _=S.indexOf(y);_!==-1&&S.splice(_,1)}}}clearHandler(v){this._handlers[v]&&delete this._handlers[v]}setHandlerFallback(v){this._handlerFb=v}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}reset(){if(this._state===2)for(let v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].end(!1);this._stack.paused=!1,this._active=f,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||f,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].start();else this._handlerFb(this._id,"START")}_put(v,y,S){if(this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].put(v,y,S);else this._handlerFb(this._id,"PUT",(0,g.utf32ToString)(v,y,S))}start(){this.reset(),this._state=1}put(v,y,S){if(this._state!==3){if(this._state===1)for(;y<S;){const _=v[y++];if(_===59){this._state=2,this._start();break}if(_<48||57<_)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+_-48}this._state===2&&S-y>0&&this._put(v,y,S)}}end(v,y=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let S=!1,_=this._active.length-1,p=!1;if(this._stack.paused&&(_=this._stack.loopPosition-1,S=y,p=this._stack.fallThrough,this._stack.paused=!1),!p&&S===!1){for(;_>=0&&(S=this._active[_].end(v),S!==!0);_--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!1,S;_--}for(;_>=0;_--)if(S=this._active[_].end(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!0,S}else this._handlerFb(this._id,"END",v);this._active=f,this._id=-1,this._state=0}}},s.OscHandler=class{constructor(v){this._handler=v,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(v,y,S){this._hitLimit||(this._data+=(0,g.utf32ToString)(v,y,S),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(v){let y=!1;if(this._hitLimit)y=!1;else if(v&&(y=this._handler(this._data),y instanceof Promise))return y.then(S=>(this._data="",this._hitLimit=!1,S));return this._data="",this._hitLimit=!1,y}}},8742:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Params=void 0;const a=2147483647;class u{static fromArray(f){const v=new u;if(!f.length)return v;for(let y=Array.isArray(f[0])?1:0;y<f.length;++y){const S=f[y];if(Array.isArray(S))for(let _=0;_<S.length;++_)v.addSubParam(S[_]);else v.addParam(S)}return v}constructor(f=32,v=32){if(this.maxLength=f,this.maxSubParamsLength=v,v>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(f),this.length=0,this._subParams=new Int32Array(v),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(f),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const f=new u(this.maxLength,this.maxSubParamsLength);return f.params.set(this.params),f.length=this.length,f._subParams.set(this._subParams),f._subParamsLength=this._subParamsLength,f._subParamsIdx.set(this._subParamsIdx),f._rejectDigits=this._rejectDigits,f._rejectSubDigits=this._rejectSubDigits,f._digitIsSub=this._digitIsSub,f}toArray(){const f=[];for(let v=0;v<this.length;++v){f.push(this.params[v]);const y=this._subParamsIdx[v]>>8,S=255&this._subParamsIdx[v];S-y>0&&f.push(Array.prototype.slice.call(this._subParams,y,S))}return f}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(f){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=f>a?a:f}}addSubParam(f){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=f>a?a:f,this._subParamsIdx[this.length-1]++}}hasSubParams(f){return(255&this._subParamsIdx[f])-(this._subParamsIdx[f]>>8)>0}getSubParams(f){const v=this._subParamsIdx[f]>>8,y=255&this._subParamsIdx[f];return y-v>0?this._subParams.subarray(v,y):null}getSubParamsAll(){const f={};for(let v=0;v<this.length;++v){const y=this._subParamsIdx[v]>>8,S=255&this._subParamsIdx[v];S-y>0&&(f[v]=this._subParams.slice(y,S))}return f}addDigit(f){let v;if(this._rejectDigits||!(v=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const y=this._digitIsSub?this._subParams:this.params,S=y[v-1];y[v-1]=~S?Math.min(10*S+f,a):f}}s.Params=u},5741:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AddonManager=void 0,s.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let a=this._addons.length-1;a>=0;a--)this._addons[a].instance.dispose()}loadAddon(a,u){const g={instance:u,dispose:u.dispose,isDisposed:!1};this._addons.push(g),u.dispose=()=>this._wrappedAddonDispose(g),u.activate(a)}_wrappedAddonDispose(a){if(a.isDisposed)return;let u=-1;for(let g=0;g<this._addons.length;g++)if(this._addons[g]===a){u=g;break}if(u===-1)throw new Error("Could not dispose an addon that has not been loaded");a.isDisposed=!0,a.dispose.apply(a.instance),this._addons.splice(u,1)}}},8771:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferApiView=void 0;const u=a(3785),g=a(511);s.BufferApiView=class{constructor(f,v){this._buffer=f,this.type=v}init(f){return this._buffer=f,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(f){const v=this._buffer.lines.get(f);if(v)return new u.BufferLineApiView(v)}getNullCell(){return new g.CellData}}},3785:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLineApiView=void 0;const u=a(511);s.BufferLineApiView=class{constructor(g){this._line=g}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(g,f){if(!(g<0||g>=this._line.length))return f?(this._line.loadCell(g,f),f):this._line.loadCell(g,new u.CellData)}translateToString(g,f,v){return this._line.translateToString(g,f,v)}}},8285:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferNamespaceApi=void 0;const u=a(8771),g=a(8460),f=a(844);class v extends f.Disposable{constructor(S){super(),this._core=S,this._onBufferChange=this.register(new g.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new u.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new u.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}s.BufferNamespaceApi=v},7975:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ParserApi=void 0,s.ParserApi=class{constructor(a){this._core=a}registerCsiHandler(a,u){return this._core.registerCsiHandler(a,g=>u(g.toArray()))}addCsiHandler(a,u){return this.registerCsiHandler(a,u)}registerDcsHandler(a,u){return this._core.registerDcsHandler(a,(g,f)=>u(g,f.toArray()))}addDcsHandler(a,u){return this.registerDcsHandler(a,u)}registerEscHandler(a,u){return this._core.registerEscHandler(a,u)}addEscHandler(a,u){return this.registerEscHandler(a,u)}registerOscHandler(a,u){return this._core.registerOscHandler(a,u)}addOscHandler(a,u){return this.registerOscHandler(a,u)}}},7090:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeApi=void 0,s.UnicodeApi=class{constructor(a){this._core=a}register(a){this._core.unicodeService.register(a)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(a){this._core.unicodeService.activeVersion=a}}},744:function(l,s,a){var u=this&&this.__decorate||function(p,d,c,h){var m,w=arguments.length,C=w<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,c):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,d,c,h);else for(var x=p.length-1;x>=0;x--)(m=p[x])&&(C=(w<3?m(C):w>3?m(d,c,C):m(d,c))||C);return w>3&&C&&Object.defineProperty(d,c,C),C},g=this&&this.__param||function(p,d){return function(c,h){d(c,h,p)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferService=s.MINIMUM_ROWS=s.MINIMUM_COLS=void 0;const f=a(8460),v=a(844),y=a(5295),S=a(2585);s.MINIMUM_COLS=2,s.MINIMUM_ROWS=1;let _=s.BufferService=class extends v.Disposable{get buffer(){return this.buffers.active}constructor(p){super(),this.isUserScrolling=!1,this._onResize=this.register(new f.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(p.rawOptions.cols||0,s.MINIMUM_COLS),this.rows=Math.max(p.rawOptions.rows||0,s.MINIMUM_ROWS),this.buffers=this.register(new y.BufferSet(p,this))}resize(p,d){this.cols=p,this.rows=d,this.buffers.resize(p,d),this._onResize.fire({cols:p,rows:d})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(p,d=!1){const c=this.buffer;let h;h=this._cachedBlankLine,h&&h.length===this.cols&&h.getFg(0)===p.fg&&h.getBg(0)===p.bg||(h=c.getBlankLine(p,d),this._cachedBlankLine=h),h.isWrapped=d;const m=c.ybase+c.scrollTop,w=c.ybase+c.scrollBottom;if(c.scrollTop===0){const C=c.lines.isFull;w===c.lines.length-1?C?c.lines.recycle().copyFrom(h):c.lines.push(h.clone()):c.lines.splice(w+1,0,h.clone()),C?this.isUserScrolling&&(c.ydisp=Math.max(c.ydisp-1,0)):(c.ybase++,this.isUserScrolling||c.ydisp++)}else{const C=w-m+1;c.lines.shiftElements(m+1,C-1,-1),c.lines.set(w,h.clone())}this.isUserScrolling||(c.ydisp=c.ybase),this._onScroll.fire(c.ydisp)}scrollLines(p,d,c){const h=this.buffer;if(p<0){if(h.ydisp===0)return;this.isUserScrolling=!0}else p+h.ydisp>=h.ybase&&(this.isUserScrolling=!1);const m=h.ydisp;h.ydisp=Math.max(Math.min(h.ydisp+p,h.ybase),0),m!==h.ydisp&&(d||this._onScroll.fire(h.ydisp))}};s.BufferService=_=u([g(0,S.IOptionsService)],_)},7994:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharsetService=void 0,s.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(a){this.glevel=a,this.charset=this._charsets[a]}setgCharset(a,u){this._charsets[a]=u,this.glevel===a&&(this.charset=u)}}},1753:function(l,s,a){var u=this&&this.__decorate||function(h,m,w,C){var x,b=arguments.length,E=b<3?m:C===null?C=Object.getOwnPropertyDescriptor(m,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(h,m,w,C);else for(var R=h.length-1;R>=0;R--)(x=h[R])&&(E=(b<3?x(E):b>3?x(m,w,E):x(m,w))||E);return b>3&&E&&Object.defineProperty(m,w,E),E},g=this&&this.__param||function(h,m){return function(w,C){m(w,C,h)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreMouseService=void 0;const f=a(2585),v=a(8460),y=a(844),S={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:h=>h.button!==4&&h.action===1&&(h.ctrl=!1,h.alt=!1,h.shift=!1,!0)},VT200:{events:19,restrict:h=>h.action!==32},DRAG:{events:23,restrict:h=>h.action!==32||h.button!==3},ANY:{events:31,restrict:h=>!0}};function _(h,m){let w=(h.ctrl?16:0)|(h.shift?4:0)|(h.alt?8:0);return h.button===4?(w|=64,w|=h.action):(w|=3&h.button,4&h.button&&(w|=64),8&h.button&&(w|=128),h.action===32?w|=32:h.action!==0||m||(w|=3)),w}const p=String.fromCharCode,d={DEFAULT:h=>{const m=[_(h,!1)+32,h.col+32,h.row+32];return m[0]>255||m[1]>255||m[2]>255?"":`\x1B[M${p(m[0])}${p(m[1])}${p(m[2])}`},SGR:h=>{const m=h.action===0&&h.button!==4?"m":"M";return`\x1B[<${_(h,!0)};${h.col};${h.row}${m}`},SGR_PIXELS:h=>{const m=h.action===0&&h.button!==4?"m":"M";return`\x1B[<${_(h,!0)};${h.x};${h.y}${m}`}};let c=s.CoreMouseService=class extends y.Disposable{constructor(h,m){super(),this._bufferService=h,this._coreService=m,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new v.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(S))this.addProtocol(w,S[w]);for(const w of Object.keys(d))this.addEncoding(w,d[w]);this.reset()}addProtocol(h,m){this._protocols[h]=m}addEncoding(h,m){this._encodings[h]=m}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(h){if(!this._protocols[h])throw new Error(`unknown protocol "${h}"`);this._activeProtocol=h,this._onProtocolChange.fire(this._protocols[h].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(h){if(!this._encodings[h])throw new Error(`unknown encoding "${h}"`);this._activeEncoding=h}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(h){if(h.col<0||h.col>=this._bufferService.cols||h.row<0||h.row>=this._bufferService.rows||h.button===4&&h.action===32||h.button===3&&h.action!==32||h.button!==4&&(h.action===2||h.action===3)||(h.col++,h.row++,h.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,h,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(h))return!1;const m=this._encodings[this._activeEncoding](h);return m&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(m):this._coreService.triggerDataEvent(m,!0)),this._lastEvent=h,!0}explainEvents(h){return{down:!!(1&h),up:!!(2&h),drag:!!(4&h),move:!!(8&h),wheel:!!(16&h)}}_equalEvents(h,m,w){if(w){if(h.x!==m.x||h.y!==m.y)return!1}else if(h.col!==m.col||h.row!==m.row)return!1;return h.button===m.button&&h.action===m.action&&h.ctrl===m.ctrl&&h.alt===m.alt&&h.shift===m.shift}};s.CoreMouseService=c=u([g(0,f.IBufferService),g(1,f.ICoreService)],c)},6975:function(l,s,a){var u=this&&this.__decorate||function(c,h,m,w){var C,x=arguments.length,b=x<3?h:w===null?w=Object.getOwnPropertyDescriptor(h,m):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(c,h,m,w);else for(var E=c.length-1;E>=0;E--)(C=c[E])&&(b=(x<3?C(b):x>3?C(h,m,b):C(h,m))||b);return x>3&&b&&Object.defineProperty(h,m,b),b},g=this&&this.__param||function(c,h){return function(m,w){h(m,w,c)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreService=void 0;const f=a(1439),v=a(8460),y=a(844),S=a(2585),_=Object.freeze({insertMode:!1}),p=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let d=s.CoreService=class extends y.Disposable{constructor(c,h,m){super(),this._bufferService=c,this._logService=h,this._optionsService=m,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new v.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new v.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,f.clone)(_),this.decPrivateModes=(0,f.clone)(p)}reset(){this.modes=(0,f.clone)(_),this.decPrivateModes=(0,f.clone)(p)}triggerDataEvent(c,h=!1){if(this._optionsService.rawOptions.disableStdin)return;const m=this._bufferService.buffer;h&&this._optionsService.rawOptions.scrollOnUserInput&&m.ybase!==m.ydisp&&this._onRequestScrollToBottom.fire(),h&&this._onUserInput.fire(),this._logService.debug(`sending data "${c}"`,()=>c.split("").map(w=>w.charCodeAt(0))),this._onData.fire(c)}triggerBinaryEvent(c){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${c}"`,()=>c.split("").map(h=>h.charCodeAt(0))),this._onBinary.fire(c))}};s.CoreService=d=u([g(0,S.IBufferService),g(1,S.ILogService),g(2,S.IOptionsService)],d)},9074:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DecorationService=void 0;const u=a(8055),g=a(8460),f=a(844),v=a(6106);let y=0,S=0;class _ extends f.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new v.SortedList(c=>c==null?void 0:c.marker.line),this._onDecorationRegistered=this.register(new g.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new g.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,f.toDisposable)(()=>this.reset()))}registerDecoration(c){if(c.marker.isDisposed)return;const h=new p(c);if(h){const m=h.marker.onDispose(()=>h.dispose());h.onDispose(()=>{h&&(this._decorations.delete(h)&&this._onDecorationRemoved.fire(h),m.dispose())}),this._decorations.insert(h),this._onDecorationRegistered.fire(h)}return h}reset(){for(const c of this._decorations.values())c.dispose();this._decorations.clear()}*getDecorationsAtCell(c,h,m){var w,C,x;let b=0,E=0;for(const R of this._decorations.getKeyIterator(h))b=(w=R.options.x)!==null&&w!==void 0?w:0,E=b+((C=R.options.width)!==null&&C!==void 0?C:1),c>=b&&c<E&&(!m||((x=R.options.layer)!==null&&x!==void 0?x:"bottom")===m)&&(yield R)}forEachDecorationAtCell(c,h,m,w){this._decorations.forEachByKey(h,C=>{var x,b,E;y=(x=C.options.x)!==null&&x!==void 0?x:0,S=y+((b=C.options.width)!==null&&b!==void 0?b:1),c>=y&&c<S&&(!m||((E=C.options.layer)!==null&&E!==void 0?E:"bottom")===m)&&w(C)})}}s.DecorationService=_;class p extends f.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=u.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=u.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(c){super(),this.options=c,this.onRenderEmitter=this.register(new g.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new g.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=c.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InstantiationService=s.ServiceCollection=void 0;const u=a(2585),g=a(8343);class f{constructor(...y){this._entries=new Map;for(const[S,_]of y)this.set(S,_)}set(y,S){const _=this._entries.get(y);return this._entries.set(y,S),_}forEach(y){for(const[S,_]of this._entries.entries())y(S,_)}has(y){return this._entries.has(y)}get(y){return this._entries.get(y)}}s.ServiceCollection=f,s.InstantiationService=class{constructor(){this._services=new f,this._services.set(u.IInstantiationService,this)}setService(v,y){this._services.set(v,y)}getService(v){return this._services.get(v)}createInstance(v,...y){const S=(0,g.getServiceDependencies)(v).sort((d,c)=>d.index-c.index),_=[];for(const d of S){const c=this._services.get(d.id);if(!c)throw new Error(`[createInstance] ${v.name} depends on UNKNOWN service ${d.id}.`);_.push(c)}const p=S.length>0?S[0].index:y.length;if(y.length!==p)throw new Error(`[createInstance] First service dependency of ${v.name} at position ${p+1} conflicts with ${y.length} static arguments`);return new v(...y,..._)}}},7866:function(l,s,a){var u=this&&this.__decorate||function(p,d,c,h){var m,w=arguments.length,C=w<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,c):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,d,c,h);else for(var x=p.length-1;x>=0;x--)(m=p[x])&&(C=(w<3?m(C):w>3?m(d,c,C):m(d,c))||C);return w>3&&C&&Object.defineProperty(d,c,C),C},g=this&&this.__param||function(p,d){return function(c,h){d(c,h,p)}};Object.defineProperty(s,"__esModule",{value:!0}),s.traceCall=s.setTraceLogger=s.LogService=void 0;const f=a(844),v=a(2585),y={trace:v.LogLevelEnum.TRACE,debug:v.LogLevelEnum.DEBUG,info:v.LogLevelEnum.INFO,warn:v.LogLevelEnum.WARN,error:v.LogLevelEnum.ERROR,off:v.LogLevelEnum.OFF};let S,_=s.LogService=class extends f.Disposable{get logLevel(){return this._logLevel}constructor(p){super(),this._optionsService=p,this._logLevel=v.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),S=this}_updateLogLevel(){this._logLevel=y[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(p){for(let d=0;d<p.length;d++)typeof p[d]=="function"&&(p[d]=p[d]())}_log(p,d,c){this._evalLazyOptionalParams(c),p.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+d,...c)}trace(p,...d){var c,h;this._logLevel<=v.LogLevelEnum.TRACE&&this._log((h=(c=this._optionsService.options.logger)===null||c===void 0?void 0:c.trace.bind(this._optionsService.options.logger))!==null&&h!==void 0?h:console.log,p,d)}debug(p,...d){var c,h;this._logLevel<=v.LogLevelEnum.DEBUG&&this._log((h=(c=this._optionsService.options.logger)===null||c===void 0?void 0:c.debug.bind(this._optionsService.options.logger))!==null&&h!==void 0?h:console.log,p,d)}info(p,...d){var c,h;this._logLevel<=v.LogLevelEnum.INFO&&this._log((h=(c=this._optionsService.options.logger)===null||c===void 0?void 0:c.info.bind(this._optionsService.options.logger))!==null&&h!==void 0?h:console.info,p,d)}warn(p,...d){var c,h;this._logLevel<=v.LogLevelEnum.WARN&&this._log((h=(c=this._optionsService.options.logger)===null||c===void 0?void 0:c.warn.bind(this._optionsService.options.logger))!==null&&h!==void 0?h:console.warn,p,d)}error(p,...d){var c,h;this._logLevel<=v.LogLevelEnum.ERROR&&this._log((h=(c=this._optionsService.options.logger)===null||c===void 0?void 0:c.error.bind(this._optionsService.options.logger))!==null&&h!==void 0?h:console.error,p,d)}};s.LogService=_=u([g(0,v.IOptionsService)],_),s.setTraceLogger=function(p){S=p},s.traceCall=function(p,d,c){if(typeof c.value!="function")throw new Error("not supported");const h=c.value;c.value=function(...m){if(S.logLevel!==v.LogLevelEnum.TRACE)return h.apply(this,m);S.trace(`GlyphRenderer#${h.name}(${m.map(C=>JSON.stringify(C)).join(", ")})`);const w=h.apply(this,m);return S.trace(`GlyphRenderer#${h.name} return`,w),w}}},7302:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OptionsService=s.DEFAULT_OPTIONS=void 0;const u=a(8460),g=a(844),f=a(6114);s.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:f.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const v=["normal","bold","100","200","300","400","500","600","700","800","900"];class y extends g.Disposable{constructor(_){super(),this._onOptionChange=this.register(new u.EventEmitter),this.onOptionChange=this._onOptionChange.event;const p=Object.assign({},s.DEFAULT_OPTIONS);for(const d in _)if(d in p)try{const c=_[d];p[d]=this._sanitizeAndValidateOption(d,c)}catch(c){console.error(c)}this.rawOptions=p,this.options=Object.assign({},p),this._setupOptions()}onSpecificOptionChange(_,p){return this.onOptionChange(d=>{d===_&&p(this.rawOptions[_])})}onMultipleOptionChange(_,p){return this.onOptionChange(d=>{_.indexOf(d)!==-1&&p()})}_setupOptions(){const _=d=>{if(!(d in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);return this.rawOptions[d]},p=(d,c)=>{if(!(d in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);c=this._sanitizeAndValidateOption(d,c),this.rawOptions[d]!==c&&(this.rawOptions[d]=c,this._onOptionChange.fire(d))};for(const d in this.rawOptions){const c={get:_.bind(this,d),set:p.bind(this,d)};Object.defineProperty(this.options,d,c)}}_sanitizeAndValidateOption(_,p){switch(_){case"cursorStyle":if(p||(p=s.DEFAULT_OPTIONS[_]),!function(d){return d==="block"||d==="underline"||d==="bar"}(p))throw new Error(`"${p}" is not a valid value for ${_}`);break;case"wordSeparator":p||(p=s.DEFAULT_OPTIONS[_]);break;case"fontWeight":case"fontWeightBold":if(typeof p=="number"&&1<=p&&p<=1e3)break;p=v.includes(p)?p:s.DEFAULT_OPTIONS[_];break;case"cursorWidth":p=Math.floor(p);case"lineHeight":case"tabStopWidth":if(p<1)throw new Error(`${_} cannot be less than 1, value: ${p}`);break;case"minimumContrastRatio":p=Math.max(1,Math.min(21,Math.round(10*p)/10));break;case"scrollback":if((p=Math.min(p,4294967295))<0)throw new Error(`${_} cannot be less than 0, value: ${p}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(p<=0)throw new Error(`${_} cannot be less than or equal to 0, value: ${p}`);break;case"rows":case"cols":if(!p&&p!==0)throw new Error(`${_} must be numeric, value: ${p}`);break;case"windowsPty":p=p??{}}return p}}s.OptionsService=y},2660:function(l,s,a){var u=this&&this.__decorate||function(y,S,_,p){var d,c=arguments.length,h=c<3?S:p===null?p=Object.getOwnPropertyDescriptor(S,_):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(y,S,_,p);else for(var m=y.length-1;m>=0;m--)(d=y[m])&&(h=(c<3?d(h):c>3?d(S,_,h):d(S,_))||h);return c>3&&h&&Object.defineProperty(S,_,h),h},g=this&&this.__param||function(y,S){return function(_,p){S(_,p,y)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkService=void 0;const f=a(2585);let v=s.OscLinkService=class{constructor(y){this._bufferService=y,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(y){const S=this._bufferService.buffer;if(y.id===void 0){const m=S.addMarker(S.ybase+S.y),w={data:y,id:this._nextId++,lines:[m]};return m.onDispose(()=>this._removeMarkerFromLink(w,m)),this._dataByLinkId.set(w.id,w),w.id}const _=y,p=this._getEntryIdKey(_),d=this._entriesWithId.get(p);if(d)return this.addLineToLink(d.id,S.ybase+S.y),d.id;const c=S.addMarker(S.ybase+S.y),h={id:this._nextId++,key:this._getEntryIdKey(_),data:_,lines:[c]};return c.onDispose(()=>this._removeMarkerFromLink(h,c)),this._entriesWithId.set(h.key,h),this._dataByLinkId.set(h.id,h),h.id}addLineToLink(y,S){const _=this._dataByLinkId.get(y);if(_&&_.lines.every(p=>p.line!==S)){const p=this._bufferService.buffer.addMarker(S);_.lines.push(p),p.onDispose(()=>this._removeMarkerFromLink(_,p))}}getLinkData(y){var S;return(S=this._dataByLinkId.get(y))===null||S===void 0?void 0:S.data}_getEntryIdKey(y){return`${y.id};;${y.uri}`}_removeMarkerFromLink(y,S){const _=y.lines.indexOf(S);_!==-1&&(y.lines.splice(_,1),y.lines.length===0&&(y.data.id!==void 0&&this._entriesWithId.delete(y.key),this._dataByLinkId.delete(y.id)))}};s.OscLinkService=v=u([g(0,f.IBufferService)],v)},8343:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDecorator=s.getServiceDependencies=s.serviceRegistry=void 0;const a="di$target",u="di$dependencies";s.serviceRegistry=new Map,s.getServiceDependencies=function(g){return g[u]||[]},s.createDecorator=function(g){if(s.serviceRegistry.has(g))return s.serviceRegistry.get(g);const f=function(v,y,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(_,p,d){p[a]===p?p[u].push({id:_,index:d}):(p[u]=[{id:_,index:d}],p[a]=p)})(f,v,S)};return f.toString=()=>g,s.serviceRegistry.set(g,f),f}},2585:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IDecorationService=s.IUnicodeService=s.IOscLinkService=s.IOptionsService=s.ILogService=s.LogLevelEnum=s.IInstantiationService=s.ICharsetService=s.ICoreService=s.ICoreMouseService=s.IBufferService=void 0;const u=a(8343);var g;s.IBufferService=(0,u.createDecorator)("BufferService"),s.ICoreMouseService=(0,u.createDecorator)("CoreMouseService"),s.ICoreService=(0,u.createDecorator)("CoreService"),s.ICharsetService=(0,u.createDecorator)("CharsetService"),s.IInstantiationService=(0,u.createDecorator)("InstantiationService"),function(f){f[f.TRACE=0]="TRACE",f[f.DEBUG=1]="DEBUG",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.OFF=5]="OFF"}(g||(s.LogLevelEnum=g={})),s.ILogService=(0,u.createDecorator)("LogService"),s.IOptionsService=(0,u.createDecorator)("OptionsService"),s.IOscLinkService=(0,u.createDecorator)("OscLinkService"),s.IUnicodeService=(0,u.createDecorator)("UnicodeService"),s.IDecorationService=(0,u.createDecorator)("DecorationService")},1480:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeService=void 0;const u=a(8460),g=a(225);s.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new u.EventEmitter,this.onChange=this._onChange.event;const f=new g.UnicodeV6;this.register(f),this._active=f.version,this._activeProvider=f}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(f){if(!this._providers[f])throw new Error(`unknown Unicode version "${f}"`);this._active=f,this._activeProvider=this._providers[f],this._onChange.fire(f)}register(f){this._providers[f.version]=f}wcwidth(f){return this._activeProvider.wcwidth(f)}getStringCellWidth(f){let v=0;const y=f.length;for(let S=0;S<y;++S){let _=f.charCodeAt(S);if(55296<=_&&_<=56319){if(++S>=y)return v+this.wcwidth(_);const p=f.charCodeAt(S);56320<=p&&p<=57343?_=1024*(_-55296)+p-56320+65536:v+=this.wcwidth(p)}v+=this.wcwidth(_)}return v}}}},n={};function i(l){var s=n[l];if(s!==void 0)return s.exports;var a=n[l]={exports:{}};return r[l].call(a.exports,a,a.exports,i),a.exports}var o={};return(()=>{var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const s=i(9042),a=i(3236),u=i(844),g=i(5741),f=i(8285),v=i(7975),y=i(7090),S=["cols","rows"];class _ extends u.Disposable{constructor(d){super(),this._core=this.register(new a.Terminal(d)),this._addonManager=this.register(new g.AddonManager),this._publicOptions=Object.assign({},this._core.options);const c=m=>this._core.options[m],h=(m,w)=>{this._checkReadonlyOptions(m),this._core.options[m]=w};for(const m in this._core.options){const w={get:c.bind(this,m),set:h.bind(this,m)};Object.defineProperty(this._publicOptions,m,w)}}_checkReadonlyOptions(d){if(S.includes(d))throw new Error(`Option "${d}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new v.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new y.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new f.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const d=this._core.coreService.decPrivateModes;let c="none";switch(this._core.coreMouseService.activeProtocol){case"X10":c="x10";break;case"VT200":c="vt200";break;case"DRAG":c="drag";break;case"ANY":c="any"}return{applicationCursorKeysMode:d.applicationCursorKeys,applicationKeypadMode:d.applicationKeypad,bracketedPasteMode:d.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:c,originMode:d.origin,reverseWraparoundMode:d.reverseWraparound,sendFocusMode:d.sendFocus,wraparoundMode:d.wraparound}}get options(){return this._publicOptions}set options(d){for(const c in d)this._publicOptions[c]=d[c]}blur(){this._core.blur()}focus(){this._core.focus()}resize(d,c){this._verifyIntegers(d,c),this._core.resize(d,c)}open(d){this._core.open(d)}attachCustomKeyEventHandler(d){this._core.attachCustomKeyEventHandler(d)}registerLinkProvider(d){return this._core.registerLinkProvider(d)}registerCharacterJoiner(d){return this._checkProposedApi(),this._core.registerCharacterJoiner(d)}deregisterCharacterJoiner(d){this._checkProposedApi(),this._core.deregisterCharacterJoiner(d)}registerMarker(d=0){return this._verifyIntegers(d),this._core.registerMarker(d)}registerDecoration(d){var c,h,m;return this._checkProposedApi(),this._verifyPositiveIntegers((c=d.x)!==null&&c!==void 0?c:0,(h=d.width)!==null&&h!==void 0?h:0,(m=d.height)!==null&&m!==void 0?m:0),this._core.registerDecoration(d)}hasSelection(){return this._core.hasSelection()}select(d,c,h){this._verifyIntegers(d,c,h),this._core.select(d,c,h)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(d,c){this._verifyIntegers(d,c),this._core.selectLines(d,c)}dispose(){super.dispose()}scrollLines(d){this._verifyIntegers(d),this._core.scrollLines(d)}scrollPages(d){this._verifyIntegers(d),this._core.scrollPages(d)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(d){this._verifyIntegers(d),this._core.scrollToLine(d)}clear(){this._core.clear()}write(d,c){this._core.write(d,c)}writeln(d,c){this._core.write(d),this._core.write(`\r
`,c)}paste(d){this._core.paste(d)}refresh(d,c){this._verifyIntegers(d,c),this._core.refresh(d,c)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(d){this._addonManager.loadAddon(this,d)}static get strings(){return s}_verifyIntegers(...d){for(const c of d)if(c===1/0||isNaN(c)||c%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...d){for(const c of d)if(c&&(c===1/0||isNaN(c)||c%1!=0||c<0))throw new Error("This API only accepts positive integers")}}l.Terminal=_})(),o})())})(Im);var qk=Im.exports,Nm={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={};return(()=>{var n=r;Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0,n.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const o=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(o._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,o=i._renderService.dimensions;if(o.css.cell.width===0||o.css.cell.height===0)return;const l=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,s=window.getComputedStyle(this._terminal.element.parentElement),a=parseInt(s.getPropertyValue("height")),u=Math.max(0,parseInt(s.getPropertyValue("width"))),g=window.getComputedStyle(this._terminal.element),f=a-(parseInt(g.getPropertyValue("padding-top"))+parseInt(g.getPropertyValue("padding-bottom"))),v=u-(parseInt(g.getPropertyValue("padding-right"))+parseInt(g.getPropertyValue("padding-left")))-l;return{cols:Math.max(2,Math.floor(v/o.css.cell.width)),rows:Math.max(1,Math.floor(f/o.css.cell.height))}}}})(),r})())})(Nm);var Xk=Nm.exports,Fm={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={6:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LinkComputer=s.WebLinkProvider=void 0,s.WebLinkProvider=class{constructor(u,g,f,v={}){this._terminal=u,this._regex=g,this._handler=f,this._options=v}provideLinks(u,g){const f=a.computeLink(u,this._regex,this._terminal,this._handler);g(this._addCallbacks(f))}_addCallbacks(u){return u.map(g=>(g.leave=this._options.leave,g.hover=(f,v)=>{if(this._options.hover){const{range:y}=g;this._options.hover(f,v,y)}},g))}};class a{static computeLink(g,f,v,y){const S=new RegExp(f.source,(f.flags||"")+"g"),[_,p]=a._getWindowedLineStrings(g-1,v),d=_.join("");let c;const h=[];for(;c=S.exec(d);){const m=c[0];try{const R=new URL(m),O=decodeURI(R.toString());if(m!==O&&m+"/"!==O)continue}catch{continue}const[w,C]=a._mapStrIdx(v,p,0,c.index),[x,b]=a._mapStrIdx(v,w,C,m.length);if(w===-1||C===-1||x===-1||b===-1)continue;const E={start:{x:C+1,y:w+1},end:{x:b,y:x+1}};h.push({range:E,text:m,activate:y})}return h}static _getWindowedLineStrings(g,f){let v,y=g,S=g,_=0,p="";const d=[];if(v=f.buffer.active.getLine(g)){const c=v.translateToString(!0);if(v.isWrapped&&c[0]!==" "){for(_=0;(v=f.buffer.active.getLine(--y))&&_<2048&&(p=v.translateToString(!0),_+=p.length,d.push(p),v.isWrapped&&p.indexOf(" ")===-1););d.reverse()}for(d.push(c),_=0;(v=f.buffer.active.getLine(++S))&&v.isWrapped&&_<2048&&(p=v.translateToString(!0),_+=p.length,d.push(p),p.indexOf(" ")===-1););}return[d,y]}static _mapStrIdx(g,f,v,y){const S=g.buffer.active,_=S.getNullCell();let p=v;for(;y;){const d=S.getLine(f);if(!d)return[-1,-1];for(let c=p;c<d.length;++c){d.getCell(c,_);const h=_.getChars();if(_.getWidth()&&(y-=h.length||1,c===d.length-1&&h==="")){const m=S.getLine(f+1);m&&m.isWrapped&&(m.getCell(0,_),_.getWidth()===2&&(y+=1))}if(y<0)return[f,c]}f++,p=0}return[f,p]}}s.LinkComputer=a}},n={};function i(l){var s=n[l];if(s!==void 0)return s.exports;var a=n[l]={exports:{}};return r[l](a,a.exports,i),a.exports}var o={};return(()=>{var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.WebLinksAddon=void 0;const s=i(6),a=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function u(g,f){const v=window.open();if(v){try{v.opener=null}catch{}v.location.href=f}else console.warn("Opening link blocked as opener could not be cleared")}l.WebLinksAddon=class{constructor(g=u,f={}){this._handler=g,this._options=f}activate(g){this._terminal=g;const f=this._options,v=f.urlRegex||a;this._linkProvider=this._terminal.registerLinkProvider(new s.WebLinkProvider(this._terminal,v,this._handler,f))}dispose(){var g;(g=this._linkProvider)===null||g===void 0||g.dispose()}}})(),o})())})(Fm);var Yk=Fm.exports,jm={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(n){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,l={},s={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function c(h){return h instanceof a?new a(h.type,c(h.content),h.alias):Array.isArray(h)?h.map(c):h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(c){return Object.prototype.toString.call(c).slice(8,-1)},objId:function(c){return c.__id||Object.defineProperty(c,"__id",{value:++o}),c.__id},clone:function c(h,m){m=m||{};var w,C;switch(s.util.type(h)){case"Object":if(C=s.util.objId(h),m[C])return m[C];w={},m[C]=w;for(var x in h)h.hasOwnProperty(x)&&(w[x]=c(h[x],m));return w;case"Array":return C=s.util.objId(h),m[C]?m[C]:(w=[],m[C]=w,h.forEach(function(b,E){w[E]=c(b,m)}),w);default:return h}},getLanguage:function(c){for(;c;){var h=i.exec(c.className);if(h)return h[1].toLowerCase();c=c.parentElement}return"none"},setLanguage:function(c,h){c.className=c.className.replace(RegExp(i,"gi"),""),c.classList.add("language-"+h)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(w){var c=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(w.stack)||[])[1];if(c){var h=document.getElementsByTagName("script");for(var m in h)if(h[m].src==c)return h[m]}return null}},isActive:function(c,h,m){for(var w="no-"+h;c;){var C=c.classList;if(C.contains(h))return!0;if(C.contains(w))return!1;c=c.parentElement}return!!m}},languages:{plain:l,plaintext:l,text:l,txt:l,extend:function(c,h){var m=s.util.clone(s.languages[c]);for(var w in h)m[w]=h[w];return m},insertBefore:function(c,h,m,w){w=w||s.languages;var C=w[c],x={};for(var b in C)if(C.hasOwnProperty(b)){if(b==h)for(var E in m)m.hasOwnProperty(E)&&(x[E]=m[E]);m.hasOwnProperty(b)||(x[b]=C[b])}var R=w[c];return w[c]=x,s.languages.DFS(s.languages,function(O,T){T===R&&O!=c&&(this[O]=x)}),x},DFS:function c(h,m,w,C){C=C||{};var x=s.util.objId;for(var b in h)if(h.hasOwnProperty(b)){m.call(h,b,h[b],w||b);var E=h[b],R=s.util.type(E);R==="Object"&&!C[x(E)]?(C[x(E)]=!0,c(E,m,null,C)):R==="Array"&&!C[x(E)]&&(C[x(E)]=!0,c(E,m,b,C))}}},plugins:{},highlightAll:function(c,h){s.highlightAllUnder(document,c,h)},highlightAllUnder:function(c,h,m){var w={callback:m,container:c,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};s.hooks.run("before-highlightall",w),w.elements=Array.prototype.slice.apply(w.container.querySelectorAll(w.selector)),s.hooks.run("before-all-elements-highlight",w);for(var C=0,x;x=w.elements[C++];)s.highlightElement(x,h===!0,w.callback)},highlightElement:function(c,h,m){var w=s.util.getLanguage(c),C=s.languages[w];s.util.setLanguage(c,w);var x=c.parentElement;x&&x.nodeName.toLowerCase()==="pre"&&s.util.setLanguage(x,w);var b=c.textContent,E={element:c,language:w,grammar:C,code:b};function R(T){E.highlightedCode=T,s.hooks.run("before-insert",E),E.element.innerHTML=E.highlightedCode,s.hooks.run("after-highlight",E),s.hooks.run("complete",E),m&&m.call(E.element)}if(s.hooks.run("before-sanity-check",E),x=E.element.parentElement,x&&x.nodeName.toLowerCase()==="pre"&&!x.hasAttribute("tabindex")&&x.setAttribute("tabindex","0"),!E.code){s.hooks.run("complete",E),m&&m.call(E.element);return}if(s.hooks.run("before-highlight",E),!E.grammar){R(s.util.encode(E.code));return}if(h&&n.Worker){var O=new Worker(s.filename);O.onmessage=function(T){R(T.data)},O.postMessage(JSON.stringify({language:E.language,code:E.code,immediateClose:!0}))}else R(s.highlight(E.code,E.grammar,E.language))},highlight:function(c,h,m){var w={code:c,grammar:h,language:m};if(s.hooks.run("before-tokenize",w),!w.grammar)throw new Error('The language "'+w.language+'" has no grammar.');return w.tokens=s.tokenize(w.code,w.grammar),s.hooks.run("after-tokenize",w),a.stringify(s.util.encode(w.tokens),w.language)},tokenize:function(c,h){var m=h.rest;if(m){for(var w in m)h[w]=m[w];delete h.rest}var C=new f;return v(C,C.head,c),g(c,C,h,C.head,0),S(C)},hooks:{all:{},add:function(c,h){var m=s.hooks.all;m[c]=m[c]||[],m[c].push(h)},run:function(c,h){var m=s.hooks.all[c];if(!(!m||!m.length))for(var w=0,C;C=m[w++];)C(h)}},Token:a};n.Prism=s;function a(c,h,m,w){this.type=c,this.content=h,this.alias=m,this.length=(w||"").length|0}a.stringify=function c(h,m){if(typeof h=="string")return h;if(Array.isArray(h)){var w="";return h.forEach(function(R){w+=c(R,m)}),w}var C={type:h.type,content:c(h.content,m),tag:"span",classes:["token",h.type],attributes:{},language:m},x=h.alias;x&&(Array.isArray(x)?Array.prototype.push.apply(C.classes,x):C.classes.push(x)),s.hooks.run("wrap",C);var b="";for(var E in C.attributes)b+=" "+E+'="'+(C.attributes[E]||"").replace(/"/g,"&quot;")+'"';return"<"+C.tag+' class="'+C.classes.join(" ")+'"'+b+">"+C.content+"</"+C.tag+">"};function u(c,h,m,w){c.lastIndex=h;var C=c.exec(m);if(C&&w&&C[1]){var x=C[1].length;C.index+=x,C[0]=C[0].slice(x)}return C}function g(c,h,m,w,C,x){for(var b in m)if(!(!m.hasOwnProperty(b)||!m[b])){var E=m[b];E=Array.isArray(E)?E:[E];for(var R=0;R<E.length;++R){if(x&&x.cause==b+","+R)return;var O=E[R],T=O.inside,I=!!O.lookbehind,F=!!O.greedy,z=O.alias;if(F&&!O.pattern.global){var j=O.pattern.toString().match(/[imsuy]*$/)[0];O.pattern=RegExp(O.pattern.source,j+"g")}for(var H=O.pattern||O,k=w.next,A=C;k!==h.tail&&!(x&&A>=x.reach);A+=k.value.length,k=k.next){var M=k.value;if(h.length>c.length)return;if(!(M instanceof a)){var B=1,W;if(F){if(W=u(H,A,c,I),!W||W.index>=c.length)break;var ee=W.index,K=W.index+W[0].length,q=A;for(q+=k.value.length;ee>=q;)k=k.next,q+=k.value.length;if(q-=k.value.length,A=q,k.value instanceof a)continue;for(var X=k;X!==h.tail&&(q<K||typeof X.value=="string");X=X.next)B++,q+=X.value.length;B--,M=c.slice(A,q),W.index-=A}else if(W=u(H,0,M,I),!W)continue;var ee=W.index,P=W[0],$=M.slice(0,ee),U=M.slice(ee+P.length),V=A+M.length;x&&V>x.reach&&(x.reach=V);var Q=k.prev;$&&(Q=v(h,Q,$),A+=$.length),y(h,Q,B);var Y=new a(b,T?s.tokenize(P,T):P,z,P);if(k=v(h,Q,Y),U&&v(h,k,U),B>1){var re={cause:b+","+R,reach:V};g(c,h,m,k.prev,A,re),x&&re.reach>x.reach&&(x.reach=re.reach)}}}}}}function f(){var c={value:null,prev:null,next:null},h={value:null,prev:c,next:null};c.next=h,this.head=c,this.tail=h,this.length=0}function v(c,h,m){var w=h.next,C={value:m,prev:h,next:w};return h.next=C,w.prev=C,c.length++,C}function y(c,h,m){for(var w=h.next,C=0;C<m&&w!==c.tail;C++)w=w.next;h.next=w,w.prev=h,c.length-=C}function S(c){for(var h=[],m=c.head.next;m!==c.tail;)h.push(m.value),m=m.next;return h}if(!n.document)return n.addEventListener&&(s.disableWorkerMessageHandler||n.addEventListener("message",function(c){var h=JSON.parse(c.data),m=h.language,w=h.code,C=h.immediateClose;n.postMessage(s.highlight(w,s.languages[m],m)),C&&n.close()},!1)),s;var _=s.util.currentScript();_&&(s.filename=_.src,_.hasAttribute("data-manual")&&(s.manual=!0));function p(){s.manual||s.highlightAll()}if(!s.manual){var d=document.readyState;d==="loading"||d==="interactive"&&_&&_.defer?document.addEventListener("DOMContentLoaded",p):window.requestAnimationFrame?window.requestAnimationFrame(p):window.setTimeout(p,16)}return s}(t);e.exports&&(e.exports=r),typeof at<"u"&&(at.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(i,o){var l={};l["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[o]},l.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:l}};s["language-"+o]={pattern:/[\s\S]+/,inside:r.languages[o]};var a={};a[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:s},r.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(n,i){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:r.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(n){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var o=n.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,function(){if(typeof r>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading…",i=function(_,p){return"✖ Error "+_+" while fetching file: "+p},o="✖ Error: File does not exist or is empty",l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},s="data-src-status",a="loading",u="loaded",g="failed",f="pre[data-src]:not(["+s+'="'+u+'"]):not(['+s+'="'+a+'"])';function v(_,p,d){var c=new XMLHttpRequest;c.open("GET",_,!0),c.onreadystatechange=function(){c.readyState==4&&(c.status<400&&c.responseText?p(c.responseText):c.status>=400?d(i(c.status,c.statusText)):d(o))},c.send(null)}function y(_){var p=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(_||"");if(p){var d=Number(p[1]),c=p[2],h=p[3];return c?h?[d,Number(h)]:[d,void 0]:[d,d]}}r.hooks.add("before-highlightall",function(_){_.selector+=", "+f}),r.hooks.add("before-sanity-check",function(_){var p=_.element;if(p.matches(f)){_.code="",p.setAttribute(s,a);var d=p.appendChild(document.createElement("CODE"));d.textContent=n;var c=p.getAttribute("data-src"),h=_.language;if(h==="none"){var m=(/\.(\w+)$/.exec(c)||[,"none"])[1];h=l[m]||m}r.util.setLanguage(d,h),r.util.setLanguage(p,h);var w=r.plugins.autoloader;w&&w.loadLanguages(h),v(c,function(C){p.setAttribute(s,u);var x=y(p.getAttribute("data-range"));if(x){var b=C.split(/\r\n?|\n/g),E=x[0],R=x[1]==null?b.length:x[1];E<0&&(E+=b.length),E=Math.max(0,Math.min(E-1,b.length)),R<0&&(R+=b.length),R=Math.max(0,Math.min(R,b.length)),C=b.slice(E,R).join(`
`),p.hasAttribute("data-start")||p.setAttribute("data-start",String(E+1))}d.textContent=C,r.highlightElement(d)},function(C){p.setAttribute(s,g),d.textContent=C})}}),r.plugins.fileHighlight={highlight:function(p){for(var d=(p||document).querySelectorAll(f),c=0,h;h=d[c++];)r.highlightElement(h)}};var S=!1;r.fileHighlight=function(){S||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),S=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(jm);var Jk=jm.exports;const qf=Fs(Jk);(function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},n={bash:r,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:n},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:n},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:n.entity}}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:n.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=e.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=n.variable[1].inside,l=0;l<i.length;l++)o[i[l]]=e.languages.bash[i[l]];e.languages.sh=e.languages.bash,e.languages.shell=e.languages.bash})(Prism);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;(function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript})(Prism);(function(e){var t=e.util.clone(e.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,n=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(a,u){return a=a.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return n}).replace(/<SPREAD>/g,function(){return i}),RegExp(a,u)}i=o(i).source,e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=t.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx}}},e.languages.jsx.tag);var l=function(a){return a?typeof a=="string"?a:typeof a.content=="string"?a.content:a.content.map(l).join(""):""},s=function(a){for(var u=[],g=0;g<a.length;g++){var f=a[g],v=!1;if(typeof f!="string"&&(f.type==="tag"&&f.content[0]&&f.content[0].type==="tag"?f.content[0].content[0].content==="</"?u.length>0&&u[u.length-1].tagName===l(f.content[0].content[1])&&u.pop():f.content[f.content.length-1].content==="/>"||u.push({tagName:l(f.content[0].content[1]),openedBraces:0}):u.length>0&&f.type==="punctuation"&&f.content==="{"?u[u.length-1].openedBraces++:u.length>0&&u[u.length-1].openedBraces>0&&f.type==="punctuation"&&f.content==="}"?u[u.length-1].openedBraces--:v=!0),(v||typeof f=="string")&&u.length>0&&u[u.length-1].openedBraces===0){var y=l(f);g<a.length-1&&(typeof a[g+1]=="string"||a[g+1].type==="plain-text")&&(y+=l(a[g+1]),a.splice(g+1,1)),g>0&&(typeof a[g-1]=="string"||a[g-1].type==="plain-text")&&(y=l(a[g-1])+y,a.splice(g-1,1),g--),a[g]=new e.Token("plain-text",y,null,y)}f.content&&typeof f.content!="string"&&s(f.content)}};e.hooks.add("after-tokenize",function(a){a.language!=="jsx"&&a.language!=="tsx"||s(a.tokens)})})(Prism);(function(e){var t=e.util.clone(e.languages.typescript);e.languages.tsx=e.languages.extend("jsx",t),delete e.languages.tsx.parameter,delete e.languages.tsx["literal-property"];var r=e.languages.tsx.tag;r.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+r.pattern.source+")",r.pattern.flags),r.lookbehind=!0})(Prism);Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;const Zk=()=>{const e=D.useRef(null),t=D.useRef(),r=D.useRef(new Xk.FitAddon),[n,i]=D.useState(""),[o,l]=D.useState("~"),[s,a]=D.useState([]),[u,g]=D.useState(-1),{user:f}=vt(),[v,y]=D.useState({"/":{type:"directory",permissions:"drwxr-xr-x",owner:"root",size:4096,modified:new Date},"/home":{type:"directory",permissions:"drwxr-xr-x",owner:"root",size:4096,modified:new Date},"~/Documents":{type:"directory",permissions:"drwxr-xr-x",owner:"user",size:4096,modified:new Date},"~/example.js":{type:"file",content:'console.log("Hello World!");',permissions:"-rw-r--r--",owner:"user",size:28,modified:new Date,language:"javascript"}}),S=d=>d.startsWith("/")?d:o==="~"?`~/${d}`:`${o}/${d}`;D.useEffect(()=>{if(e.current&&!t.current){const d=new qk.Terminal({theme:{background:"#1a1b1e",foreground:"#ffffff",cursor:"#ffffff",black:"#000000",red:"#e06c75",green:"#98c379",yellow:"#d19a66",blue:"#61afef",magenta:"#c678dd",cyan:"#56b6c2",white:"#ffffff"},fontFamily:'Menlo, Monaco, "Courier New", monospace',fontSize:14,cursorBlink:!0,cursorStyle:"block"});d.loadAddon(r.current),d.loadAddon(new Yk.WebLinksAddon),d.open(e.current),r.current.fit(),d.write(`Welcome to Enhanced Terminal v2.0.0\r
`),d.write(`${(f==null?void 0:f.email)||"user"}@localhost:${o}$ `),d.onKey(({key:c,domEvent:h})=>{const m=c;h.keyCode===13?(d.write(`\r
`),p(n),i(""),d.write(`${(f==null?void 0:f.email)||"user"}@localhost:${o}$ `)):h.keyCode===8?n.length>0&&(d.write("\b \b"),i(w=>w.slice(0,-1))):!h.ctrlKey&&!h.altKey&&(d.write(m),i(w=>w+m))}),t.current=d,window.addEventListener("resize",()=>{r.current.fit()})}return()=>{var d;(d=t.current)==null||d.dispose()}},[]);const _=(d,c=!1,h="bash")=>{if(t.current)if(c){const w=qf.highlight(d,qf.languages[h],h).replace(/<span class="token ([^"]+)">/g,"\x1B[32m").replace(/<span class="token ([^"]+)">/g,"\x1B[33m").replace(/<\/span>/g,"\x1B[0m");t.current.writeln(w)}else t.current.writeln(d)},p=d=>{var m;a(w=>[...w,d]),g(-1);const c=d.split(" "),h=c[0];switch(h){case"clear":(m=t.current)==null||m.clear();break;case"node":if(c[1]){const E=v[S(c[1])];if((E==null?void 0:E.type)==="file"&&E.content)try{const R=new Function(`return ${E.content}`)();_(String(R))}catch(R){R instanceof Error?_(`Error: ${R.message}`,!1):_("An unknown error occurred",!1)}}else _("Node.js REPL (press Ctrl+C to exit)",!1);break;case"cat":const w=S(c[1]||""),C=v[w];(C==null?void 0:C.type)==="file"?_(C.content||"",!0,C.language||"text"):_(`cat: ${c[1]}: No such file`,!1);break;case"edit":const x=S(c[1]||""),b=v[x];(b==null?void 0:b.type)==="file"?_("Opening editor...",!1):_(`edit: ${c[1]}: No such file`,!1);break;default:_(`Command not found: ${h}`,!1)}};return L.jsx("div",{className:"h-full bg-[#1a1b1e] text-white",children:L.jsx("div",{ref:e,className:"h-full"})})},Qk=()=>{const[e,t]=D.useState(""),[r,n]=D.useState("untitled.txt"),[i,o]=D.useState(!1),l=()=>{o(!1),console.log("Saving file:",r,e)},s=a=>{t(a.target.value),o(!0)};return L.jsxs("div",{className:"h-full flex flex-col bg-gray-900",children:[L.jsxs("div",{className:"border-b border-gray-800 p-2 flex items-center space-x-4",children:[L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("button",{onClick:l,className:"p-1.5 hover:bg-gray-800 rounded transition-colors group",title:"Save (⌘S)",children:L.jsx(tw,{size:18,className:"text-gray-400 group-hover:text-white"})}),L.jsx("button",{className:"p-1.5 hover:bg-gray-800 rounded transition-colors group",title:"New File (⌘N)",children:L.jsx(Wy,{size:18,className:"text-gray-400 group-hover:text-white"})}),L.jsx("button",{className:"p-1.5 hover:bg-gray-800 rounded transition-colors group",title:"Open (⌘O)",children:L.jsx(Uy,{size:18,className:"text-gray-400 group-hover:text-white"})})]}),L.jsx("input",{type:"text",value:r,onChange:a=>n(a.target.value),className:"px-2 py-1 bg-gray-800 rounded text-sm text-white focus:ring-1 focus:ring-blue-500 outline-none"}),i&&L.jsx("span",{className:"text-xs text-gray-500",children:"Unsaved changes"})]}),L.jsx("textarea",{value:e,onChange:s,className:"flex-1 bg-gray-900 text-white p-4 resize-none outline-none font-mono",placeholder:"Start typing..."})]})},e3=()=>{const[e,t]=D.useState("grid"),[r,n]=D.useState(["Home"]),[i,o]=D.useState([{id:"1",name:"Documents",type:"folder",modified:"2024-03-20"},{id:"2",name:"Downloads",type:"folder",modified:"2024-03-19"},{id:"3",name:"Pictures",type:"folder",modified:"2024-03-18"},{id:"4",name:"notes.txt",type:"file",size:"2.3 KB",modified:"2024-03-17"},{id:"5",name:"report.pdf",type:"file",size:"1.5 MB",modified:"2024-03-16"}]);return L.jsxs("div",{className:"h-full flex flex-col bg-gray-900",children:[L.jsxs("div",{className:"border-b border-gray-800 p-2 flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("button",{onClick:()=>n(l=>l.slice(0,-1)),disabled:r.length===1,className:"p-1 hover:bg-gray-800 rounded disabled:opacity-50",children:"←"}),L.jsx("div",{className:"flex items-center text-gray-400 text-sm",children:r.map((l,s)=>L.jsxs(N.Fragment,{children:[s>0&&L.jsx(jy,{size:16}),L.jsx("span",{className:"hover:text-white cursor-pointer",children:l})]},s))})]}),L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("button",{onClick:()=>t("grid"),className:`p-1.5 rounded ${e==="grid"?"bg-gray-800":"hover:bg-gray-800"}`,children:L.jsx(Gy,{size:18,className:"text-gray-400"})}),L.jsx("button",{onClick:()=>t("list"),className:`p-1.5 rounded ${e==="list"?"bg-gray-800":"hover:bg-gray-800"}`,children:L.jsx(qy,{size:18,className:"text-gray-400"})})]})]}),L.jsx("div",{className:"flex-1 p-4 overflow-auto",children:e==="grid"?L.jsx("div",{className:"grid grid-cols-4 gap-4",children:i.map(l=>L.jsxs("div",{className:"flex flex-col items-center p-2 rounded hover:bg-gray-800 cursor-pointer",children:[l.type==="folder"?L.jsx(Jc,{size:48,className:"text-blue-400 mb-2"}):L.jsx(Xd,{size:48,className:"text-gray-400 mb-2"}),L.jsx("span",{className:"text-sm text-white text-center",children:l.name})]},l.id))}):L.jsxs("table",{className:"w-full text-sm text-gray-400",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-left border-b border-gray-800",children:[L.jsx("th",{className:"pb-2",children:"Name"}),L.jsx("th",{className:"pb-2",children:"Size"}),L.jsx("th",{className:"pb-2",children:"Modified"})]})}),L.jsx("tbody",{children:i.map(l=>L.jsxs("tr",{className:"hover:bg-gray-800",children:[L.jsxs("td",{className:"py-2 flex items-center",children:[l.type==="folder"?L.jsx(Jc,{size:18,className:"text-blue-400 mr-2"}):L.jsx(Xd,{size:18,className:"text-gray-400 mr-2"}),l.name]}),L.jsx("td",{children:l.size||"--"}),L.jsx("td",{children:l.modified})]},l.id))})]})})]})},t3=()=>{const{userPreferences:e,setBackground:t}=vt(),[r,n]=D.useState(e.background_url),i=["https://images.unsplash.com/photo-1520769669658-f07657f5a307","https://images.unsplash.com/photo-1476820865390-c52aeebb9891","https://images.unsplash.com/photo-1470770841072-f978cf4d019e","https://images.unsplash.com/photo-1481697943534-ea55b5ce970b"],o=async l=>{n(l),await t(l)};return L.jsxs("div",{className:"p-6 space-y-6",children:[L.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Appearance"}),L.jsxs("div",{className:"space-y-4",children:[L.jsx("h3",{className:"text-sm font-medium",children:"Desktop Wallpaper"}),L.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.map(l=>L.jsx("div",{className:`relative aspect-video rounded-lg overflow-hidden cursor-pointer ring-2 transition-all ${r===l?"ring-blue-500":"ring-transparent"}`,onClick:()=>o(l),children:L.jsx("img",{src:l,alt:"Wallpaper",className:"w-full h-full object-cover"})},l))})]}),L.jsxs("div",{className:"space-y-4",children:[L.jsx("h3",{className:"text-sm font-medium",children:"Custom Wallpaper"}),L.jsx("input",{type:"url",value:r,onChange:l=>o(l.target.value),placeholder:"Enter image URL",className:"w-full px-3 py-2 bg-gray-800 rounded-md border border-gray-700 focus:border-blue-500 outline-none"})]})]})},r3=()=>{const[e,t]=D.useState(100),[r,n]=D.useState(!1),[i,o]=D.useState("native"),l=s=>{t(s),document.documentElement.style.filter=`brightness(${s}%)`};return L.jsxs("div",{className:"p-6 space-y-6",children:[L.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Display"}),L.jsxs("div",{className:"space-y-4",children:[L.jsx("h3",{className:"text-sm font-medium",children:"Brightness"}),L.jsx("input",{type:"range",min:"50",max:"100",value:e,onChange:s=>l(Number(s.target.value)),className:"w-full"})]}),L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("span",{className:"text-sm font-medium",children:"Night Shift"}),L.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[L.jsx("input",{type:"checkbox",checked:r,onChange:s=>n(s.target.checked),className:"sr-only peer"}),L.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer-checked:after:translate-x-full peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all"})]})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsx("h3",{className:"text-sm font-medium",children:"Resolution"}),L.jsxs("select",{value:i,onChange:s=>o(s.target.value),className:"w-full px-3 py-2 bg-gray-800 rounded-md border border-gray-700 focus:border-blue-500 outline-none",children:[L.jsx("option",{value:"native",children:"Default for display"}),L.jsx("option",{value:"1920x1080",children:"1920 x 1080"}),L.jsx("option",{value:"2560x1440",children:"2560 x 1440"}),L.jsx("option",{value:"3840x2160",children:"3840 x 2160"})]})]})]})},n3=()=>{const[e,t]=D.useState(100),[r,n]=D.useState(!1),i=o=>{t(o)};return L.jsxs("div",{className:"p-6 space-y-6",children:[L.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sound"}),L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx(Sv,{className:"text-gray-400"}),L.jsx("input",{type:"range",min:"0",max:"100",value:e,onChange:o=>i(Number(o.target.value)),className:"flex-1 mx-4"}),L.jsxs("span",{className:"text-sm text-gray-400",children:[e,"%"]})]}),L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("span",{className:"text-sm font-medium",children:"Mute"}),L.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[L.jsx("input",{type:"checkbox",checked:r,onChange:o=>n(o.target.checked),className:"sr-only peer"}),L.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer-checked:after:translate-x-full peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all"})]})]})]})]})},i3=()=>{var i;const[e,t]=D.useState("appearance"),r=[{id:"appearance",icon:Qy,label:"Appearance",component:t3},{id:"display",icon:Zy,label:"Displays",component:r3},{id:"sound",icon:Sv,label:"Sound",component:n3},{id:"wifi",icon:ow,label:"Network",component:()=>L.jsx("div",{children:"Network Settings"})},{id:"notifications",icon:Fy,label:"Notifications",component:()=>L.jsx("div",{children:"Notifications Settings"})},{id:"users",icon:sw,label:"Users & Groups",component:()=>L.jsx("div",{children:"Users Settings"})},{id:"security",icon:Xy,label:"Security",component:()=>L.jsx("div",{children:"Security Settings"})},{id:"storage",icon:Ky,label:"Storage",component:()=>L.jsx("div",{children:"Storage Settings"})},{id:"time",icon:$y,label:"Date & Time",component:()=>L.jsx("div",{children:"Time Settings"})},{id:"language",icon:Vy,label:"Language",component:()=>L.jsx("div",{children:"Language Settings"})}],n=((i=r.find(o=>o.id===e))==null?void 0:i.component)||(()=>null);return L.jsxs("div",{className:"h-full flex bg-gray-900 text-white",children:[L.jsxs("div",{className:"w-64 border-r border-gray-800 overflow-y-auto",children:[L.jsx("div",{className:"p-4",children:L.jsx("input",{type:"text",placeholder:"Search Settings",className:"w-full px-3 py-2 bg-gray-800 rounded-md text-sm"})}),L.jsx("div",{className:"grid grid-cols-2 gap-2 p-2",children:r.map(({id:o,icon:l,label:s})=>L.jsxs("button",{onClick:()=>t(o),className:`flex flex-col items-center p-4 rounded-lg text-sm space-y-2 transition-colors ${e===o?"bg-blue-500":"hover:bg-gray-800"}`,children:[L.jsx(l,{size:24}),L.jsx("span",{className:"text-center",children:s})]},o))})]}),L.jsx("div",{className:"flex-1 overflow-y-auto",children:L.jsx(n,{})})]})};function $m(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=$m(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function s3(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=$m(e))&&(n&&(n+=" "),n+=t);return n}const Xf=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,Yf=s3,o3=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Yf(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(u=>{const g=r==null?void 0:r[u],f=o==null?void 0:o[u];if(g===null)return null;const v=Xf(g)||Xf(f);return i[u][v]}),s=r&&Object.entries(r).reduce((u,g)=>{let[f,v]=g;return v===void 0||(u[f]=v),u},{}),a=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,g)=>{let{class:f,className:v,...y}=g;return Object.entries(y).every(S=>{let[_,p]=S;return Array.isArray(p)?p.includes({...o,...s}[_]):{...o,...s}[_]===p})?[...u,f,v]:u},[]);return Yf(e,l,a,r==null?void 0:r.class,r==null?void 0:r.className)};function zm(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=zm(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function a3(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=zm(e))&&(n&&(n+=" "),n+=t);return n}const Fh="-",l3=e=>{const t=u3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const s=l.split(Fh);return s[0]===""&&s.length!==1&&s.shift(),Hm(s,t)||c3(l)},getConflictingClassGroupIds:(l,s)=>{const a=r[l]||[];return s&&n[l]?[...a,...n[l]]:a}}},Hm=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?Hm(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Fh);return(l=t.validators.find(({validator:s})=>s(o)))==null?void 0:l.classGroupId},Jf=/^\[(.+)\]$/,c3=e=>{if(Jf.test(e)){const t=Jf.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},u3=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return d3(Object.entries(e.classGroups),r).forEach(([o,l])=>{gu(l,n,o,t)}),n},gu=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:Zf(t,i);o.classGroupId=r;return}if(typeof i=="function"){if(h3(i)){gu(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,l])=>{gu(l,Zf(t,o),r,n)})})},Zf=(e,t)=>{let r=e;return t.split(Fh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},h3=e=>e.isThemeGetter,d3=(e,t)=>t?e.map(([r,n])=>{const i=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,s])=>[t+l,s])):o);return[r,i]}):e,f3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(o,l)=>{r.set(o,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let l=r.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return i(o,l),l},set(o,l){r.has(o)?r.set(o,l):i(o,l)}}},Wm="!",p3=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],o=t.length,l=s=>{const a=[];let u=0,g=0,f;for(let p=0;p<s.length;p++){let d=s[p];if(u===0){if(d===i&&(n||s.slice(p,p+o)===t)){a.push(s.slice(g,p)),g=p+o;continue}if(d==="/"){f=p;continue}}d==="["?u++:d==="]"&&u--}const v=a.length===0?s:s.substring(g),y=v.startsWith(Wm),S=y?v.substring(1):v,_=f&&f>g?f-g:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:S,maybePostfixModifierPosition:_}};return r?s=>r({className:s,parseClassName:l}):l},g3=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},v3=e=>({cache:f3(e.cacheSize),parseClassName:p3(e),...l3(e)}),m3=/\s+/,_3=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,o=[],l=e.trim().split(m3);let s="";for(let a=l.length-1;a>=0;a-=1){const u=l[a],{modifiers:g,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:y}=r(u);let S=!!y,_=n(S?v.substring(0,y):v);if(!_){if(!S){s=u+(s.length>0?" "+s:s);continue}if(_=n(v),!_){s=u+(s.length>0?" "+s:s);continue}S=!1}const p=g3(g).join(":"),d=f?p+Wm:p,c=d+_;if(o.includes(c))continue;o.push(c);const h=i(_,S);for(let m=0;m<h.length;++m){const w=h[m];o.push(d+w)}s=u+(s.length>0?" "+s:s)}return s};function y3(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Um(t))&&(n&&(n+=" "),n+=r);return n}const Um=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Um(e[n]))&&(r&&(r+=" "),r+=t);return r};function w3(e,...t){let r,n,i,o=l;function l(a){const u=t.reduce((g,f)=>f(g),e());return r=v3(u),n=r.cache.get,i=r.cache.set,o=s,s(a)}function s(a){const u=n(a);if(u)return u;const g=_3(a,r);return i(a,g),g}return function(){return o(y3.apply(null,arguments))}}const pe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Vm=/^\[(?:([a-z-]+):)?(.+)\]$/i,S3=/^\d+\/\d+$/,b3=new Set(["px","full","screen"]),C3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,k3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ir=e=>di(e)||b3.has(e)||S3.test(e),kr=e=>Li(e,"length",I3),di=e=>!!e&&!Number.isNaN(Number(e)),rc=e=>Li(e,"number",di),Xi=e=>!!e&&Number.isInteger(Number(e)),A3=e=>e.endsWith("%")&&di(e.slice(0,-1)),te=e=>Vm.test(e),Rr=e=>C3.test(e),P3=new Set(["length","size","percentage"]),T3=e=>Li(e,P3,Gm),D3=e=>Li(e,"position",Gm),L3=new Set(["image","url"]),M3=e=>Li(e,L3,N3),O3=e=>Li(e,"",B3),Yi=()=>!0,Li=(e,t,r)=>{const n=Vm.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},I3=e=>x3.test(e)&&!E3.test(e),Gm=()=>!1,B3=e=>k3.test(e),N3=e=>R3.test(e),F3=()=>{const e=pe("colors"),t=pe("spacing"),r=pe("blur"),n=pe("brightness"),i=pe("borderColor"),o=pe("borderRadius"),l=pe("borderSpacing"),s=pe("borderWidth"),a=pe("contrast"),u=pe("grayscale"),g=pe("hueRotate"),f=pe("invert"),v=pe("gap"),y=pe("gradientColorStops"),S=pe("gradientColorStopPositions"),_=pe("inset"),p=pe("margin"),d=pe("opacity"),c=pe("padding"),h=pe("saturate"),m=pe("scale"),w=pe("sepia"),C=pe("skew"),x=pe("space"),b=pe("translate"),E=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",te,t],T=()=>[te,t],I=()=>["",ir,kr],F=()=>["auto",di,te],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",te],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[di,te];return{cacheSize:500,separator:":",theme:{colors:[Yi],spacing:[ir,kr],blur:["none","",Rr,te],brightness:B(),borderColor:[e],borderRadius:["none","","full",Rr,te],borderSpacing:T(),borderWidth:I(),contrast:B(),grayscale:A(),hueRotate:B(),invert:A(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[A3,kr],inset:O(),margin:O(),opacity:B(),padding:T(),saturate:B(),scale:B(),sepia:A(),skew:B(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",te]}],container:["container"],columns:[{columns:[Rr]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),te]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xi,te]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",te]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Xi,te]}],"grid-cols":[{"grid-cols":[Yi]}],"col-start-end":[{col:["auto",{span:["full",Xi,te]},te]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Yi]}],"row-start-end":[{row:["auto",{span:[Xi,te]},te]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",te]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[c]}],px:[{px:[c]}],py:[{py:[c]}],ps:[{ps:[c]}],pe:[{pe:[c]}],pt:[{pt:[c]}],pr:[{pr:[c]}],pb:[{pb:[c]}],pl:[{pl:[c]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",te,t]}],"min-w":[{"min-w":[te,t,"min","max","fit"]}],"max-w":[{"max-w":[te,t,"none","full","min","max","fit","prose",{screen:[Rr]},Rr]}],h:[{h:[te,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[te,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[te,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[te,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rr,kr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rc]}],"font-family":[{font:[Yi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",te]}],"line-clamp":[{"line-clamp":["none",di,rc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ir,te]}],"list-image":[{"list-image":["none",te]}],"list-style-type":[{list:["none","disc","decimal",te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[d]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[d]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ir,kr]}],"underline-offset":[{"underline-offset":["auto",ir,te]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[d]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),D3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",T3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},M3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[d]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[d]}],"divide-style":[{divide:j()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[ir,te]}],"outline-w":[{outline:[ir,kr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[d]}],"ring-offset-w":[{"ring-offset":[ir,kr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rr,O3]}],"shadow-color":[{shadow:[Yi]}],opacity:[{opacity:[d]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",Rr,te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[f]}],saturate:[{saturate:[h]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[d]}],"backdrop-saturate":[{"backdrop-saturate":[h]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",te]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",te]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[m]}],"scale-x":[{"scale-x":[m]}],"scale-y":[{"scale-y":[m]}],rotate:[{rotate:[Xi,te]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",te]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ir,kr,rc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},j3=w3(F3);function Ln(...e){return j3(a3(e))}const $3=o3("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Km=D.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},o)=>{const l=n?wi:"button";return L.jsx(l,{className:Ln($3({variant:t,size:r,className:e})),ref:o,...i})});Km.displayName="Button";const z3=()=>{const[e,t]=D.useState([]),[r,n]=D.useState({}),[i,o]=D.useState(""),[l,s]=D.useState(!1),{user:a,addWindow:u}=vt();D.useEffect(()=>{g()},[]);const g=async()=>{const{data:S,error:_}=await Et.from("apps").select("*").eq("published",!0).order("downloads",{ascending:!1});if(_){console.error("Error fetching apps:",_);return}if(t(S||[]),S&&S.length>0){const p=[...new Set(S.map(h=>h.creator_id))],{data:d,error:c}=await Et.from("profiles").select("id, email").in("id",p);if(c){console.error("Error fetching profiles:",c);return}if(d){const h=d.reduce((m,w)=>({...m,[w.id]:w}),{});n(h)}}},f=e.filter(S=>S.title.toLowerCase().includes(i.toLowerCase())||S.description.toLowerCase().includes(i.toLowerCase())),v=async S=>{if(!a){vt.getState().setShowAuth(!0);return}const{error:_}=await Et.from("apps").update({downloads:S.downloads+1}).eq("id",S.id);if(_&&console.error("Error updating download count:",_),a){const{error:p}=await Et.from("installed_apps").insert({user_id:a.id,app_id:S.id,desktop_icon:{id:`${S.title.toLowerCase()}-${Date.now()}`,title:S.title,icon_url:S.icon_url,position:{x:Math.random()*100,y:Math.random()*100}}});if(p){console.error("Error saving installed app:",p);return}}alert(`${S.title} has been installed to your desktop!`)},y=()=>{if(!a){vt.getState().setShowAuth(!0);return}s(!0)};return L.jsxs("div",{className:"h-full flex flex-col bg-background text-foreground",children:[L.jsxs("div",{className:"p-6 border-b",children:[L.jsxs("div",{className:"flex items-center justify-between mb-6",children:[L.jsxs("div",{children:[L.jsx("h1",{className:"text-2xl font-bold",children:"App Store"}),L.jsx("p",{className:"text-muted-foreground",children:"Discover and install new applications"})]}),L.jsxs(Km,{onClick:y,size:"sm",children:[L.jsx(ew,{className:"mr-2 h-4 w-4"}),"Upload App"]})]}),L.jsxs("div",{className:"relative",children:[L.jsx(wv,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),L.jsx("input",{type:"text",placeholder:"Search apps...",className:"w-full pl-10 pr-4 py-2 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none",value:i,onChange:S=>o(S.target.value)})]})]}),L.jsx("div",{className:"flex-1 overflow-auto p-6",children:L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f.map(S=>{var _;return L.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden hover:transform hover:scale-105 transition-transform",children:[L.jsx("img",{src:S.icon_url,alt:S.title,className:"w-full h-48 object-cover"}),L.jsxs("div",{className:"p-4",children:[L.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:S.title}),L.jsx("p",{className:"text-gray-400 text-sm mb-4",children:S.description}),L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{className:"text-sm text-gray-500",children:[L.jsxs("p",{children:["By ",(_=r[S.creator_id])==null?void 0:_.email]}),L.jsxs("p",{children:["v",S.version]})]}),L.jsxs("button",{onClick:()=>v(S),className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:[L.jsx(Hy,{size:16,className:"mr-1"}),"Install"]})]})]})]},S.id)})})}),l&&L.jsx(H3,{onClose:()=>s(!1),onUpload:g})]})},H3=({onClose:e,onUpload:t})=>{const[r,n]=D.useState(""),[i,o]=D.useState(""),[l,s]=D.useState(""),[a,u]=D.useState(""),{user:g}=vt(),f=async v=>{if(v.preventDefault(),!g)return;const{error:y}=await Et.from("apps").insert({creator_id:g.id,title:r,description:i,icon_url:l,component_code:a,published:!0});if(y){console.error("Error uploading app:",y);return}t(),e()};return L.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:L.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[L.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Upload New App"}),L.jsxs("form",{onSubmit:f,className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-gray-400 mb-2",children:"Title"}),L.jsx("input",{type:"text",value:r,onChange:v=>n(v.target.value),className:"w-full px-4 py-2 bg-gray-700 text-white rounded",required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-gray-400 mb-2",children:"Description"}),L.jsx("textarea",{value:i,onChange:v=>o(v.target.value),className:"w-full px-4 py-2 bg-gray-700 text-white rounded",rows:3,required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-gray-400 mb-2",children:"Icon URL"}),L.jsx("input",{type:"url",value:l,onChange:v=>s(v.target.value),className:"w-full px-4 py-2 bg-gray-700 text-white rounded",required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-gray-400 mb-2",children:"Component Code"}),L.jsx("textarea",{value:a,onChange:v=>u(v.target.value),className:"w-full px-4 py-2 bg-gray-700 text-white rounded font-mono",rows:10,required:!0})]}),L.jsxs("div",{className:"flex justify-end space-x-4",children:[L.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-400 hover:text-white",children:"Cancel"}),L.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Upload"})]})]})]})})},W3=({id:e,title:t,type:r})=>{const{removeWindow:n,minimizeWindow:i,maximizeWindow:o,activeWindow:l,setActiveWindow:s}=vt(),[a,u]=D.useState({width:800,height:600}),[g,f]=D.useState(!1),v=D.useRef(),S={terminal:Zk,editor:Qk,finder:e3,preferences:i3,appstore:z3}[r],_=()=>{f(!g),o(e)},p=()=>{var d;r==="terminal"&&((d=v.current)==null||d.fit())};return L.jsx(Om,{default:{x:100,y:100,width:800,height:600},minWidth:400,minHeight:300,bounds:"window",onMouseDown:()=>s(e),enableResizing:!g,disableDragging:g,size:g?{width:"100vw",height:"calc(100vh - 32px)"}:a,position:g?{x:0,y:32}:void 0,onResizeStop:(d,c,h,m,w)=>{u({width:parseInt(h.style.width),height:parseInt(h.style.height)})},style:{transition:"width 0.2s, height 0.2s, transform 0.2s"},className:`${g?"rounded-none":"rounded-lg"} overflow-hidden`,onResize:p,children:L.jsxs("div",{className:`flex flex-col h-full overflow-hidden shadow-2xl transition-all duration-200 ${l===e?"ring-1 ring-blue-500 shadow-lg shadow-blue-500/20":"ring-1 ring-gray-800"}`,style:{backgroundColor:"rgba(32, 33, 36, 0.95)",backdropFilter:"blur(20px)"},children:[L.jsxs("div",{className:`h-8 flex items-center px-4 transition-colors duration-200 shrink-0 ${l===e?"bg-gray-800":"bg-gray-900"}`,children:[L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("button",{onClick:()=>n(e),className:"w-3 h-3 rounded-full bg-red-500 hover:bg-red-600 transition-colors group relative",children:L.jsx(aw,{size:8,className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 text-red-900"})}),L.jsx("button",{onClick:()=>i(e),className:"w-3 h-3 rounded-full bg-yellow-500 hover:bg-yellow-600 transition-colors group relative",children:L.jsx(Jy,{size:8,className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 text-yellow-900"})}),L.jsx("button",{onClick:_,className:"w-3 h-3 rounded-full bg-green-500 hover:bg-green-600 transition-colors group relative",children:L.jsx(Yy,{size:8,className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 text-green-900"})})]}),L.jsx("span",{className:"flex-1 text-center text-sm font-medium text-gray-300 truncate",children:t})]}),L.jsx("div",{className:"flex-1 overflow-hidden bg-gray-900/95",children:L.jsx("div",{className:"h-full w-full overflow-auto",children:S&&L.jsx(S,{})})})]})})},qm=D.forwardRef(({className:e,...t},r)=>L.jsx("div",{ref:r,className:Ln("rounded-xl border bg-card text-card-foreground shadow",e),...t}));qm.displayName="Card";const Xm=D.forwardRef(({className:e,...t},r)=>L.jsx("div",{ref:r,className:Ln("flex flex-col space-y-1.5 p-6",e),...t}));Xm.displayName="CardHeader";const Ym=D.forwardRef(({className:e,...t},r)=>L.jsx("div",{ref:r,className:Ln("font-semibold leading-none tracking-tight",e),...t}));Ym.displayName="CardTitle";const Jm=D.forwardRef(({className:e,...t},r)=>L.jsx("div",{ref:r,className:Ln("text-sm text-muted-foreground",e),...t}));Jm.displayName="CardDescription";const Zm=D.forwardRef(({className:e,...t},r)=>L.jsx("div",{ref:r,className:Ln("p-6 pt-0",e),...t}));Zm.displayName="CardContent";const U3=D.forwardRef(({className:e,...t},r)=>L.jsx("div",{ref:r,className:Ln("flex items-center p-6 pt-0",e),...t}));U3.displayName="CardFooter";var Qf,he="colors",Ve="sizes",Z="space",V3={gap:Z,gridGap:Z,columnGap:Z,gridColumnGap:Z,rowGap:Z,gridRowGap:Z,inset:Z,insetBlock:Z,insetBlockEnd:Z,insetBlockStart:Z,insetInline:Z,insetInlineEnd:Z,insetInlineStart:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,marginBlock:Z,marginBlockEnd:Z,marginBlockStart:Z,marginInline:Z,marginInlineEnd:Z,marginInlineStart:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,paddingBlock:Z,paddingBlockEnd:Z,paddingBlockStart:Z,paddingInline:Z,paddingInlineEnd:Z,paddingInlineStart:Z,top:Z,right:Z,bottom:Z,left:Z,scrollMargin:Z,scrollMarginTop:Z,scrollMarginRight:Z,scrollMarginBottom:Z,scrollMarginLeft:Z,scrollMarginX:Z,scrollMarginY:Z,scrollMarginBlock:Z,scrollMarginBlockEnd:Z,scrollMarginBlockStart:Z,scrollMarginInline:Z,scrollMarginInlineEnd:Z,scrollMarginInlineStart:Z,scrollPadding:Z,scrollPaddingTop:Z,scrollPaddingRight:Z,scrollPaddingBottom:Z,scrollPaddingLeft:Z,scrollPaddingX:Z,scrollPaddingY:Z,scrollPaddingBlock:Z,scrollPaddingBlockEnd:Z,scrollPaddingBlockStart:Z,scrollPaddingInline:Z,scrollPaddingInlineEnd:Z,scrollPaddingInlineStart:Z,fontSize:"fontSizes",background:he,backgroundColor:he,backgroundImage:he,borderImage:he,border:he,borderBlock:he,borderBlockEnd:he,borderBlockStart:he,borderBottom:he,borderBottomColor:he,borderColor:he,borderInline:he,borderInlineEnd:he,borderInlineStart:he,borderLeft:he,borderLeftColor:he,borderRight:he,borderRightColor:he,borderTop:he,borderTopColor:he,caretColor:he,color:he,columnRuleColor:he,fill:he,outline:he,outlineColor:he,stroke:he,textDecorationColor:he,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Ve,minBlockSize:Ve,maxBlockSize:Ve,inlineSize:Ve,minInlineSize:Ve,maxInlineSize:Ve,width:Ve,minWidth:Ve,maxWidth:Ve,height:Ve,minHeight:Ve,maxHeight:Ve,flexBasis:Ve,gridTemplateColumns:Ve,gridTemplateRows:Ve,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},G3=(e,t)=>typeof t=="function"?{"()":Function.prototype.toString.call(t)}:t,Ys=()=>{const e=Object.create(null);return(t,r,...n)=>{const i=(o=>JSON.stringify(o,G3))(t);return i in e?e[i]:e[i]=r(t,...n)}},Go=Symbol.for("sxs.internal"),jh=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),ep=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:K3}=Object.prototype,vu=e=>e.includes("-")?e:e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),q3=/\s+(?![^()]*\))/,Hn=e=>t=>e(...typeof t=="string"?String(t).split(q3):[t]),tp={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:Hn((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:Hn((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:Hn((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:Hn((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:Hn((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:Hn((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},nc=/([\d.]+)([^]*)/,X3=(e,t)=>e.length?e.reduce((r,n)=>(r.push(...t.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(i)?`:is(${n})`:n):n+" "+i)),r),[]):t,Y3=(e,t)=>e in J3&&typeof t=="string"?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(r,n,i,o)=>n+(i==="stretch"?`-moz-available${o};${vu(e)}:${n}-webkit-fill-available`:`-moz-fit-content${o};${vu(e)}:${n}fit-content`)+o):String(t),J3={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},vr=e=>e?e+"-":"",Qm=(e,t,r)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(n,i,o,l,s)=>l=="$"==!!o?n:(i||l=="--"?"calc(":"")+"var(--"+(l==="$"?vr(t)+(s.includes("$")?"":vr(r))+s.replace(/\$/g,"-"):s)+")"+(i||l=="--"?"*"+(i||"")+(o||"1")+")":"")),Z3=/\s*,\s*(?![^()]*\))/,Q3=Object.prototype.toString,ri=(e,t,r,n,i)=>{let o,l,s;const a=(u,g,f)=>{let v,y;const S=_=>{for(v in _){const c=v.charCodeAt(0)===64,h=c&&Array.isArray(_[v])?_[v]:[_[v]];for(y of h){const m=/[A-Z]/.test(d=v)?d:d.replace(/-[^]/g,C=>C[1].toUpperCase()),w=typeof y=="object"&&y&&y.toString===Q3&&(!n.utils[m]||!g.length);if(m in n.utils&&!w){const C=n.utils[m];if(C!==l){l=C,S(C(y)),l=null;continue}}else if(m in tp){const C=tp[m];if(C!==s){s=C,S(C(y)),s=null;continue}}if(c&&(p=v.slice(1)in n.media?"@media "+n.media[v.slice(1)]:v,v=p.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(C,x,b,E,R,O)=>{const T=nc.test(x),I=.0625*(T?-1:1),[F,z]=T?[E,x]:[x,E];return"("+(b[0]==="="?"":b[0]===">"===T?"max-":"min-")+F+":"+(b[0]!=="="&&b.length===1?z.replace(nc,(j,H,k)=>Number(H)+I*(b===">"?1:-1)+k):z)+(R?") and ("+(R[0]===">"?"min-":"max-")+F+":"+(R.length===1?O.replace(nc,(j,H,k)=>Number(H)+I*(R===">"?-1:1)+k):O):"")+")"})),w){const C=c?f.concat(v):[...f],x=c?[...g]:X3(g,v.split(Z3));o!==void 0&&i(rp(...o)),o=void 0,a(y,x,C)}else o===void 0&&(o=[[],g,f]),v=c||v.charCodeAt(0)!==36?v:`--${vr(n.prefix)}${v.slice(1).replace(/\$/g,"-")}`,y=w?y:typeof y=="number"?y&&m in e4?String(y)+"px":String(y):Qm(Y3(m,y??""),n.prefix,n.themeMap[m]),o[0].push(`${c?`${v} `:`${vu(v)}:`}${y}`)}}var p,d};S(u),o!==void 0&&i(rp(...o)),o=void 0};a(e,t,r)},rp=(e,t,r)=>`${r.map(n=>`${n}{`).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(r.length?r.length+1:0).join("}")}`,e4={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},np=e=>String.fromCharCode(e+(e>25?39:97)),mn=e=>(t=>{let r,n="";for(r=Math.abs(t);r>52;r=r/52|0)n=np(r%52)+n;return np(r%52)+n})(((t,r)=>{let n=r.length;for(;n;)t=33*t^r.charCodeAt(--n);return t})(5381,JSON.stringify(e))>>>0),is=["themed","global","styled","onevar","resonevar","allvar","inline"],t4=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch{return!1}},r4=e=>{let t;const r=()=>{const{cssRules:i}=t.sheet;return[].map.call(i,(o,l)=>{const{cssText:s}=o;let a="";if(s.startsWith("--sxs"))return"";if(i[l-1]&&(a=i[l-1].cssText).startsWith("--sxs")){if(!o.cssRules.length)return"";for(const u in t.rules)if(t.rules[u].group===o)return`--sxs{--sxs:${[...t.rules[u].cache].join(" ")}}${s}`;return o.cssRules.length?`${a}${s}`:""}return s}).join("")},n=()=>{if(t){const{rules:s,sheet:a}=t;if(!a.deleteRule){for(;Object(Object(a.cssRules)[0]).type===3;)a.cssRules.splice(0,1);a.cssRules=[]}for(const u in s)delete s[u]}const i=Object(e).styleSheets||[];for(const s of i)if(t4(s)){for(let a=0,u=s.cssRules;u[a];++a){const g=Object(u[a]);if(g.type!==1)continue;const f=Object(u[a+1]);if(f.type!==4)continue;++a;const{cssText:v}=g;if(!v.startsWith("--sxs"))continue;const y=v.slice(14,-3).trim().split(/\s+/),S=is[y[0]];S&&(t||(t={sheet:s,reset:n,rules:{},toString:r}),t.rules[S]={group:f,index:a,cache:new Set(y)})}if(t)break}if(!t){const s=(a,u)=>({type:u,cssRules:[],insertRule(g,f){this.cssRules.splice(f,0,s(g,{import:3,undefined:1}[(g.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return a==="@media{}"?`@media{${[].map.call(this.cssRules,g=>g.cssText).join("")}}`:a}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:s("","text/css"),rules:{},reset:n,toString:r}}const{sheet:o,rules:l}=t;for(let s=is.length-1;s>=0;--s){const a=is[s];if(!l[a]){const u=is[s+1],g=l[u]?l[u].index:o.cssRules.length;o.insertRule("@media{}",g),o.insertRule(`--sxs{--sxs:${s}}`,g),l[a]={group:o.cssRules[g+1],index:g,cache:new Set([s])}}n4(l[a])}};return n(),t},n4=e=>{const t=e.group;let r=t.cssRules.length;e.apply=n=>{try{t.insertRule(n,r),++r}catch{}}},Ji=Symbol(),i4=Ys(),s4=(e,t)=>i4(e,()=>(...r)=>{let n={type:null,composers:new Set};for(const i of r)if(i!=null)if(i[Go]){n.type==null&&(n.type=i[Go].type);for(const o of i[Go].composers)n.composers.add(o)}else i.constructor!==Object||i.$$typeof?n.type==null&&(n.type=i):n.composers.add(o4(i,e));return n.type==null&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),a4(e,n,t)}),o4=({variants:e,compoundVariants:t,defaultVariants:r,...n},i)=>{const o=`${vr(i.prefix)}c-${mn(n)}`,l=[],s=[],a=Object.create(null),u=[];for(const v in r)a[v]=String(r[v]);if(typeof e=="object"&&e)for(const v in e){g=a,f=v,K3.call(g,f)||(a[v]="undefined");const y=e[v];for(const S in y){const _={[v]:String(S)};String(S)==="undefined"&&u.push(v);const p=y[S],d=[_,p,!ep(p)];l.push(d)}}var g,f;if(typeof t=="object"&&t)for(const v of t){let{css:y,...S}=v;y=typeof y=="object"&&y||{};for(const p in S)S[p]=String(S[p]);const _=[S,y,!ep(y)];s.push(_)}return[o,n,l,s,a,u]},a4=(e,t,r)=>{const[n,i,o,l]=l4(t.composers),s=typeof t.type=="function"||t.type.$$typeof?(f=>{function v(){for(let y=0;y<v[Ji].length;y++){const[S,_]=v[Ji][y];f.rules[S].apply(_)}return v[Ji]=[],null}return v[Ji]=[],v.rules={},is.forEach(y=>v.rules[y]={apply:S=>v[Ji].push([y,S])}),v})(r):null,a=(s||r).rules,u=`.${n}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,g=f=>{f=typeof f=="object"&&f||c4;const{css:v,...y}=f,S={};for(const d in o)if(delete y[d],d in f){let c=f[d];typeof c=="object"&&c?S[d]={"@initial":o[d],...c}:(c=String(c),S[d]=c!=="undefined"||l.has(d)?c:o[d])}else S[d]=o[d];const _=new Set([...i]);for(const[d,c,h,m]of t.composers){r.rules.styled.cache.has(d)||(r.rules.styled.cache.add(d),ri(c,[`.${d}`],[],e,x=>{a.styled.apply(x)}));const w=ip(h,S,e.media),C=ip(m,S,e.media,!0);for(const x of w)if(x!==void 0)for(const[b,E,R]of x){const O=`${d}-${mn(E)}-${b}`;_.add(O);const T=(R?r.rules.resonevar:r.rules.onevar).cache,I=R?a.resonevar:a.onevar;T.has(O)||(T.add(O),ri(E,[`.${O}`],[],e,F=>{I.apply(F)}))}for(const x of C)if(x!==void 0)for(const[b,E]of x){const R=`${d}-${mn(E)}-${b}`;_.add(R),r.rules.allvar.cache.has(R)||(r.rules.allvar.cache.add(R),ri(E,[`.${R}`],[],e,O=>{a.allvar.apply(O)}))}}if(typeof v=="object"&&v){const d=`${n}-i${mn(v)}-css`;_.add(d),r.rules.inline.cache.has(d)||(r.rules.inline.cache.add(d),ri(v,[`.${d}`],[],e,c=>{a.inline.apply(c)}))}for(const d of String(f.className||"").trim().split(/\s+/))d&&_.add(d);const p=y.className=[..._].join(" ");return{type:t.type,className:p,selector:u,props:y,toString:()=>p,deferredInjector:s}};return jh(g,{className:n,selector:u,[Go]:t,toString:()=>(r.rules.styled.cache.has(n)||g(),n)})},l4=e=>{let t="";const r=[],n={},i=[];for(const[o,,,,l,s]of e){t===""&&(t=o),r.push(o),i.push(...s);for(const a in l){const u=l[a];(n[a]===void 0||u!=="undefined"||s.includes(u))&&(n[a]=u)}}return[t,r,n,new Set(i)]},ip=(e,t,r,n)=>{const i=[];e:for(let[o,l,s]of e){if(s)continue;let a,u=0,g=!1;for(a in o){const f=o[a];let v=t[a];if(v!==f){if(typeof v!="object"||!v)continue e;{let y,S,_=0;for(const p in v){if(f===String(v[p])){if(p!=="@initial"){const d=p.slice(1);(S=S||[]).push(d in r?r[d]:p.replace(/^@media ?/,"")),g=!0}u+=_,y=!0}++_}if(S&&S.length&&(l={["@media "+S.join(", ")]:l}),!y)continue e}}}(i[u]=i[u]||[]).push([n?"cv":`${a}-${o[a]}`,l,g])}return i},c4={},u4=Ys(),h4=(e,t)=>u4(e,()=>(...r)=>{const n=()=>{for(let i of r){i=typeof i=="object"&&i||{};let o=mn(i);if(!t.rules.global.cache.has(o)){if(t.rules.global.cache.add(o),"@import"in i){let l=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let s of[].concat(i["@import"]))s=s.includes('"')||s.includes("'")?s:`"${s}"`,t.sheet.insertRule(`@import ${s};`,l++);delete i["@import"]}ri(i,[],[],e,l=>{t.rules.global.apply(l)})}}return""};return jh(n,{toString:n})}),d4=Ys(),f4=(e,t)=>d4(e,()=>r=>{const n=`${vr(e.prefix)}k-${mn(r)}`,i=()=>{if(!t.rules.global.cache.has(n)){t.rules.global.cache.add(n);const o=[];ri(r,[],[],e,s=>o.push(s));const l=`@keyframes ${n}{${o.join("")}}`;t.rules.global.apply(l)}return n};return jh(i,{get name(){return i()},toString:i})}),p4=class{constructor(t,r,n,i){this.token=t==null?"":String(t),this.value=r==null?"":String(r),this.scale=n==null?"":String(n),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+vr(this.prefix)+vr(this.scale)+this.token}toString(){return this.computedValue}},g4=Ys(),v4=(e,t)=>g4(e,()=>(r,n)=>{n=typeof r=="object"&&r||Object(n);const i=`.${r=(r=typeof r=="string"?r:"")||`${vr(e.prefix)}t-${mn(n)}`}`,o={},l=[];for(const a in n){o[a]={};for(const u in n[a]){const g=`--${vr(e.prefix)}${a}-${u}`,f=Qm(String(n[a][u]),e.prefix,a);o[a][u]=new p4(u,f,a,e.prefix),l.push(`${g}:${f}`)}}const s=()=>{if(l.length&&!t.rules.themed.cache.has(r)){t.rules.themed.cache.add(r);const a=`${n===e.theme?":root,":""}.${r}{${l.join(";")}}`;t.rules.themed.apply(a)}return r};return{...o,get className(){return s()},selector:i,toString:s}}),m4=Ys(),e_=e=>{let t=!1;const r=m4(e,n=>{t=!0;const i="prefix"in(n=typeof n=="object"&&n||{})?String(n.prefix):"",o=typeof n.media=="object"&&n.media||{},l=typeof n.root=="object"?n.root||null:globalThis.document||null,s=typeof n.theme=="object"&&n.theme||{},a={prefix:i,media:o,theme:s,themeMap:typeof n.themeMap=="object"&&n.themeMap||{...V3},utils:typeof n.utils=="object"&&n.utils||{}},u=r4(l),g={css:s4(a,u),globalCss:h4(a,u),keyframes:f4(a,u),createTheme:v4(a,u),reset(){u.reset(),g.theme.toString()},theme:{},sheet:u,config:a,prefix:i,getCssText:u.toString,toString:u.toString};return String(g.theme=g.createTheme(s)),g});return t||r.reset(),r},t_=()=>Qf||(Qf=e_()),_4=(...e)=>t_().createTheme(...e),_r=(...e)=>t_().css(...e),y4={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"#2b805a",messageBackground:"#e7fcf1",messageBorder:"#d0f3e1",messageTextDanger:"#ff6369",messageBackgroundDanger:"#fff8f8",messageBorderDanger:"#822025",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray",messageText:"#85e0b7",messageBackground:"#072719",messageBorder:"#2b805a",messageBackgroundDanger:"#1f1315"}}},xe={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password",VERIFY_OTP:"verify_otp"},w4="supabase-auth-ui",S4={ROOT:"root",SIGN_IN:xe.SIGN_IN,SIGN_UP:xe.SIGN_UP,FORGOTTEN_PASSWORD:xe.FORGOTTEN_PASSWORD,MAGIC_LINK:xe.MAGIC_LINK,UPDATE_PASSWORD:xe.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function Mn(e,t,r){var n,i;const o=[],l=S4[e];return o.push(r!=null&&r.prependedClassName?(r==null?void 0:r.prependedClassName)+"_"+l:w4+"_"+l),(n=r==null?void 0:r.className)!=null&&n[e]&&o.push((i=r==null?void 0:r.className)==null?void 0:i[e]),((r==null?void 0:r.extend)===void 0||(r==null?void 0:r.extend)===!0)&&o.push(t),o}function mu(e,t){let r;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(Array.isArray(t))for(r=0;r<t.length;r++)e[r]=mu(e[r],t[r]);else for(r in t)e[r]=mu(e[r],t[r]);return e}return t}function ic(e,...t){let r=t.length;for(let n=0;n<r;n++)e=mu(e,t[n]);return e}function b4(e,t){return e.replace(/{{(\w+)}}/g,(r,n)=>t.hasOwnProperty(n)?t[n]:r)}var C4={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const x4=_r({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),pn=({children:e,appearance:t,...r})=>{var n;const i=Mn("anchor",x4(),t);return N.createElement("a",{...r,style:(n=t==null?void 0:t.style)==null?void 0:n.anchor,className:i.join(" ")},e)},E4=_r({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),Mi=({children:e,color:t="default",appearance:r,icon:n,loading:i=!1,...o})=>{var l;const s=Mn("button",E4({color:t}),r);return N.createElement("button",{...o,style:(l=r==null?void 0:r.style)==null?void 0:l.button,className:s.join(" "),disabled:i},n,e)},k4=_r({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),Zt=({children:e,appearance:t,...r})=>{var n;const i=Mn("container",k4({direction:r.direction,gap:r.gap}),t);return N.createElement("div",{...r,style:(n=t==null?void 0:t.style)==null?void 0:n.container,className:i.join(" ")},e)},R4=_r({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),A4=({children:e,appearance:t,...r})=>{var n;const i=Mn("divider",R4(),t);return N.createElement("div",{...r,style:(n=t==null?void 0:t.style)==null?void 0:n.divider,className:i.join(" ")})},P4=_r({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),Kr=({children:e,appearance:t,...r})=>{var n;const i=Mn("input",P4({type:r.type==="password"?"password":"default"}),t);return N.createElement("input",{...r,style:(n=t==null?void 0:t.style)==null?void 0:n.input,className:i.join(" ")},e)},T4=_r({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),qr=({children:e,appearance:t,...r})=>{var n;const i=Mn("label",T4(),t);return N.createElement("label",{...r,style:(n=t==null?void 0:t.style)==null?void 0:n.label,className:i.join(" ")},e)},D4=_r({fontFamily:"$bodyFontFamily",fontSize:"$baseInputSize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",borderRadius:"0.375rem",padding:"1.5rem 1rem",lineHeight:"1rem",color:"$messageText",backgroundColor:"$messageBackground",border:"1px solid $messageBorder",variants:{color:{danger:{color:"$messageTextDanger",backgroundColor:"$messageBackgroundDanger",border:"1px solid $messageBorderDanger"}}}}),er=({children:e,appearance:t,...r})=>{var n;const i=Mn("message",D4({color:r.color}),t);return N.createElement("span",{...r,style:(n=t==null?void 0:t.style)==null?void 0:n.message,className:i.join(" ")},e)};function r_({setAuthView:e=()=>{},supabaseClient:t,redirectTo:r,i18n:n,appearance:i,showLinks:o=!1}){var l;const[s,a]=D.useState(""),[u,g]=D.useState(""),[f,v]=D.useState(""),[y,S]=D.useState(!1),_=async d=>{var c,h;if(d.preventDefault(),g(""),v(""),S(!0),s.length===0){g((c=n==null?void 0:n.magic_link)==null?void 0:c.empty_email_address),S(!1);return}const{error:m}=await t.auth.signInWithOtp({email:s,options:{emailRedirectTo:r}});m?g(m.message):v((h=n==null?void 0:n.magic_link)==null?void 0:h.confirmation_text),S(!1)},p=n==null?void 0:n.magic_link;return N.createElement("form",{id:"auth-magic-link",onSubmit:_},N.createElement(Zt,{gap:"large",direction:"vertical",appearance:i},N.createElement("div",null,N.createElement(qr,{htmlFor:"email",appearance:i},p==null?void 0:p.email_input_label),N.createElement(Kr,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:p==null?void 0:p.email_input_placeholder,onChange:d=>{g&&g(""),a(d.target.value)},appearance:i})),N.createElement(Mi,{color:"primary",type:"submit",loading:y,appearance:i},y?p==null?void 0:p.loading_button_label:p==null?void 0:p.button_label),o&&N.createElement(pn,{href:"#auth-sign-in",onClick:d=>{d.preventDefault(),e(xe.SIGN_IN)},appearance:i},(l=n==null?void 0:n.sign_in)==null?void 0:l.link_text),f&&N.createElement(er,{appearance:i},f),u&&N.createElement(er,{color:"danger",appearance:i},u)))}const Fe=_r({width:"21px",height:"21px"}),L4=({provider:e})=>e=="google"?M4():e=="facebook"?O4():e=="twitter"?I4():e=="apple"?B4():e=="github"?N4():e=="gitlab"?F4():e=="bitbucket"?j4():e=="discord"?$4():e=="azure"?z4():e=="keycloak"?H4():e=="linkedin"?W4():e=="notion"?U4():e=="slack"?V4():e=="spotify"?G4():e=="twitch"?K4():e=="workos"?q4():e=="kakao"?X4():null,M4=()=>N.createElement("svg",{className:Fe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},N.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),N.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),N.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),N.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),O4=()=>N.createElement("svg",{className:Fe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},N.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),N.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),I4=()=>N.createElement("svg",{className:Fe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},N.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),B4=()=>N.createElement("svg",{className:Fe(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",N.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),N4=()=>N.createElement("svg",{className:Fe(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",N.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),F4=()=>N.createElement("svg",{className:Fe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},N.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),N.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),N.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),N.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),N.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),N.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),N.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),j4=()=>N.createElement("svg",{className:Fe(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},N.createElement("defs",null,N.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},N.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),N.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),N.createElement("title",null,"Bitbucket-blue"),N.createElement("g",{id:"Layer_2","data-name":"Layer 2"},N.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},N.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),N.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),$4=()=>N.createElement("svg",{className:Fe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},N.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068	c-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291	c-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051	c-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554	c0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194	c-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534	c0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017	c0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634	c-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052	c3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044	C39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435	c2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435	s1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),z4=()=>N.createElement("svg",{className:Fe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},N.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},N.createElement("stop",{offset:"0",stopColor:"#114a8b"}),N.createElement("stop",{offset:"1",stopColor:"#0669bc"})),N.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),N.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),N.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},N.createElement("stop",{offset:"0",stopOpacity:".3"}),N.createElement("stop",{offset:".071",stopOpacity:".2"}),N.createElement("stop",{offset:".321",stopOpacity:".1"}),N.createElement("stop",{offset:".623",stopOpacity:".05"}),N.createElement("stop",{offset:"1",stopOpacity:"0"})),N.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),N.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},N.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),N.createElement("stop",{offset:"1",stopColor:"#2892df"})),N.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),H4=()=>N.createElement("svg",{className:Fe(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),W4=()=>N.createElement("svg",{className:Fe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},N.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),N.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),U4=()=>N.createElement("svg",{className:Fe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},N.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),N.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),N.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),V4=()=>N.createElement("svg",{className:Fe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},N.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4	C33,17.741,33,9.254,33,8z"}),N.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),N.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4	C17.741,14,9.254,14,8,14z"}),N.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),N.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984	c0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),N.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994	S4,30.228,4,28.022z"}),N.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4	C29.258,33,37.746,33,39,33z"}),N.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),G4=()=>N.createElement("svg",{className:Fe(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),K4=()=>N.createElement("svg",{className:Fe(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),N.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),N.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),N.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),q4=()=>N.createElement("svg",{className:Fe(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),N.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),X4=()=>N.createElement("svg",{className:Fe(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},N.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),N.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),N.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function Y4({supabaseClient:e,socialLayout:t="vertical",providers:r=["github","google","azure"],providerScopes:n,queryParams:i,redirectTo:o,onlyThirdPartyProviders:l=!0,view:s="sign_in",i18n:a,appearance:u}){const[g,f]=D.useState(!1),[v,y]=D.useState(""),S=t==="vertical",_=s==="magic_link"?"sign_in":s,p=async c=>{f(!0);const{error:h}=await e.auth.signInWithOAuth({provider:c,options:{redirectTo:o,scopes:n==null?void 0:n[c],queryParams:i}});h&&y(h.message),f(!1)};function d(c){const h=c.toLowerCase();return c.charAt(0).toUpperCase()+h.slice(1)}return N.createElement(N.Fragment,null,r&&r.length>0&&N.createElement(N.Fragment,null,N.createElement(Zt,{gap:"large",direction:"vertical",appearance:u},N.createElement(Zt,{direction:S?"vertical":"horizontal",gap:S?"small":"medium",appearance:u},r.map(c=>{var h;return N.createElement(Mi,{key:c,color:"default",loading:g,onClick:()=>p(c),appearance:u},N.createElement(L4,{provider:c}),S&&b4((h=a==null?void 0:a[_])==null?void 0:h.social_provider_text,{provider:d(c)}))}))),!l&&N.createElement(A4,{appearance:u})))}function sp({authView:e="sign_in",defaultEmail:t="",defaultPassword:r="",setAuthView:n=()=>{},setDefaultEmail:i=S=>{},setDefaultPassword:o=S=>{},supabaseClient:l,showLinks:s=!1,redirectTo:a,additionalData:u,magicLink:g,i18n:f,appearance:v,children:y}){var S,_,p,d;const c=D.useRef(!0),[h,m]=D.useState(t),[w,C]=D.useState(r),[x,b]=D.useState(""),[E,R]=D.useState(!1),[O,T]=D.useState("");D.useEffect(()=>(c.current=!0,m(t),C(r),()=>{c.current=!1}),[e]);const I=async j=>{var H;switch(j.preventDefault(),b(""),R(!0),e){case"sign_in":const{error:k}=await l.auth.signInWithPassword({email:h,password:w});k&&b(k.message);break;case"sign_up":let A={emailRedirectTo:a};u&&(A.data=u);const{data:{user:M,session:B},error:W}=await l.auth.signUp({email:h,password:w,options:A});W?b(W.message):M&&!B&&T((H=f==null?void 0:f.sign_up)==null?void 0:H.confirmation_text);break}c.current&&R(!1)},F=j=>{i(h),o(w),n(j)},z=f==null?void 0:f[e];return N.createElement("form",{id:e==="sign_in"?"auth-sign-in":"auth-sign-up",onSubmit:I,autoComplete:"on",style:{width:"100%"}},N.createElement(Zt,{direction:"vertical",gap:"large",appearance:v},N.createElement(Zt,{direction:"vertical",gap:"large",appearance:v},N.createElement("div",null,N.createElement(qr,{htmlFor:"email",appearance:v},z==null?void 0:z.email_label),N.createElement(Kr,{id:"email",type:"email",name:"email",placeholder:z==null?void 0:z.email_input_placeholder,defaultValue:h,onChange:j=>m(j.target.value),autoComplete:"email",appearance:v})),N.createElement("div",null,N.createElement(qr,{htmlFor:"password",appearance:v},z==null?void 0:z.password_label),N.createElement(Kr,{id:"password",type:"password",name:"password",placeholder:z==null?void 0:z.password_input_placeholder,defaultValue:w,onChange:j=>C(j.target.value),autoComplete:e==="sign_in"?"current-password":"new-password",appearance:v})),y),N.createElement(Mi,{type:"submit",color:"primary",loading:E,appearance:v},E?z==null?void 0:z.loading_button_label:z==null?void 0:z.button_label),s&&N.createElement(Zt,{direction:"vertical",gap:"small",appearance:v},e===xe.SIGN_IN&&g&&N.createElement(pn,{href:"#auth-magic-link",onClick:j=>{j.preventDefault(),n(xe.MAGIC_LINK)},appearance:v},(S=f==null?void 0:f.magic_link)==null?void 0:S.link_text),e===xe.SIGN_IN&&N.createElement(pn,{href:"#auth-forgot-password",onClick:j=>{j.preventDefault(),n(xe.FORGOTTEN_PASSWORD)},appearance:v},(_=f==null?void 0:f.forgotten_password)==null?void 0:_.link_text),e===xe.SIGN_IN?N.createElement(pn,{href:"#auth-sign-up",onClick:j=>{j.preventDefault(),F(xe.SIGN_UP)},appearance:v},(p=f==null?void 0:f.sign_up)==null?void 0:p.link_text):N.createElement(pn,{href:"#auth-sign-in",onClick:j=>{j.preventDefault(),F(xe.SIGN_IN)},appearance:v},(d=f==null?void 0:f.sign_in)==null?void 0:d.link_text))),O&&N.createElement(er,{appearance:v},O),x&&N.createElement(er,{color:"danger",appearance:v},x))}function n_({setAuthView:e=()=>{},supabaseClient:t,redirectTo:r,i18n:n,appearance:i,showLinks:o=!1}){var l;const[s,a]=D.useState(""),[u,g]=D.useState(""),[f,v]=D.useState(""),[y,S]=D.useState(!1),_=async d=>{var c;d.preventDefault(),g(""),v(""),S(!0);const{error:h}=await t.auth.resetPasswordForEmail(s,{redirectTo:r});h?g(h.message):v((c=n==null?void 0:n.forgotten_password)==null?void 0:c.confirmation_text),S(!1)},p=n==null?void 0:n.forgotten_password;return N.createElement("form",{id:"auth-forgot-password",onSubmit:_},N.createElement(Zt,{direction:"vertical",gap:"large",appearance:i},N.createElement(Zt,{gap:"large",direction:"vertical",appearance:i},N.createElement("div",null,N.createElement(qr,{htmlFor:"email",appearance:i},p==null?void 0:p.email_label),N.createElement(Kr,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:p==null?void 0:p.email_input_placeholder,onChange:d=>a(d.target.value),appearance:i})),N.createElement(Mi,{type:"submit",color:"primary",loading:y,appearance:i},y?p==null?void 0:p.loading_button_label:p==null?void 0:p.button_label),o&&N.createElement(pn,{href:"#auth-sign-in",onClick:d=>{d.preventDefault(),e(xe.SIGN_IN)},appearance:i},(l=n==null?void 0:n.sign_in)==null?void 0:l.link_text),f&&N.createElement(er,{appearance:i},f),u&&N.createElement(er,{color:"danger",appearance:i},u))))}function i_({supabaseClient:e,i18n:t,appearance:r}){const[n,i]=D.useState(""),[o,l]=D.useState(""),[s,a]=D.useState(""),[u,g]=D.useState(!1),f=async y=>{var S;y.preventDefault(),l(""),a(""),g(!0);const{error:_}=await e.auth.updateUser({password:n});_?l(_.message):a((S=t==null?void 0:t.update_password)==null?void 0:S.confirmation_text),g(!1)},v=t==null?void 0:t.update_password;return N.createElement("form",{id:"auth-update-password",onSubmit:f},N.createElement(Zt,{gap:"large",direction:"vertical",appearance:r},N.createElement("div",null,N.createElement(qr,{htmlFor:"password",appearance:r},v==null?void 0:v.password_label),N.createElement(Kr,{id:"password",name:"password",placeholder:v==null?void 0:v.password_input_placeholder,type:"password",autoFocus:!0,onChange:y=>i(y.target.value),appearance:r})),N.createElement(Mi,{type:"submit",color:"primary",loading:u,appearance:r},u?v==null?void 0:v.loading_button_label:v==null?void 0:v.button_label),s&&N.createElement(er,{appearance:r},s),o&&N.createElement(er,{color:"danger",appearance:r},o)))}function J4({setAuthView:e=()=>{},supabaseClient:t,otpType:r="email",i18n:n,appearance:i,showLinks:o=!1}){var l;const[s,a]=D.useState(""),[u,g]=D.useState(""),[f,v]=D.useState(""),[y,S]=D.useState(""),[_,p]=D.useState(""),[d,c]=D.useState(!1),h=async w=>{w.preventDefault(),S(""),p(""),c(!0);let C={email:s,token:f,type:r};["sms","phone_change"].includes(r)&&(C={phone:u,token:f,type:r});const{error:x}=await t.auth.verifyOtp(C);x&&S(x.message),c(!1)},m=n==null?void 0:n.verify_otp;return N.createElement("form",{id:"auth-magic-link",onSubmit:h},N.createElement(Zt,{gap:"large",direction:"vertical",appearance:i},["sms","phone_change"].includes(r)?N.createElement("div",null,N.createElement(qr,{htmlFor:"phone",appearance:i},m==null?void 0:m.phone_input_label),N.createElement(Kr,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:m==null?void 0:m.phone_input_placeholder,onChange:w=>g(w.target.value),appearance:i})):N.createElement("div",null,N.createElement(qr,{htmlFor:"email",appearance:i},m==null?void 0:m.email_input_label),N.createElement(Kr,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:m==null?void 0:m.email_input_placeholder,onChange:w=>a(w.target.value),appearance:i})),N.createElement("div",null,N.createElement(qr,{htmlFor:"token",appearance:i},m==null?void 0:m.token_input_label),N.createElement(Kr,{id:"token",name:"token",type:"text",placeholder:m==null?void 0:m.token_input_placeholder,onChange:w=>v(w.target.value),appearance:i})),N.createElement(Mi,{color:"primary",type:"submit",loading:d,appearance:i},d?m==null?void 0:m.loading_button_label:m==null?void 0:m.button_label),o&&N.createElement(pn,{href:"#auth-sign-in",onClick:w=>{w.preventDefault(),e(xe.SIGN_IN)},appearance:i},(l=n==null?void 0:n.sign_in)==null?void 0:l.link_text),_&&N.createElement(er,{appearance:i},_),y&&N.createElement(er,{color:"danger",appearance:i},y)))}const s_=D.createContext({user:null,session:null}),Z4=e=>{const{supabaseClient:t}=e,[r,n]=D.useState(null),[i,o]=D.useState((r==null?void 0:r.user)??null);D.useEffect(()=>{(async()=>{var a;const{data:u}=await t.auth.getSession();n(u.session),o(((a=u.session)==null?void 0:a.user)??null)})();const{data:s}=t.auth.onAuthStateChange(async(a,u)=>{n(u),o((u==null?void 0:u.user)??null)});return()=>{s==null||s.subscription.unsubscribe()}},[]);const l={session:r,user:i};return N.createElement(s_.Provider,{value:l,...e})},Q4=()=>{const e=D.useContext(s_);if(e===void 0)throw new Error("useUser must be used within a UserContextProvider.");return e};function Oi({supabaseClient:e,socialLayout:t="vertical",providers:r,providerScopes:n,queryParams:i,view:o="sign_in",redirectTo:l,onlyThirdPartyProviders:s=!1,magicLink:a=!1,showLinks:u=!0,appearance:g,theme:f="default",localization:v={variables:{}},otpType:y="email",additionalData:S,children:_}){const p=ic(C4,v.variables??{}),[d,c]=D.useState(o),[h,m]=D.useState(""),[w,C]=D.useState(""),x=d==="sign_in"||d==="sign_up"||d==="magic_link";D.useEffect(()=>{var R,O;e_({theme:ic(((R=g==null?void 0:g.theme)==null?void 0:R.default)??{},((O=g==null?void 0:g.variables)==null?void 0:O.default)??{})})},[g]);const b=({children:R})=>{var O;return N.createElement("div",{className:f!=="default"?_4(ic(g==null?void 0:g.theme[f],((O=g==null?void 0:g.variables)==null?void 0:O[f])??{})):""},x&&N.createElement(Y4,{appearance:g,supabaseClient:e,providers:r,providerScopes:n,queryParams:i,socialLayout:t,redirectTo:l,onlyThirdPartyProviders:s,i18n:p,view:d}),!s&&R)};D.useEffect(()=>{const{data:R}=e.auth.onAuthStateChange(O=>{O==="PASSWORD_RECOVERY"?c("update_password"):O==="USER_UPDATED"&&c("sign_in")});return c(o),()=>R.subscription.unsubscribe()},[o]);const E={supabaseClient:e,setAuthView:c,defaultEmail:h,defaultPassword:w,setDefaultEmail:m,setDefaultPassword:C,redirectTo:l,magicLink:a,showLinks:u,i18n:p,appearance:g};switch(d){case xe.SIGN_IN:return N.createElement(b,null,N.createElement(sp,{...E,authView:"sign_in"}));case xe.SIGN_UP:return N.createElement(b,null,N.createElement(sp,{appearance:g,supabaseClient:e,authView:"sign_up",setAuthView:c,defaultEmail:h,defaultPassword:w,setDefaultEmail:m,setDefaultPassword:C,redirectTo:l,magicLink:a,showLinks:u,i18n:p,additionalData:S,children:_}));case xe.FORGOTTEN_PASSWORD:return N.createElement(b,null,N.createElement(n_,{appearance:g,supabaseClient:e,setAuthView:c,redirectTo:l,showLinks:u,i18n:p}));case xe.MAGIC_LINK:return N.createElement(b,null,N.createElement(r_,{appearance:g,supabaseClient:e,setAuthView:c,redirectTo:l,showLinks:u,i18n:p}));case xe.UPDATE_PASSWORD:return N.createElement(i_,{appearance:g,supabaseClient:e,i18n:p});case xe.VERIFY_OTP:return N.createElement(J4,{appearance:g,supabaseClient:e,otpType:y,i18n:p});default:return null}}Oi.ForgottenPassword=n_;Oi.UpdatePassword=i_;Oi.MagicLink=r_;Oi.UserContextProvider=Z4;Oi.useUser=Q4;_r({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});const e5=()=>L.jsxs(qm,{className:"w-full max-w-md mx-auto",children:[L.jsxs(Xm,{children:[L.jsx(Ym,{children:"Welcome"}),L.jsx(Jm,{children:"Sign in to access all features"})]}),L.jsx(Zm,{children:L.jsx(Oi,{supabaseClient:Et,appearance:{theme:y4,variables:{default:{colors:{brand:"rgb(var(--primary))",brandAccent:"rgb(var(--primary-foreground))"}}}},providers:["github","google"]})})]}),t5=()=>{const[e,t]=D.useState([]),{user:r,addWindow:n}=vt();D.useEffect(()=>{r&&i()},[r]);const i=async()=>{try{const{data:l,error:s}=await Et.from("installed_apps").select(`
          id,
          app_id,
          desktop_icon,
          apps (
            component_code
          )
        `).eq("user_id",r==null?void 0:r.id);if(s){console.error("Error fetching installed apps:",s);return}const a=(l||[]).map(u=>{var g;return{id:u.id,app_id:u.app_id,desktop_icon:u.desktop_icon,app_data:{component_code:(g=u.apps[0])==null?void 0:g.component_code}}});t(a)}catch(l){console.error("Error fetching installed apps:",l)}},o=l=>{n({id:l.desktop_icon.id,title:l.desktop_icon.title,type:"custom",component_code:l.app_data.component_code,minimized:!1,maximized:!1,position:{x:100,y:100},size:{width:800,height:600}})};return L.jsx("div",{className:"fixed inset-0 pointer-events-none",children:L.jsx("div",{className:"absolute inset-0 pointer-events-auto",children:e.map(l=>L.jsx(Om,{default:{x:l.desktop_icon.position.x,y:l.desktop_icon.position.y,width:80,height:90},dragGrid:[20,20],bounds:"parent",children:L.jsxs("div",{className:"flex flex-col items-center p-2 rounded hover:bg-white/10 cursor-pointer",onDoubleClick:()=>o(l),children:[L.jsx("img",{src:l.desktop_icon.icon_url,alt:l.desktop_icon.title,className:"w-16 h-16 object-cover rounded"}),L.jsx("span",{className:"mt-1 text-sm text-white text-center break-words w-full",children:l.desktop_icon.title})]})},l.desktop_icon.id))})})};function r5(){const{windows:e,user:t,setUser:r,userPreferences:n,showAuth:i,setShowAuth:o}=vt();return D.useEffect(()=>{Et.auth.getSession().then(({data:{session:s}})=>{r((s==null?void 0:s.user)??null)});const{data:{subscription:l}}=Et.auth.onAuthStateChange((s,a)=>{r((a==null?void 0:a.user)??null),a!=null&&a.user&&o(!1)});return()=>l.unsubscribe()},[]),D.useEffect(()=>{t&&(async()=>{const{data:s,error:a}=await Et.from("user_preferences").select("*").eq("user_id",t.id).single();if(a&&a.code!=="PGNF"){console.error("Error fetching preferences:",a);return}s&&vt.setState({userPreferences:{...n,background_url:s.background_url}})})()},[t]),L.jsx("div",{className:"h-screen w-screen relative bg-cover bg-center",style:{backgroundImage:`url(${n.background_url})`},children:L.jsxs("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-[2px]",children:[L.jsx(HE,{}),L.jsx(t5,{}),e.map(l=>L.jsx(W3,{...l},l.id)),L.jsx(WE,{}),i&&L.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",children:L.jsx("div",{className:"bg-gray-900 p-6 rounded-lg shadow-xl w-full max-w-md",children:L.jsx(e5,{})})})]})})}yv(document.getElementById("root")).render(L.jsx(D.StrictMode,{children:L.jsx(r5,{})}));export{Fs as g};
